!function(){"use strict";angular.module("onosApp").directive("resize",["$window","FnService",function(t,r){return{scope:{offsetHeight:"@",offsetWidth:"@",notifier:"&"},link:function(n,e){var o=d3.select(e[0]);n.$watchCollection(function(){return{h:t.innerHeight,w:t.innerWidth}},function(){var e=n.offsetHeight||0,t=n.offsetWidth||0,i=r.windowSize(e,t);o.style({height:i.height+"px",width:i.width+"px"}),r.isF(n.notifier)&&n.notifier()}),angular.element(t).bind("resize",function(){n.$apply()})}}}]).directive("ngRepeatComplete",[function(){return function(e){e.$last&&(e.$emit("ngRepeatComplete"),e.$broadcast("ngRepeatComplete"))}}])}();
!function(){"use strict";angular.module("onosUtil",[])}();
!function(){"use strict";var u,l={edge:"left"};function s(e){return u.bundle("core.fw.Mast")(e)}angular.module("onosMast",["onosNav"]).controller("MastCtrl",["$log","$scope","$location","$window","WebSocketService","NavService","DialogService","LionService",function(i,o,t,r,e,n,a,c){function d(e){var n,o=s("add"===e?"uicomp_added":"uicomp_removed"),t=s("ui_ok_to_update");a.openDialog("app-dialog",l).setTitle(s("confirm_refresh_title")).addContent(((n=a.createDiv()).append("p").text(o+" "+t),n)).addOk(function(){i.debug("Refreshing GUI"),r.location.reload()}).addCancel(function(){i.debug("Canceling GUI refresh")}).bindKeys()}u=c,o.lion=s,e.bindHandlers({guiAdded:function(){d("add")},guiRemoved:function(){d("rem")}}),this.toggleNav=function(){n.toggleNav()},o.username=function(){return onosUser||s("unknown_user")},o.helpTip="",o.directTo=function(){var e=t.path().replace("/",""),n=o.onos.viewMap[e];r.open(n)},i.log("MastCtrl has been created")}]).factory("MastService",["FnService",function(e){return{mastHeight:function(){return e.isMobile()?64:48}}}])}();
!function(){"use strict";var t,e,r,l,a=!1;function n(){var n=a?"visible":"hidden";d3.select("#nav").style("visibility",n)}function v(){a=!0,n()}function c(){a=!1,n()}function u(){a=!a,n()}function s(){return!!a&&(c(),!0)}function f(n,a){var i;if(!n)return t.warn("Not a valid navigation path"),null;e.url("/"+n),l.isO(a)?e.search(a):void 0!==a&&t.warn("Query params not an object",a),i=e.absUrl(),t.log("Navigating to ",i),r.location.href=i}angular.module("onosNav",[]).controller("NavCtrl",["$log",function(n){t=n,this.hideNav=c,t.log("NavCtrl has been created")}]).factory("NavService",["$log","$location","$window","FnService",function(n,a,i,o){return t=n,e=a,r=i,l=o,{showNav:v,hideNav:c,toggleNav:u,hideIfShown:s,navTo:f}}])}();
!function(){"use strict";angular.module("onosSvg",["onosUtil"])}();
!function(){"use strict";angular.module("onosRemote",["onosUtil"])}();
!function(){"use strict";angular.module("onosWidget",[])}();
!function(){"use strict";angular.module("onosLayer",["onosUtil"])}();
!function(){var o,c,s,p,r,l,t,a,i,d,u,f,v,h={},b=28,g=110,y=80;function m(e,n){return scope=(d=n).scope,t=o.createPanel(e,d),a=c.noPxStyle(d3.select(".tabular-header"),"height")+s.mastHeight()+b,i=c.windowSize(a),pHeight=i.height,t.el().style({position:"absolute",top:a+"px"}),S(),t}function S(){t.hide()}function x(e,n){var t={};t[e]=n,p.bindHandlers(t),h=_.extend({},h,t)}function k(){u=t.append("div").classed("container",!0),f=u.append("div").classed("top",!0),v=u.append("div").classed("bottom",!0)}function C(e){var n=f.append("div").classed("close-btn",!0);r.loadEmbeddedIcon(n,"close",20),n.on("click",e||function(){})}function H(e,n){f.append("div").classed("iconDiv "+e,!0),n?new l(f.append("h2"),{scope:d.scope,nameChangeRequest:d.nameChangeRequest,keyBindings:d.keyBindings}):f.append("h2")}function P(e,n){return e.append("div").classed(n,!0).append("table")}function w(e,n,t){var a=e.append("tr");function i(e,n,t){a.append("td").attr("class",e).attr("width",t).text(n)}i("label",n+" :",g),i("value",t,y)}function B(e,n){var t=e.append("div").classed("top-tables",!0),a=P(t,"left").append("tbody"),i=P(t,"right").append("tbody"),d=_.keys(n);_.each(n,function(e,n){d.indexOf(n)<d.length/2?w(a,n,e):w(i,n,e)})}function R(){t.empty()}function q(e){return t.el().select(e)}function D(){p.unbindHandlers(h)}angular.module("onosLayer").factory("DetailsPanelService",["PanelService","FnService","MastService","WebSocketService","IconService","EditableTextComponent",function(e,n,t,a,i,d){return o=e,c=n,s=t,p=a,r=i,l=d,{create:m,setResponse:x,addContainers:k,addCloseButton:C,addHeading:H,addPropsList:B,container:function(){return u},top:function(){return f},bottom:function(){return v},select:q,empty:R,hide:S,destroy:D}}])}();
!function(){"use strict";var o,s,c,r,p,f,y,u={width:300,edge:"left"},g={};function t(e,n){var t,d,o,r=angular.extend({},u,n),a=c.createPanel(e,r),i=n&&n.cssCls;return a.classed("dialog",!0),i&&a.classed(i,!0),f=a,{reset:function(){a.empty(),a.append("div").classed("header",!0),a.append("div").classed("body",!0),a.append("div").classed("footer",!0),t=a.el().select(".header"),d=a.el().select(".body"),o=a.el().select(".footer")},appendHeader:function(e){return"string"==typeof e?t.append(e):(t.node().appendChild(e.node()),t)},appendBody:function(e){return"string"==typeof e?d.append(e):(d.node().appendChild(e.node()),d)},appendFooter:function(e){return"string"==typeof e?o.append(e):(o.node().appendChild(e.node()),o)},destroy:function(){c.destroyPanel(e)}}}function d(e){return p&&p.appendHeader("h2").text(e),y}function a(e){return p&&p.appendBody(e),y}function i(e,n,t,d){function o(){u&&u(),c||(b(),f.hide())}var r,a,i,c,u,l;return p&&p.appendFooter((r=e,a=n,i=t,c=d,u=s.isF(r),(l=s.isS(i))&&(g[l]=o),K("dialog-button").text(a).on("click",o))),y}function l(e,n,t){return i(e,n||"OK","enter",t)}function v(e,n){return l(e,n,!1)}function h(e,n){return l(e,n,!0)}function C(e,n){return i(e,n||"Cancel","esc")}function b(){g={},r.dialogKeys()}function D(e,n){return o.debug("Open DIALOG",e,n),(p=p||t(e,n)).reset(),f.show(),y={setTitle:d,addContent:a,addButton:i,addOk:v,addOkChained:h,addCancel:C,bindKeys:function(){r.dialogKeys(g)}}}function O(){o.debug("Close DIALOG"),p&&(b(),f.hide(),p.destroy(),y=p=null)}function K(e){var n=d3.select(document.createElement("div"));return e&&n.classed(e,!0),n}angular.module("onosLayer").factory("DialogService",["$log","FnService","PanelService","KeyService",function(e,n,t,d){return o=e,s=n,c=t,r=d,{openDialog:D,closeDialog:O,createDiv:K}}])}();
!function(){function t(e,i){this.el=e,this.scope=i.scope,this.options=i,this.el.classed("editable clickable",!0).on("click",this.onEdit.bind(this)),this.editingName=!1}var n,s;t.prototype={bindHandlers:function(){n.keyBindings({enter:this.save.bind(this),esc:[this.cancel.bind(this),"Close the details panel"]})},unbindHandlers:function(){n.unbindKeys(),this.options.keyBindings&&n.keyBindings(this.options.keyBindings)},addTextField:function(){return this.el.append("input").classed("name-input",!0).attr("type","text").attr("value",this.scope.panelData.name)[0][0]},onEdit:function(){if(!this.editingName){this.el.classed("editable clickable",!1),this.el.text("");var e=this.addTextField();e.focus(),e.select(),this.editingName=!0,this.bindHandlers(),n.enableGlobalKeys(!1)}},exit:function(e){this.el.text(e),this.el.classed("editable clickable",!0),this.editingName=!1,n.enableGlobalKeys(!0),this.unbindHandlers()},cancel:function(e,i,t){return!!this.editingName&&(this.exit(this.scope.panelData.name),!0)},save:function(){var e,i,t=this.scope.panelData.id;this.editingName&&(i=(e=this.el.select("input").property("value").trim())||t,this.exit(i),this.scope.panelData.name=i,s.sendEvent(this.options.nameChangeRequest,{id:t,name:e}))}},angular.module("onosLayer").factory("EditableTextComponent",["KeyService","WebSocketService",function(e,i){return n=e,s=i,t}])}();
!function(){"use strict";var n,e,a,i,r,c={fade:200,showFor:1200},o="100%",l=200,s=20,d=10,u=10,h="-200 -"+l/2+" 400 "+l,f=null,v=[];function p(t){var e=t.select("text").node().getBBox();return e.x=-e.width/2,e.y=-e.height/2,e.x-=s,e.width+=2*s,e.y-=d,e.height+=2*d,e}function x(){var t=(r=r||i.append("svg").attr({width:o,height:l,viewBox:h})).selectAll(".flashItem").data(v);t.each(function(t){var e,n=d3.select(this);n.select("text").text(t),e=p(n),n.select("rect").attr(e)}),t.enter().append("g").attr({class:"flashItem",opacity:0}).transition().duration(e.fade).attr("opacity",1).each(function(t){var e,n=d3.select(this);n.append("rect").attr("rx",u),n.append("text").text(t),e=p(n),n.select("rect").attr(e)}),t.exit().transition().duration(e.fade).attr("opacity",0).remove(),r&&0===v.length&&(r.transition().delay(e.fade+10).remove(),r=null)}function g(t){a&&(f&&n.cancel(f),f=n(function(){v=[],x()},e.showFor),v=[t],x())}function y(t){a=!!t}function m(t){var e=d3.select("body").append("div").classed("centered",!0);return n(function(){e.remove()},void 0===t||t<100?3e3:t),e}angular.module("onosLayer").factory("FlashService",["$timeout",function(t){return n=t,{initFlash:function(t){e=angular.extend({},c,t),i=d3.select("#flash"),a=!0},flash:g,enable:y,tempDiv:m}}])}();
!function(){"use strict";var i,o,c,t,e,n,a,r,l,s="loading-anim",u="data/img/loading/",d="/load-",g=100,p=[];function f(){var t=Array.prototype.slice.call(arguments);t.unshift("loading"),c.debug.apply(this,t)}function m(t,e){return u+e+d+(9<t?"":"0")+t+".png"}function v(){a=16===a?1:a+1,e.attr("src",m(a,n)),r=i(v,g)}function h(){f("start ANIMATION"),n=o.theme(),(t=d3.select("#"+s)).empty()&&(t=d3.select("body").append("div").attr("id",s),e=t.append("img").attr("src",m(1,n)),a=1,r=i(v,g))}function y(){f("start (schedule)"),l=i(h,500)}function A(){l&&(f("start CANCELED"),i.cancel(l),l=null),f("*stop* ANIMATION"),r&&(i.cancel(r),r=null),d3.select("#"+s).remove()}function N(){return!!l}angular.module("onosLayer").factory("LoadingService",["$timeout","ThemeService","FnService","WebSocketService",function(t,e,n,a){i=t,o=e,c=n,function(){var n;function t(t){var e=new Image;e.src=m(n,t),p.push(e)}for(f("preload images start..."),n=1;n<=16;n++)t("light"),t("dark");f("preload images DONE!",p)}();var r={start:y,stop:A,waiting:N};return a._setLoadingDelegate(r),r}])}();
!function(){"use strict";var i,o,u,d,r={edge:"right",width:200,margin:20,hideMargin:20,xtnTime:750,fade:!0};function s(){(d=d3.select("#floatpanels")).text(""),u={}}function g(){}function c(e,n){return Number(e.el.style(n).replace(/px$/,""))}function f(e){return c(e,"width")}function h(e){return-e.settings.hideMargin-f(e)-2*c(e,"padding")+"px"}function a(e,n){var i={id:e,settings:n,on:!1,el:null},t={show:r,hide:s,toggle:function(e){i.on?s(e):r(e);return i.on},empty:function(){return i.el.text("")},append:function(e){return i.el.append(e)},width:a,height:l,bbox:function(){return i.el.node().getBoundingClientRect()},isVisible:function(){return i.on},classed:function(e,n){return i.el.classed(e,n)},el:function(){return i.el}};function r(e){var n=o.isF(e)||g;i.on=!0,i.el.transition().duration(i.settings.xtnTime).each("end",n).style(i.settings.edge,i.settings.margin+"px").style("opacity",1)}function s(e){var n=o.isF(e)||g,t=i.settings.fade?0:1;i.on=!1,i.el.transition().duration(i.settings.xtnTime).each("end",n).style(i.settings.edge,h(i)).style("opacity",t)}function a(e){if(void 0===e)return f(i);i.el.style("width",e+"px")}function l(e){if(void 0===e)return c(i,"height");i.el.style("height",e+"px")}return i.el=d.append("div").attr("id",e).attr("class","floatpanel").style("opacity",0),i.el.style(i.settings.edge,h(i)),a(i.settings.width),i.settings.height&&l(i.settings.height),u[e]=i,t}angular.module("onosLayer").factory("PanelService",["$log","$window","FnService",function(e,n,t){return i=e,o=t,{init:s,createPanel:function(e,n){var t=angular.extend({},r,n);return e?u[e]?(i.warn('Panel with ID "'+e+'" already exists'),null):(o.debugOn("widget")&&i.debug("creating panel:",e,t),a(e,t)):(i.warn("createPanel: no ID given"),null)},destroyPanel:function(e){var n;u[e]?(o.debugOn("widget")&&i.debug("destroying panel:",e),n=e,d.select("#"+n).remove(),delete u[n]):o.debugOn("widget")&&i.debug("no panel to destroy:",e)}}}])}();
!function(){"use strict";var i,w,u,o,s,c,l,p,e,n,d,h={fade:500},f="100%",v="80%",g="-200 0 400 400",y=10,x=45,m=20,b=16,k=12,A=8,B=[],q={equals:"=",slash:"/",backSlash:"\\",backQuote:"`",leftArrow:"L-arrow",upArrow:"U-arrow",rightArrow:"R-arrow",downArrow:"D-arrow"},Q=["globalKeys","globalFormat","viewKeys","viewGestures"];function S(a,t,e){var l=0,p="qh-r"+e+"-c";return t.forEach(function(t,e){!function(t,e,a){var r=p+a,n=0,i=t.append("g").attr("visibility","hidden"),o=t.append("g").attr({class:r,transform:u.translate(l,0)});e.forEach(function(t){var e=t[0],a=t[1];"-"!==e&&(i.append("text").text(e),o.append("text").text(e).attr({class:"key",y:n}),o.append("text").text(a).attr({class:"desc",y:n})),n+=k});var s=i.node().getBBox().width+A;o.selectAll(".desc").attr("x",s),i.remove();var c=o.node().getBBox();l+=c.width+b}(a,t,e)}),a.node().getBBox().height}function a(){var t=d.selectAll(".qhRow").data(B);c=x,t.enter().append("g").attr({class:"qhrow"}).each(function(t,e){var a,r,n=d3.select(this),i="sep"===t.type;n.attr("transform",u.translate(0,c)),i?(r=m/2-5,n.append("line").attr({class:"qhrowsep",x1:0,y1:r,x2:0,y2:r}),c+=m):(a=S(n,t.data,e),c+=a)});var e=d.node().getBBox(),a=e.width+2*y,r=e.height+x;d.selectAll(".qhrowsep").attr("x2",e.width),d.attr("transform",u.translate(-a/2,-y)),n.attr({width:a,height:r,transform:u.translate(-a/2-y,0)})}function E(c,t){var l=[];return t.forEach(function(t){var e,a,r=c.get(t),n=w.isA(r),i=n&&n[1],o=w.isF(i),s=o&&o()||i;"-"!==t&&!s||l.push([(e=t,a=q[e]||e,w.cap(a)),s])}),l}function H(){return{type:"row",data:[]}}function F(t,e){var a=H();return a.data.push(E(t,e)),a}function K(t){var e=t||{type:"sep"};B.push(e)}function r(t){var e,a,r,n,i,o,s,c,l,p,u,d="_helpFormat",h=d3.map(t.globalKeys),f=t.globalFormat,v=d3.map(t.viewKeys),g=t.viewGestures;a=v.get(d),r=w.isA(a),n=r&&r.length,o=i=0,e=n&&(r.forEach(function(t){w.isA(t)&&o++,w.isS(t)&&i++}),o===n||i===n)?r:null,v.remove(d),e=e||v.keys().sort(),B=[],K(F(h,f)),K(),K(w.isA(e[0])?(s=v,c=e,l=H(),c.forEach(function(t){l.data.push(E(s,t))}),l):F(v,e)),K(),K((p=g,(u=H()).data.push(p),u))}function L(t){e=p.append("g").attr({class:"help",opacity:0}),n=e.append("rect").attr("rx",8),e.append("text").text(o.bundle("core.fw.QuickHelp")("qh_title")).attr({class:"title",dy:"1.2em",transform:u.translate(-y,0)}),d=e.append("g"),r(t),a(),O(1)}function O(t){p.selectAll("g.help").transition().duration(s.fade).attr("opacity",t)}angular.module("onosLayer").factory("QuickHelpService",["$log","FnService","SvgUtilService","LionService",function(t,e,a,r){function n(){return!(p=l.select("svg")).empty()&&(O(0),p.transition().delay(s.fade+20).remove(),!0)}return i=t,w=e,u=a,o=r,{initQuickHelp:function(t){s=angular.extend({},h,w.isO(t)),l=d3.select("#quickhelp")},showQuickHelp:function(t){if(p=l.select("svg"),a="Quickhelp Service: showQuickHelp(), ",!((e=t)&&w.isO(e)&&!w.isEmptyObject(e)?Q.every(function(t){return t in e})||(i.warn(a+"needed bindings for help panel not provided:",Q),0):(i.warn(a+"invalid bindings object"),0)))return null;var e,a;p.empty()?(p=l.append("svg").attr({width:f,height:v,viewBox:g}),L(t)):n()},hideQuickHelp:n}}])}();
!function(){"use strict";var o,s,a,u,v,d;function y(){var e,t=a.windowSize(),i=t.width,r=t.height,n=.3*r,c=r-n,l=(i-c)/2;e=(d=d3.select("#veil")).select("svg").attr({width:i,height:r}).style("opacity",.2),v.addGlyph(e,"bird",c,!1,[l,n/2])}function h(e){var t=a.isA(e)||[e],i=d.select(".msg");i.selectAll("p").remove(),t.forEach(function(e){i.append("p").text(e)}),d.style("display","block"),u.enableKeys(!1)}function f(){d.style("display","none"),u.enableKeys(!0)}function g(e,t){s.current.$$route.controller===e?(o.debug("VEIL-service: ",e),h(t)):o.debug("VEIL-service: IGNORING ",e)}angular.module("onosLayer").factory("VeilService",["$log","$route","FnService","KeyService","GlyphService","WebSocketService",function(e,t,i,r,n,c){o=e,s=t,a=i,u=r,v=n;var l={init:y,show:h,hide:f,lostServer:g};return c._setVeilDelegate(l),l}])}();
!function(){"use strict";var c;angular.module("onosRemote").factory("RestService",["$log","$http","FnService","UrlFnService",function(t,a,s,o){return c=t,{get:function(t,r,e){var n=o.rsUrl(t);a.get(n).then(function(t){r(t.data)},function(t){var r="Failed to retrieve JSON data: "+n;c.warn(r,t.status,t.data),e&&e(r)})},post:function(t,r,e){var n=o.rsUrl(t);a.post(n,r).then(function(t){e&&s.isF(e.success)&&e.success(t.data)},function(t){var r="Problem with $http post request: "+n;c.warn(r,t.status,t.data),e&&s.isF(e.error)&&e.error(r)})}}}])}();
!function(){"use strict";var i="/onos/ui/";angular.module("onosRemote").factory("UrlFnService",["$location",function(e){function s(o,r,t){var n,s,u=e.absUrl().match(".*//[^/]+/(.+)"+i),c=u?"/"+u[1]:"";return n=o,("https"===(s=e.protocol())||"wss"===s?n+"s":n)+"://"+(t||e.host())+":"+(r||e.port())+c}return{rsUrl:function(o){return r="/onos/ui/rs/",s("http")+r+o;var r},wsUrl:function(o,r,t){return n="/onos/ui/websock/",s("ws",r,t)+n+o;var n}}}])}();
!function(){"use strict";var a,c,u,s,d,l,t,n,o,i,f,v=null,p=!1,g={},h=[],b=[],S=-1,O=0,w={},y=1,m=null,k={bootstrap:function(e){a.debug("bootstrap data",e),m=e.user,(b=e.clusterNodes).forEach(function(e,n){e.uiAttached&&(S=n,a.info("Connected to cluster node "+e.ip))}),e.glyphs.forEach(function(e,n){var r={};r["_"+e.id]=e.viewbox,r[e.id]=e.path,s.registerGlyphs(r)})},error:function(e){var n=e.message||"error from server";a.error(n,e),t&&t.show(["Oops!","Server reports error...",n])}};function W(){var n,r;a.info("Web socket open - ",f),t&&t.hide(),u.debugOn("txrx")&&a.debug("Sending "+h.length+" pending event(s)..."),h.forEach(function(e){F(e)}),h=[],p=!(O=0),n=i,r=f,angular.forEach(w,function(e){e.cb(n,r)})}function x(n){var r,e;try{r=JSON.parse(n.data)}catch(e){return a.error("Message.data is not valid JSON",n.data,e),null}if(u.debugOn("txrx")&&a.debug(" << *Rx* ",r.event,r.payload),e=g[r.event])try{e(r.payload)}catch(e){return a.error("Problem handling event:",r,e),null}else a.warn("Unhandled event:",r)}function E(){var e;a.warn("Web socket closed"),n&&n.stop(),p=!1,(e=function(){var e,n,r=b.length;for(;O<r&&!e;)O++,n=b[S=(S+1)%r],e=n&&n.ip;return e}())?N(o,e):t&&t.show(["Oops!","Web-socket connection to server closed...","Try refreshing the page."])}function F(e){u.debugOn("txrx")&&a.debug(" *Tx* >> ",e.event,e.payload),v.send(JSON.stringify(e))}function r(e,n){return!(e&&!u.isEmptyObject(e))&&(a.warn("WSS."+n+"(): no event handlers"),!0)}function L(){v=null,p=!1,f=i=o=void 0,h=[],g={},b=[],S=-1,O=0,w={},y=1}function N(e,n){var r=e&&e.wsport||null;return o=e,i=n||c.host(),f=d.wsUrl("core",r,n),a.debug("Attempting to open websocket to: "+f),(v=l.newWebSocket(f))&&(v.onopen=W,v.onmessage=x,v.onclose=E,_("authentication",{token:onosAuth})),f}function H(e){var t=[];if(r(e,"bindHandlers"))return null;d3.map(e).forEach(function(e,n){var r=u.isF(n)||u.isF(n[e]);r?g[e]?t.push(e):g[e]=r:a.warn(e+" handler not a function")}),t.length&&a.warn("duplicate bindings ignored:",t)}function U(e){if(r(e,"unbindHandlers"))return null;d3.map(e).forEach(function(e){delete g[e]})}function A(e){var n=y++,r=u.isF(e),t={id:n,cb:r};return r?w[n]=t:(a.error("WSS.addOpenListener(): callback not a function"),t.error="No callback defined"),t}function J(e){var n=u.isO(e)&&e.id;if(!n)return a.warn("WSS.removeOpenListener(): invalid listener",e),null;w[n]&&delete w[n]}function _(e,n){var r={event:e,payload:n||{}};p?F(r):h.push(r)}function C(e){t=e}function D(e){n=e}angular.module("onosRemote").factory("WebSocketService",["$log","$location","FnService","GlyphService","UrlFnService","WSock",function(e,n,r,t,o,i){return a=e,c=n,u=r,s=t,d=o,l=i,H(k),{resetState:L,createWebSocket:N,bindHandlers:H,unbindHandlers:U,addOpenListener:A,removeOpenListener:J,sendEvent:_,isConnected:function(){return p},loggedInUser:function(){return m||"(no-one)"},_setVeilDelegate:C,_setLoadingDelegate:D}}])}();
!function(){"use strict";angular.module("onosRemote").factory("WSock",["$log",function(o){return{newWebSocket:function(e){var t=null;try{t=new WebSocket(e)}catch(e){o.error("Unable to create web socket:",e)}return t}}}])}();
!function(){"use strict";var n,r,c,i=d3.map(),l="data/map/";function o(){i=d3.map()}function s(a){if(!c.isS(a))return null;var t,e="*"===(t=a)[0]?l+t.slice(1)+".topojson":t+".topojson",o=i.get(a);return o?o.meta.wasCached=!0:((o=r.get(e)).meta={id:a,url:e,wasCached:!1},o.then(function(a){o.topodata=a.data},function(a){n.warn("Failed to retrieve map TopoJSON data: "+e,a.status,a.data)}),i.set(a,o)),o}var u={objectTag:"states",projection:d3.geo.mercator(),logicalSize:1e3,mapFillScale:.95};function d(a,t){var e=angular.extend({},u,t),o=a.objects[e.objectTag],n=topojson.feature(a,o),r=e.projection,c=e.logicalSize,i=e.mapFillScale,l=d3.geo.path().projection(r);return p(r,i,c,l,n,t.adjustScale),{geodata:n,pathgen:l,settings:e}}function p(a,t,e,o,n,r){var c=r||1;a.scale(1).translate([0,0]);var i=o.bounds(n),l=i[0][0],s=i[0][1],u=i[1][0],d=i[1][1],p=u-l,g=d-s,f=(l+u)/2,j=(s+d)/2,m=t/Math.min(p/e,g/e)*c,h=[e/2-m*f,e/2-m*j];a.scale(m).translate(h)}angular.module("onosSvg").factory("GeoDataService",["$log","$http","FnService",function(a,t,e){return n=a,r=t,c=e,{clearCache:o,fetchTopoData:s,createPathGenerator:d,rescaleProjection:p}}])}();
!function(){"use strict";var i,c,l,o,a,u=d3.map(),r="GlyphService.",t="registerGlyphs(): ",f="registerGlyphSet(): ";function s(n){i.warn(r+n)}function h(n,r,e,t,i){!t&&u.get(n)?i.push(n):u.set(n,{id:n,vb:e,d:r})}function p(n,r){var e=0==n.length;return e||n.forEach(function(n){s(r+'ID collision: "'+n+'"')}),e}function g(){u=d3.map()}function d(){o.registerCoreGlyphs(a)}function v(i,o){var n,r,e,a=[],u=[];return angular.forEach(i,function(n,r){var e="_"+r,t=i[e];if("_"!==r[0]){if(!t)return void u.push(e);h(r,n,t,o,a)}}),p(a,t)&&(r=t,(e=0==(n=u).length)||n.forEach(function(n){s(r+'Missing viewbox property: "'+n+'"')}),e)}function y(n,e){var t=[],i=n._viewbox;return i?(angular.forEach(n,function(n,r){"_"!==r[0]&&h(r,n,i,e,t)}),p(t,f)):(s(f+'no "_viewbox" property found'),!1)}function G(){return u.keys()}function S(n){return u.get(n)}function b(n){return u.has(n)}function m(e,n,t){var r=c.isA(n)||G();t||e.html(null),r.forEach(function(n){var r=S(n);if(r){if(t&&0<e.select("symbol#"+r.id).size())return;e.append("symbol").attr({id:r.id,viewBox:r.vb}).append("path").attr("d",r.d)}})}function w(n,r,e,t,i){var o=e||40,a=!!t,u={width:o,height:o,class:"glyph","xlink:href":"#"+r};return c.isA(i)&&(u.transform=l.translate(i)),n.append("use").attr(u).classed("overlay",a)}angular.module("onosSvg").factory("GlyphService",["$log","FnService","SvgUtilService","GlyphDataService",function(n,r,e,t){return i=n,c=r,l=e,o=t,a={clear:g,init:d,registerGlyphs:v,registerGlyphSet:y,ids:G,glyph:S,glyphDefined:b,loadDefs:m,addGlyph:w}}]).run(["$log",function(n){n.debug("Clearing glyph cache"),g()}])}();
!function(){"use strict";var c={_bird:"352 224 113 112",bird:"M427.7,300.4 c-6.9,0.6-13.1,5-19.2,7.1c-18.1,6.2-33.9,9.1-56.5,4.7c24.6,17.2,36.6,13,63.7,0.1c-0.5,0.6-0.7,1.3-1.3,1.9c1.4-0.4,2.4-1.7,3.4-2.2c-0.4,0.7-0.9,1.5-1.4,1.9c2.2-0.6,3.7-2.3,5.9-3.9c-2.4,2.1-4.2,5-6,8c-1.5,2.5-3.1,4.8-5.1,6.9c-1,1-1.9,1.9-2.9,2.9c-1.4,1.3-2.9,2.5-5.1,2.9c1.7,0.1,3.6-0.3,6.5-1.9c-1.6,2.4-7.1,6.2-9.9,7.2c10.5-2.6,19.2-15.9,25.7-18c18.3-5.9,13.8-3.4,27-14.2c1.6-1.3,3-1,5.1-0.8c1.1,0.1,2.1,0.3,3.2,0.5c0.8,0.2,1.4,0.4,2.2,0.8l1.8,0.9c-1.9-4.5-2.3-4.1-5.9-6c-2.3-1.3-3.3-3.8-6.2-4.9c-7.1-2.6-11.9,11.7-11.7-5c0.1-8,4.2-14.4,6.4-22c1.1-3.8,2.3-7.6,2.4-11.5c0.1-2.3,0-4.7-0.4-7c-2-11.2-8.4-21.5-19.7-24.8c-1-0.3-1.1-0.3-0.9,0c9.6,17.1,7.2,38.3,3.1,54.2C429.9,285.5,426.7,293.2,427.7,300.4z",_cord:"0 0 110 110",cord:"M92.5,62.3l-33,33,2.5,2.5c4.1,4.1,7.4,3.6,11.2-.1L95.9,75l-4.5-4.5,4.7-4.7-3.6-3.6Zm2.6,7L98.4,66l3.3,3.3-3.3,3.3-3.3-3.3ZM94.5,60l4.9-4.9,4.9,4.9-4.9,4.9ZM36.2,36.1L18.6,53.8c-7.8,7.8-5.8,17.4-2.4,22l-2.2-2.2c-10.6-10.6-11.2-20,0-31.2L28.2,28.1L31.3,25l8,8-3.1,3.1ZM55.5,55.4l3.6-3.6L66.9,44l-8-8l-2.5,2.5-5.2,5.2l-3.6,3.6L33.2,61.6C22,72.7,22.5,82.2,33.2,92.8L35.4,95c-3.4-4.5-5.4-14.1,2.4-22L55.5,55.4ZM50.7,21.7l-8-8L35,21.2l8,8,7.6-7.6ZM62.8,9.6L55.4,17l-8-8,7.4-7.4,8,8Zm0.7,18.3-7.6,7.6-8-8,7.6-7.6,8,8Zm26.1-6.6-8.1,8.1-8-8,8.1-8.1,8,8ZM79.3,31.5l-7.4,7.4-8-8,7.4-7.4,8,8ZM45.7,45.6L54.3,37l-8-8-8.6,8.6L23.4,51.8C12.2,63,12.8,72.4,23.4,83l2.2,2.2c-3.4-4.5-5.4-14.1,2.4-22ZM34.9,80.7l20.6,20.5c2,2,4.6,4.1,7.9,3.2-2.9,2.9-8.9,1.7-11.9-1.3L35.1,86.8,35,86.6H34.9l-0.8-.8a15,15,0,0,1,.1-1.9,14.7,14.7,0,0,1,.7-3.2Zm-0.6,7.4a21.3,21.3,0,0,0,5.9,11.7l5.7,5.7c3,3,9,4.1,11.9,1.3-3.3.9-5.9-1.2-7.9-3.2L34.3,88.1Zm3.5-12.4a16.6,16.6,0,0,0-2.3,3.6L57,100.8c3,3,9,4.1,11.9,1.3-3.3.9-5.9-1.2-7.9-3.2Z"},a="M6.3,5.3h8.5v14.2h-8.5zM95.3,5.3h8.5v14.2h-8.5zM18.5,5.3h15.6v14.2h-15.6zM37.9,5.3h15.6v14.2h-15.6zM57,5.3h15.6v14.2h-15.6zM76.1,5.3h15.6v14.2h-15.6zM6.3,23.9h97.5v80.75h-97.5z",l="M10,20a10,10,0,0,1,10-10h70a10,10,0,0,1,10,10v70a10,10,0,0,1-10,10h-70a10,10,0,0,1-10-10z",M="M10,35l25-25h40l25,25v40l-25,25h-40l-25-25z",H="M58,26l12,0,0-8,18,13-18,13,0-8-12,0zM58,60l12,0,0-8,18,13-18,13,0-8-12,0zM52,40l-12,0,0-8-18,13,18,13,0-8,12,0zM52,74l-12,0,0-8-18,13,18,13,0-8,12,0z",h="M47.2,68.4L31.1,84.5,25.6,79,41.7,62.9ZM76.3,30.6A3.4,3.4,0,0,0,72.9,34a3.3,3.3,0,0,0,.3,1.3L44.7,63.7l1.7,1.7L74.8,37a3.2,3.2,0,0,0,1.5.4A3.4,3.4,0,1,0,76.3,30.6Zm0.9-2.9V23.8a0.8,0.8,0,0,0-.8-0.8H76.1a0.8,0.8,0,0,0-.8.8v3.9a0.8,0.8,0,0,0,.8.8h0.3A0.8,0.8,0,0,0,77.2,27.7Zm3.5,3.2,3.6-3.6a0.9,0.9,0,0,0,0-1.2H84.3a0.9,0.9,0,0,0-1.2,0l-3.6,3.6a0.9,0.9,0,0,0,0,1.2h0.1A0.9,0.9,0,0,0,80.7,30.9Zm1.8,4h3.9a0.8,0.8,0,0,0,.8-0.8V33.7a0.8,0.8,0,0,0-.8-0.8H82.6a0.8,0.8,0,0,0-.8.8V34A0.8,0.8,0,0,0,82.6,34.8Zm-16.3.1h3.9a0.8,0.8,0,0,0,.8-0.8V33.8a0.8,0.8,0,0,0-.8-0.8H66.2a0.8,0.8,0,0,0-.8.8v0.3A0.8,0.8,0,0,0,66.2,34.9Zm6.8-5.2-3.8-3.8a0.9,0.9,0,0,0-1.3,0a0.9,0.9,0,0,0,0,1.3L71.8,31A0.9,0.9,0,0,0,73,31A0.9,0.9,0,0,0,73.1,29.7ZM84.8,40.9L80.9,37a0.9,0.9,0,0,0-1.3,0a0.9,0.9,0,0,0,0,1.3l3.9,3.9a0.9,0.9,0,0,0,1.3,0A0.9,0.9,0,0,0,84.8,40.9Zm-7.6,3.2V40.2a0.8,0.8,0,0,0-.8-0.8H76.2a0.8,0.8,0,0,0-.8.8v3.9a0.8,0.8,0,0,0,.8.8h0.3A0.8,0.8,0,0,0,77.3,44.1Z",V={_viewbox:"0 0 110 110",uiAttached:"M91.9,16.7H18.1A5.3,5.3,0,0,0,12.8,22V68a5.3,5.3,0,0,0,5.3,5.3H91.9A5.3,5.3,0,0,0,97.2,68V22A5.3,5.3,0,0,0,91.9,16.7ZM91.6,65.2H18.4V22.3H91.6V65.2ZM71.5,87.5h3.8v5.9h-40.6v-5.9h3.8v-1.7h5.4v-9.7h22.3v9.7h5.3v1.7z",unknown:"M35,40a5,5,0,0,1,5-5h30a5,5,0,0,1,5,5v30a5,5,0,0,1-5,5h-30a5,5,0,0,1-5-5z",query:"M51.4,69.9c0-0.9,0-1.6,0-2.1c0-2.7,0.4-5.1,1.2-7.1c0.6-1.5,1.5-3,2.8-4.5c0.9-1.1,2.6-2.7,5.1-4.8c2.4-2.1,4-3.8,4.8-5.1 c0.7-1.3,1.1-2.6,1.1-4.1c0-2.7-1.1-5.1-3.2-7.1c-2.1-2-4.8-3.1-7.9-3.1c-3,0-5.5,0.9-7.5,2.8c-2,1.9-3.3,4.8-4,8.7l-7.2-0.8 c0.7-5.3,2.6-9.3,5.8-12.1c3.2-2.8,7.5-4.2,12.8-4.2c5.6,0,10.1,1.5,13.4,4.5c3.3,3,5,6.7,5,10.9c0,2.5-0.6,4.8-1.8,6.8 s-3.5,4.6-6.9,7.6c-2.3,2-3.8,3.5-4.5,4.4c-0.7,1-1.2,2-1.6,3.3c-0.3,1.2-0.5,3.2-0.6,6H51.4z M51,83.8v-7.9h8v7.9H51z",node:"M15,100a5,5,0,0,1-5-5v-65a5,5,0,0,1,5-5h80a5,5,0,0,1,5,5v65a5,5,0,0,1-5,5zM14,22.5l11-11a10,3,0,0,1,10-2h40a10,3,0,0,1,10,2l11,11zM16,35a5,5,0,0,1,10,0a5,5,0,0,1-10,0z",switch:l+H,router:"M10,55A45,45,0,0,1,100,55A45,45,0,0,1,10,55M20,50l12,0,0-8,18,13-18,13,0-8-12,0zM90,50l-12,0,0-8-18,13,18,13,0-8,12,0zM50,47l0-12-8,0,13-18,13,18-8,0,0,12zM50,63l0,12-8,0,13,18,13-18-8,0,0-12z",roadm:M+H,otn:l+h,roadm_otn:M+h,fiber_switch:l+"M89,60V57H70.6a15,15,0,0,1-3.2,7.6l13,12.9L82.8,75v7.5H75.2l2.2-2.2-12.8-13A14.9,14.9,0,0,1,57,70.6V89h3.1l-5.3,5.4L49.4,89H53V70.6a13.2,13.2,0,0,1-8-3.2l-13.1,13,2.3,2.3H26.5V75.1l2.3,2.3,13-12.8A15,15,0,0,1,38.7,57H21v3l-5.4-5.4L21,49.3V53H38.7a13.1,13.1,0,0,1,3.2-8l-13-13.1-2.2,2.1V26.4h7.5l-2.4,2.4L45,41.8a13.2,13.2,0,0,1,8-3.2V21H49.4l5.4-5.4L60.1,21H57V38.6a14.9,14.9,0,0,1,7.6,3.2l12.9-13-2.4-2.3h7.5v7.6l-2.3-2.3L67.4,45a13.1,13.1,0,0,1,3.2,8H89V49.3l5.4,5.3Z",microwave:"M85,71.2c-8.9,10.5-29.6,8.7-45.3-3.5C23.9,55.4,19.8,37,28.6,26.5C29.9,38.6,71.5,69.9,85,71.2z M92.7,76.2M16.2,15 M69.5,100.7v-4c0-1.4-1.2-2.2-2.6-2.2H19.3c-1.4,0-2.8,0.7-2.8,2.2v3.9c0,0.7,0.8,1,1.5,1h50.3C69,101.5,69.5,101.3,69.5,100.7z M77.3,7.5l0,3.7c9,0.1,16.3,7.1,16.2,15.7l3.9,0C97.5,16.3,88.5,7.6,77.3,7.5z M77.6,14.7l0,2.5c5.3,0,9.7,4.2,9.6,9.3l2.6,0C89.9,20,84.4,14.7,77.6,14.7z M82.3,22.2c-1.3-1.2-2.9-1.9-4.7-1.9l0,1.2c1.4,0,2.8,0.6,3.8,1.5c1,1,1.6,2.3,1.6,3.7l1.3,0C84.3,25.1,83.6,23.4,82.3,22.2z M38.9,69.5l-5.1,23h16.5l-2.5-17.2C44.1,73.3,38.9,69.5,38.9,69.5zM58.1,54.1c13.7,10.1,26.5,16.8,29.2,13.7c2.7-3.1-5.6-13-19.3-24.4 M62.9,34.2 M62,37.9C47.7,27.3,33.7,20,31,23.1c-2.7,3.2,7,14.2,20.6,26 M73.9,25.7c-2.9,0.1-5.2,2.3-5.1,4.8c0,0.7,0.2,1.4,0.6,2l0,0L53.8,49.7l3.3,2.5L72.7,35l-0.4-0.3c0.6,0.2,1.3,0.3,1.9,0.3c2.9-0.1,5.2-2.3,5.1-4.9C79.3,27.6,76.8,25.6,73.9,25.7z",endstation:"M10,15a5,5,0,0,1,5-5h65a5,5,0,0,1,5,5v80a5,5,0,0,1-5,5h-65a5,5,0,0,1-5-5zM87.5,14l11,11a3,10,0,0,1,2,10v40a3,10,0,0,1,-2,10l-11,11zM17,19a2,2,0,0,1,2-2h56a2,2,0,0,1,2,2v26a2,2,0,0,1-2,2h-56a2,2,0,0,1-2-2zM20,20h54v10h-54zM20,33h54v10h-54zM42,70a5,5,0,0,1,10,0a5,5,0,0,1-10,0z",bgpSpeaker:"M10,40a45,35,0,0,1,90,0Q100,77,55,100Q10,77,10,40zM50,29l12,0,0-8,18,13-18,13,0-8-12,0zM60,57l-12,0,0-8-18,13,18,13,0-8,12,0z",chain:"M60.4,77.6c-4.9,5.2-9.6,11.3-15.3,16.3c-8.6,7.5-20.4,6.8-28-0.8c-7.7-7.7-8.4-19.6-0.8-28.4c6.5-7.4,13.5-14.4,20.9-20.9c7.5-6.7,19.2-6.7,26.5-0.8c3.5,2.8,4.4,6.1,2.2,8.7c-2.7,3.1-5.5,2.5-8.5,0.3c-4.7-3.4-9.7-3.2-14,0.9C37.1,58.7,31,64.8,25.2,71c-4.2,4.4-4.2,10.6-0.6,14.3c3.7,3.7,9.7,3.7,14.3-0.4c2.9-2.5,5.3-5.5,8.3-8c1-0.9,3-1.1,4.4-0.9C54.8,76.3,57.9,77.1,60.4,77.6zM49.2,32.2c5-5.2,9.7-10.9,15.2-15.7c12.8-11,31.2-4.9,34.3,11.2C100,34.2,98.3,40.2,94,45c-6.7,7.4-13.7,14.6-21.2,21.2C65.1,73,53.2,72.7,46,66.5c-3.2-2.8-3.9-5.8-1.6-8.4c2.6-2.9,5.3-2.4,8.2-0.3c5.2,3.7,10,3.3,14.7-1.1c5.8-5.6,11.6-11.3,17.2-17.2c4.6-4.8,4.9-11.1,0.9-15c-3.9-3.9-10.1-3.4-15,1.2c-3.1,2.9-5.7,7.4-9.3,8.5C57.6,35.3,53,33,49.2,32.2z",crown:"M99.5,21.6c0,3-2.3,5.4-5.1,5.4c-0.3,0-0.7,0-1-0.1c-1.8,4-4.8,10-7.2,17.3c-3.4,10.6-0.9,26.2,2.7,27.3C90.4,72,91.3,75,88,75H22.7c-3.3,0-2.4-3-0.9-3.5c3.6-1.1,6.1-16.7,2.7-27.3c-2.4-7.4-5.4-13.5-7.2-17.5c-0.5,0.2-1,0.3-1.6,0.3c-2.8,0-5.1-2.4-5.1-5.4c0-3,2.3-5.4,5.1-5.4c2.8,0,5.1,2.4,5.1,5.4c0,1-0.2,1.9-0.7,2.7c0.7,0.8,1.4,1.6,2.4,2.6c8.8,8.9,11.9,12.7,18.1,11.7c6.5-1,11-8.2,13.3-14.1c-2-0.8-3.3-2.7-3.3-5.1c0-3,2.3-5.4,5.1-5.4c2.8,0,5.1,2.4,5.1,5.4c0,2.5-1.6,4.5-3.7,5.2c2.3,5.9,6.8,13,13.2,14c6.2,1,9.3-2.7,18.1-11.7c0.7-0.7,1.4-1.5,2-2.1c-0.6-0.9-1-2-1-3.1c0-3,2.3-5.4,5.1-5.4C97.2,16.2,99.5,18.6,99.5,21.6zM92,87.9c0,2.2-1.7,4.1-3.8,4.1H22.4c-2.1,0-4.4-1.9-4.4-4.1v-3.3c0-2.2,2.3-4.5,4.4-4.5h65.8c2.1,0,3.8,2.3,3.8,4.5V87.9z",lock:"M79.4,48.6h-2.7c0.2-5.7-0.2-20.4-7.9-28.8c-3.6-3.9-8.3-5.9-13.7-5.9c-5.4,0-10.2,2-13.8,5.9c-7.8,8.4-8.3,23.2-8.1,28.8h-2.7c-4.4,0-8,2.6-8,5.9v35.7c0,3.3,3.6,5.9,8,5.9h48.9c4.4,0,8-2.6,8-5.9V54.5C87.5,51.3,83.9,48.6,79.4,48.6z M48.1,26.1c1.9-2,4.1-2.9,7-2.9c2.9,0,5.1,0.9,6.9,2.9c5,5.4,5.6,17.1,5.4,22.6h-25C42.3,43.1,43.1,31.5,48.1,26.1z",topo:"M97.2,76.3H86.6l-7.7-21.9H82c1,0,1.9-0.8,1.9-1.9V35.7c0-1-0.8-1.9-1.9-1.9H65.2c-1,0-1.9,0.8-1.9,1.9v2.6L33.4,26.1v-11c0-1-0.8-1.9-1.9-1.9H14.7c-1,0-1.9,0.8-1.9,1.9v16.8c0,1,0.8,1.9,1.9,1.9h16.8c1,0,1.9-0.8,1.9-1.9v-2.6l29.9,12.2v9L30.5,76.9c-0.3-0.3-0.8-0.5-1.3-0.5H12.4c-1,0-1.9,0.8-1.9,1.9V95c0,1,0.8,1.9,1.9,1.9h16.8c1,0,1.9-0.8,1.9-1.9v-6.9h47.4V95c0,1,0.8,1.9,1.9,1.9h16.8c1,0,1.9-0.8,1.9-1.9V78.2C99.1,77.2,98.2,76.3,97.2,76.3z M31.1,85.1v-4.9l32.8-26.4c0.3,0.3,0.8,0.5,1.3,0.5h10.5l7.7,21.9h-3c-1,0-1.9,0.8-1.9,1.9v6.9H31.1z",refresh:"M99.7,53.8l-10,13.3L85,73.5,78,64,70.4,53.7h9A28.5,28.5,0,1,0,68.3,77.6l10.6,6.9A40.7,40.7,0,1,1,91.6,53.8h8.2Z",garbage:"M55.1,31.1c9.4,0,18.7.1,28.1-.1,3.2-.1,4.2,1,3.7,4.1q-4.1,28.6-8,57.3c-0.3,2.3-1.3,3.4-3.5,3.4h-41c-2.2,0-2.9-1.2-3.2-3.2Q27,63.5,22.7,34.4c-0.4-2.8.6-3.4,3.1-3.4H55.1ZM44.3,81.9c0.4-1.1-2.5-27.4-3.8-40.5a3.2,3.2,0,0,0-3.7-3.2c-2.5.1-2.5,1.9-2.4,3.7,0.5,4.9,1,9.8,1.5,14.7,0.8,8.1,1.6,16.2,2.4,24.2,0.2,2.2,1.1,4.1,3.6,3.4A3.6,3.6,0,0,0,44.3,81.9Zm21.2,0a2.8,2.8,0,0,0,2.2,2.3c2.3,0.8,3.7-.7,4-3.1,1.3-12.9,2.6-25.7,3.8-38.6,0.2-2,.3-4.1-2.6-4.4s-3.3,1.7-3.5,3.7C68.1,54.8,65.5,81.1,65.5,81.9ZM57.9,61.3q0-9.8,0-19.6c0-2.2-.8-3.6-3.2-3.5s-2.6,1.7-2.6,3.6q0,19.4,0,38.8c0,1.9,0,3.8,2.8,3.9s3-1.8,3-3.9Q57.9,70.9,57.9,61.3ZM19,24.7c0.3-2,.5-5.7,1.5-8a5.1,5.1,0,0,1,3.6-2.3c5.5-.5,17.3-0.8,17.3-0.8l4.3-3.3H62.9l5.6,3.5S84.5,14.6,87,15s2.5,0.7,3.2,1.9,0.9,7.4.9,7.4Z",cog:"M100.2,46.4L87.1,44.8l-2.1-5L93.1,29a2.3,2.3,0,0,0-.2-3l-8.7-8.8a2.4,2.4,0,0,0-3.1-.2l-11,7.9L66,23.1,63.1,9.5A2.1,2.1,0,0,0,60.8,8H49.3A2.1,2.1,0,0,0,47,9.5L44.2,22.7l-5,2.2L28.8,16.8a2.3,2.3,0,0,0-3.1.2l-9.2,9.2a2.4,2.4,0,0,0-.2,3.2l8.1,10.4-1.7,4.1L9.8,46.4A2.3,2.3,0,0,0,8,48.7V61.9a2.3,2.3,0,0,0,2,2.4L22.6,66l1.7,5.2-7.7,10a2.4,2.4,0,0,0,.2,3.2l9.1,9a2.4,2.4,0,0,0,3.3.1l9-8.2,4.8,2.2,2.6,12.7a2.3,2.3,0,0,0,2.4,1.9l13.9-.2a2.5,2.5,0,0,0,2.3-2.4l0.7-11.4,5.5-2.3,9.8,8.1a2.4,2.4,0,0,0,3.2-.1L93,83.9a2.4,2.4,0,0,0,.1-3.3L84.7,71,87,66l13.2-2.5a2.3,2.3,0,0,0,1.9-2.3l0.2-12.5A2.4,2.4,0,0,0,100.2,46.4ZM54.4,73A18.2,18.2,0,1,1,72.6,54.8,18.2,18.2,0,0,1,54.4,73Z",delta:"M55,19.2L13.7,90.8h82.7L55,19.2z M55,31.2l30.9,53.5H24.1L55,31.2z",nonzero:"M76.7,25.1l7.8-13.5l-7.6-0.3l-5.7,9.9c-4.8-2.9-10.4-4.5-16.2-4.5c-19.1,0-34.7,17.2-34.7,38.4c0,12.5,5.4,23.6,13.7,30.6l-7.6,13.2l7.6,0.1l5.5-9.6c4.7,2.6,9.9,4,15.5,4c19.1,0,34.7-17.2,34.7-38.4C89.7,42.9,84.6,32.1,76.7,25.1z M27.9,55C27.9,38.4,40,25,55,25c4.4,0,8.5,1.2,12.2,3.2l-29,50.3C31.9,73,27.9,64.5,27.9,55zM55,85c-4.1,0-7.9-1-11.4-2.8l29-50.1c5.8,5.5,9.5,13.7,9.5,22.8C82.1,71.6,70,85,55,85z",download:"M90.3,94.5H19.7V79.2H90.3V94.5Zm-49.1-79V44H26.2L55,72.3,83.8,44H68.9V15.5H41.1Z",upload:"M90.3,79.4H19.7V94.6H90.3V79.4ZM41.1,71.8V43.5H26.2L55,15.4,83.8,43.5H68.9V71.8H41.1Z",flowTable:a+"M86,63.2c0,3.3-2.7,6-6,6c-2.8,0-5.1-1.9-5.8-4.5H63.3v5.1c0,0.9-0.7,1.5-1.5,1.5h-5.2v10.6c2.6,0.7,4.5,3,4.5,5.8c0,3.3-2.7,6-6,6c-3.3,0-6-2.7-6-6c0-2.8,1.9-5.1,4.4-5.8V71.3H48c-0.9,0-1.5-0.7-1.5-1.5v-5.1H36c-0.7,2.6-3,4.4-5.8,4.4c-3.3,0-6-2.7-6-6s2.7-6,6-6c2.8,0,5.2,1.9,5.8,4.5h10.5V56c0-0.9,0.7-1.5,1.5-1.5h5.5V43.8c-2.6-0.7-4.5-3-4.5-5.8c0-3.3,2.7-6,6-6s6,2.7,6,6c0,2.8-1.9,5.1-4.5,5.8v10.6h5.2c0.9,0,1.5,0.7,1.5,1.5v5.6h10.8c0.7-2.6,3-4.5,5.8-4.5C83.3,57.1,86,59.8,86,63.2z M55.1,42.3c2.3,0,4.3-1.9,4.3-4.3c0-2.3-1.9-4.3-4.3-4.3s-4.3,1.9-4.3,4.3C50.8,40.4,52.7,42.3,55.1,42.3z M34.4,63.1c0-2.3-1.9-4.3-4.3-4.3s-4.3,1.9-4.3,4.3s1.9,4.3,4.3,4.3S34.4,65.5,34.4,63.1z M55.1,83.5c-2.3,0-4.3,1.9-4.3,4.3s1.9,4.3,4.3,4.3s4.3-1.9,4.3-4.3S57.5,83.5,55.1,83.5zM84.2,63.2c0-2.3-1.9-4.3-4.3-4.3s-4.3,1.9-4.3,4.3s1.9,4.3,4.3,4.3S84.2,65.5,84.2,63.2z",portTable:a+"M85.5,37.7c0-0.7-0.4-1.3-0.9-1.3H26.2c-0.5,0-0.9,0.6-0.9,1.3v34.6c0,0.7,0.4,1.3,0.9,1.3h11v9.6c0,1.1,0.5,2,1.2,2h9.1c0,0.2,0,0.3,0,0.5v3c0,1.1,0.5,2,1.2,2h13.5c0.6,0,1.2-0.9,1.2-2v-3c0-0.2,0-0.3,0-0.5h9.1c0.6,0,1.2-0.9,1.2-2v-9.6h11c0.5,0,0.9-0.6,0.9-1.3V37.7z M30.2,40h-1v8h1V40zM75.2,40h-2.1v8h2.1V40z M67.7,40h-2.1v8h2.1V40z M60.2,40h-2.1v8h2.1V40z M52.7,40h-2.1v8h2.1V40z M45.2,40h-2.1v8h2.1V40zM37.7,40h-2.1v8h2.1V40z M81.6,40h-1v8h1V40z",groupTable:a+"M45.7,52.7c0.2-5.6,2.6-10.7,6.2-14.4c-2.6-1.5-5.7-2.5-8.9-2.5c-9.8,0-17.7,7.9-17.7,17.7c0,6.3,3.3,11.9,8.3,15C34.8,61.5,39.4,55.6,45.7,52.7z M51.9,68.8c-3.1-3.1-5.2-7.2-6-11.7c-4.7,2.8-7.9,7.6-8.6,13.2c1.8,0.6,3.6,0.9,5.6,0.9C46.2,71.2,49.3,70.3,51.9,68.8z M55.2,71.5c-3.5,2.4-7.7,3.7-12.2,3.7c-1.9,0-3.8-0.3-5.6-0.7C38.5,83.2,45.9,90,54.9,90c9,0,16.4-6.7,17.5-15.4c-1.6,0.4-3.4,0.6-5.1,0.6C62.8,75.2,58.6,73.8,55.2,71.5z M54.9,50.6c1.9,0,3.8,0.3,5.6,0.7c-0.5-4.1-2.5-7.9-5.4-10.6c-2.9,2.7-4.8,6.4-5.3,10.5C51.5,50.8,53.2,50.6,54.9,50.6z M49.7,55.4c0.5,4.3,2.4,8.1,5.4,10.9c2.9-2.8,4.9-6.6,5.4-10.8c-1.8-0.6-3.6-0.9-5.6-0.9C53.1,54.6,51.4,54.9,49.7,55.4z M89,53.5c0-12-9.7-21.7-21.7-21.7c-4.5,0-8.7,1.4-12.2,3.7c-3.5-2.4-7.7-3.7-12.2-3.7c-12,0-21.7,9.7-21.7,21.7c0,8.5,4.9,15.9,12,19.4C33.6,84.6,43.2,94,54.9,94c11.7,0,21.2-9.3,21.7-20.9C84,69.7,89,62.2,89,53.5z M64.3,57.3c-0.8,4.4-2.9,8.4-5.9,11.5c2.6,1.5,5.7,2.5,8.9,2.5c1.8,0,3.6-0.3,5.2-0.8C72,64.9,68.8,60.1,64.3,57.3z M67.3,35.8c-3.3,0-6.3,0.9-8.9,2.5c3.7,3.8,6.1,8.9,6.2,14.6c6.1,3.1,10.6,8.9,11.7,15.8C81.5,65.6,85,60,85,53.5C85,43.8,77.1,35.8,67.3,35.8z",meterTable:a+"M96.3,79.2c0-19.1-22.1-34.6-41.3-34.6S13.7,60.1,13.7,79.2H39.4c0-7.2,8.4-13.1,15.7-13.1S70.6,72,70.6,79.2H96.3zM48,65.6L36.8,53c0-.5-1.5.5-1.4,0.7l5.3,16.6z",pipeconfTable:a+"M10,66h13v3h-13zM23,62.5L28,67.5L23,72.5zM30,55h12.5v25h-12.5zM45,66h13v3h-13zM58,62.5L63,67.5L58,72.5zM65,55h12.5v25h-12.5zM79,66h15v3h-15zM94,62.5L99,67.5L94,72.5z",summary:"M95.8,9.2H14.2c-2.8,0-5,2.2-5,5v81.5c0,2.8,2.2,5,5,5h81.5c2.8,0,5-2.2,5-5V14.2C100.8,11.5,98.5,9.2,95.8,9.2z M16.7,22.2c0-1.1,0.9-2,2-2h20.1c1.1,0,2,0.9,2,2v20.1c0,1.1-0.9,2-2,2H18.7c-1.1,0-2-0.9-2-2V22.2z M93,87c0,1.1-0.9,2-2,2H18.9c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2V87z M93,65c0,1.1-0.9,2-2,2H18.9c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2V65z",details:"M95.8,9.2H14.2c-2.8,0-5,2.2-5,5v81.5c0,2.8,2.2,5,5,5h81.5c2.8,0,5-2.2,5-5V14.2C100.8,11.5,98.5,9.2,95.8,9.2z M16.9,22.2c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2v7c0,1.1-0.9,2-2,2H18.9c-1.1,0-2-0.9-2-2V22.2z M93,87.8c0,1.1-0.9,2-2,2H18.9c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2V87.8z M93,68.2c0,1.1-0.9,2-2,2H18.9c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2V68.2z M93,48.8c0,1.1-0.9,2-2,2H19c-1.1,0-2-0.9-2-2v-7c0-1.1,0.9-2,2-2H91c1.1,0,2,0.9,2,2V48.8z",ports:"M98,9.2H79.6c-1.1,0-2.1,0.9-2.1,2.1v17.6l-5.4,5.4c-1.7-1.1-3.8-1.8-6-1.8c-6,0-10.9,4.9-10.9,10.9c0,2.2,0.7,4.3,1.8,6l-7.5,7.5c-1.8-1.2-3.9-1.9-6.2-1.9c-6,0-10.9,4.9-10.9,10.9c0,2.3,0.7,4.4,1.9,6.2l-6.2,6.2H11.3c-1.1,0-2.1,0.9-2.1,2.1v18.4c0,1.1,0.9,2.1,2.1,2.1h18.4c1.1,0,2.1-0.9,2.1-2.1v-16l7-6.9c1.4,0.7,3,1.1,4.7,1.1c6,0,10.9-4.9,10.9-10.9c0-1.7-0.4-3.3-1.1-4.7l8-8c1.5,0.7,3.1,1.1,4.8,1.1c6,0,10.9-4.9,10.9-10.9c0-1.7-0.4-3.4-1.1-4.8l6.9-6.9H98c1.1,0,2.1-0.9,2.1-2.1V11.3C100.1,10.2,99.2,9.2,98,9.2z M43.4,72c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S46.7,72,43.4,72z M66.1,49.5c-3.3,0-6-2.7-6-6c0-3.3,2.7-6,6-6s6,2.7,6,6C72.2,46.8,69.5,49.5,66.1,49.5z",map:"M95.8,9.2H14.2c-2.8,0-5,2.2-5,5v66c0.3-1.4,0.7-2.8,1.1-4.1l1.6,0.5c-0.9,2.4-1.6,4.8-2.2,7.3l-0.5-0.1v12c0,2.8,2.2,5,5,5h81.5c2.8,0,5-2.2,5-5V14.2C100.8,11.5,98.5,9.2,95.8,9.2z M16.5,67.5c-0.4,0.5-0.7,1-1,1.5c-0.3,0.5-0.6,1-0.9,1.6l-1.9-0.9c0.3-0.6,0.6-1.2,0.9-1.8c0.3-0.6,0.6-1.2,1-1.7c0.7-1.1,1.5-2.2,2.5-3.2l1.8,1.8C18,65.6,17.2,66.5,16.5,67.5z M29.7,64.1c-0.4-0.4-0.8-0.8-1.2-1.1c-0.1-0.1-0.2-0.1-0.2-0.1c0,0-0.1,0-0.1-0.1l-0.1,0l0,0l-0.1,0c-0.3-0.1-0.5-0.2-0.8-0.2c-0.5-0.1-1.1-0.2-1.6-0.3c-0.6,0-1.1,0-1.6,0l-0.4-2.8c0.7-0.1,1.5-0.2,2.2-0.1c0.7,0,1.4,0.1,2.2,0.3c0.4,0.1,0.7,0.2,1,0.3l0.1,0l0,0l0.1,0l0.1,0c0.1,0,0.1,0,0.3,0.1c0.3,0.1,0.5,0.2,0.7,0.4c0.7,0.5,1.2,0.9,1.7,1.4L29.7,64.1z M39.4,74.7c-1.8-1.8-3.6-3.8-5.3-5.7l2.6-2.4c0.9,0.9,1.8,1.8,2.7,2.7c0.9,0.9,1.8,1.7,2.7,2.6L39.4,74.7z M50.8,84.2c-1.1-0.7-2.2-1.5-3.3-2.3c-0.5-0.4-1.1-0.8-1.6-1.2c-0.5-0.4-1-0.8-1.5-1.2l2.7-3.4c0.5,0.4,1,0.8,1.5,1.1c0.5,0.3,1,0.7,1.5,1c1,0.7,2.1,1.3,3.1,1.9L50.8,84.2z M61.3,88.7c-0.7-0.1-1.4-0.3-2.1-0.5c-0.7-0.2-1.4-0.5-2-0.7l1.8-4.8c0.6,0.2,1.1,0.4,1.6,0.5c0.5,0.2,1.1,0.3,1.6,0.4c1,0.2,2.1,0.2,3,0.1l0.7,5.1C64.3,89.1,62.7,88.9,61.3,88.7z M75.1,80.4c-0.2,0.7-0.5,1.4-0.9,2c-0.2,0.3-0.3,0.7-0.5,1l-0.3,0.5l-0.3,0.4l-3.9-2.8l0.3-0.4l0.2-0.3c0.1-0.2,0.3-0.4,0.4-0.7c0.3-0.5,0.5-0.9,0.7-1.5c0.4-1,0.8-2.1,1.1-3.3l4.2,0.9C75.9,77.7,75.6,79,75.1,80.4z M73,69.2l0.2-1.9l0.1-1.9c0.1-1.2,0.1-2.5,0.1-3.8l2.5-0.2c0.2,1.3,0.4,2.6,0.5,3.9l0.1,2l0.1,2L73,69.2z M73,51l0.5-0.1c0.4,1.3,0.8,2.6,1.1,3.9L73.2,55C73.1,53.7,73.1,52.3,73,51z M91.9,20.4c-0.7,1.4-3.6,3.6-4.2,3.9c-1.5,0.8-5,2.8-10.1,7.7c3,2.9,5.8,5.4,7.3,6.4c2.6,1.8,3.4,4.3,3.6,6.1c0.1,1.1-0.1,2.5-0.4,3c-0.5,0.9-1.6,2-3,1.4c-2-0.8-11.5-9.6-13-11c-3.5,3.9-7.4,8.9-11.7,15.1c0,0-3.1,3.4-5.2,0.9C52.9,51.5,61,39.3,61,39.3s2.2-3.1,5.6-7c-2.9-3-5.9-6.3-6.6-7.3c0,0-3.7-5-1.3-6.6c3.2-2.1,6.3,0.8,6.3,0.8s3.1,3.3,7,7.2c4.7-4.7,10.1-9.2,14.7-10c0,0,3.3-1,5.2,1.7C92.5,18.8,92.4,19.6,91.9,20.4z",cycleLabels:"M72.5,33.9c0,0.6-0.2,1-0.5,1H40c-0.3,0-0.5-0.4-0.5-1V20.7c0-0.6,0.2-1,0.5-1h32c0.3,0,0.5,0.4,0.5,1V33.9z M41.2,61.8c0-0.6-0.2-1-0.5-1h-32c-0.3,0-0.5,0.4-0.5,1V75c0,0.6,0.2,1,0.5,1h32c0.3,0,0.5-0.4,0.5-1V61.8z M101.8,61.8c0-0.6-0.2-1-0.5-1h-32c-0.3,0-0.5,0.4-0.5,1V75c0,0.6,0.2,1,0.5,1h32c0.3,0,0.5-0.4,0.5-1V61.8z M17.2,52.9c0-0.1-0.3-7.1,4.6-13.6l-2.4-1.8c-5.4,7.3-5.2,15.2-5.1,15.5L17.2,52.9z M12.7,36.8l7.4,2.5l1.5,7.6L29.5,31L12.7,36.8z M94.2,42.3c-2.1-8.9-8.3-13.7-8.6-13.9l-1.8,2.4c0.1,0,5.6,4.3,7.5,12.2L94.2,42.3z M99,37.8l-6.6,4.1l-6.8-3.7l7.1,16.2L99,37.8z M69,90.2l-1.2-2.8c-0.1,0-6.6,2.8-14.3,0.6l-0.8,2.9c2.5,0.7,4.9,1,7,1C65,91.8,68.7,90.2,69,90.2z M54.3,97.3L54,89.5l6.6-4.1l-17.6-1.7L54.3,97.3z",oblique:"M80.9,30.2h4.3l15-16.9H24.8l-15,16.9h19v48.5h-4l-15,16.9h75.3l15-16.9H80.9V30.2z M78.6,78.7H56.1V30.2h22.5V78.7zM79.7,17.4c2.4,0,4.3,1.9,4.3,4.3c0,2.4-1.9,4.3-4.3,4.3s-4.3-1.9-4.3-4.3C75.4,19.3,77.4,17.4,79.7,17.4z M55,17.4c2.4,0,4.3,1.9,4.3,4.3c0,2.4-1.9,4.3-4.3,4.3s-4.3-1.9-4.3-4.3C50.7,19.3,52.6,17.4,55,17.4z M26.1,21.7c0-2.4,1.9-4.3,4.3-4.3c2.4,0,4.3,1.9,4.3,4.3c0,2.4-1.9,4.3-4.3,4.3C28,26,26.1,24.1,26.1,21.7z M31.1,30.2h22.6v48.5H31.1V30.2z M30.3,91.4c-2.4,0-4.3-1.9-4.3-4.3c0-2.4,1.9-4.3,4.3-4.3c2.4,0,4.3,1.9,4.3,4.3C34.6,89.5,32.7,91.4,30.3,91.4z M54.9,91.4c-2.4,0-4.3-1.9-4.3-4.3c0-2.4,1.9-4.3,4.3-4.3c2.4,0,4.3,1.9,4.3,4.3C59.2,89.5,57.3,91.4,54.9,91.4z M84,87.1c0,2.4-1.9,4.3-4.3,4.3c-2.4,0-4.3-1.9-4.3-4.3c0-2.4,1.9-4.3,4.3-4.3C82.1,82.8,84,84.7,84,87.1z",filters:"M24.8,13.3L9.8,40.5h75.3l15.0-27.2H24.8z M72.8,32.1l-9.7-8.9l-19.3,8.9l-6.0-7.4L24.1,30.9l-1.2-2.7l15.7-7.1l6.0,7.4l19.0-8.8l9.7,8.8l11.5-5.6l1.3,2.7L72.8,32.1zM24.3,68.3L9.3,95.5h75.3l15.0-27.2H24.3z M84.3,85.9L70.7,79.8l-6.0,7.4l-19.3-8.9l-9.7,8.9l-13.3-6.5l1.3-2.7l11.5,5.6l9.7-8.8l19.0,8.8l6.0-7.4l15.7,7.1L84.3,85.9z M15.3,57h-6v-4h6V57zM88.1,57H76.0v-4h12.1V57z M69.9,57H57.8v-4h12.1V57z M51.7,57H39.6v-4H51.7V57z M33.5,57H21.4v-4h12.1V57zM100.2,57h-6v-4h6V57z",resetZoom:"M86,79.8L61.7,54.3c1.8-2.9,2.8-6.3,2.9-10c0.3-11.2-8.6-20.5-19.8-20.8C33.7,23.2,24.3,32,24.1,43.2c-0.3,11.2,8.6,20.5,19.8,20.8c4,0.1,8.9-0.8,11.9-3.6l23.7,25c1.5,1.6,4,2.3,5.3,1l1.6-1.6C87.7,83.7,87.5,81.4,86,79.8z M31.4,43.4c0.2-7.1,6.1-12.8,13.2-12.6C51.8,31,57.5,37,57.3,44.1c-0.2,7.1-6.1,12.8-13.2,12.6C36.9,56.5,31.3,50.6,31.4,43.4zM22.6,104H6V86.4c0-1.7,1.4-3.1,3.1-3.1s3.1,1.4,3.1,3.1v11.4h10.4c1.7,0,3.1,1.4,3.1,3.1S24.3,104,22.6,104z M25.7,9.1c0,1.7-1.4,3.1-3.1,3.1H12.2v11.4c0,1.7-1.4,3.1-3.1,3.1S6,25.3,6,23.6V6h16.6C24.3,6,25.7,7.4,25.7,9.1z M84.3,100.9c0-1.7,1.4-3.1,3.1-3.1h10.4V86.4c0-1.7,1.4-3.1,3.1-3.1s3.1,1.4,3.1,3.1V104H87.4C85.7,104,84.3,102.6,84.3,100.9z M87.4,6H104v17.6c0,1.7-1.4,3.1-3.1,3.1s-3.1-1.4-3.1-3.1V12.2H87.4c-1.7,0-3.1-1.4-3.1-3.1S85.7,6,87.4,6z",relatedIntents:"M99.9,43.7v22.6c0,1.9-1.5,3.4-3.4,3.4H73.9c-1.9,0-3.4-1.5-3.4-3.4V43.7c0-1.9,1.5-3.4,3.4-3.4h22.6C98.4,40.3,99.9,41.8,99.9,43.7z M48.4,46.3l6.2,6.7h-4.6L38.5,38v9.7l4.7,5.3H10.1V57h33.2l-4.8,5.3v9.5L49.8,57h5.1v0l-6.5,7v11.5L64.1,55L48.4,34.4V46.3z",nextIntent:"M88.1,55.7L34.6,13.1c0,0-1.6-0.5-2.1-0.2c-1.9,1.2-6.5,13.8-3.1,17.2c7,6.9,30.6,24.5,32.4,25.9c-1.8,1.4-25.4,19-32.4,25.9c-3.4,3.4,1.2,16,3.1,17.2c0.6,0.4,2.1-0.2,2.1-0.2s53.1-42.4,53.5-42.7C88.5,56,88.1,55.7,88.1,55.7z",prevIntent:"M22.5,55.6L76,12.9c0,0,1.6-0.5,2.2-0.2c1.9,1.2,6.5,13.8,3.1,17.2c-7,6.9-30.6,24.5-32.4,25.9c1.8,1.4,25.4,19,32.4,25.9c3.4,3.4-1.2,16-3.1,17.2c-0.6,0.4-2.2-0.2-2.2-0.2S22.9,56.3,22.5,56C22.2,55.8,22.5,55.6,22.5,55.6z",intentTraffic:"M14.7,71.5h-6v-33h6V71.5z M88.5,38.5H76.9v33h11.7V38.5z M70.1,38.5H58.4v33h11.7V38.5z M51.6,38.5H39.9v33h11.7V38.5z M33.1,38.5H21.5v33h11.7V38.5z M101.3,38.5h-6v33h6V38.5z",allTraffic:"M15.7,64.5h-7v-19h7V64.5z M78.6,45.5H62.9v19h15.7V45.5z M47.1,45.5H31.4v19h15.7V45.5z M101.3,45.5h-7v19h7V45.5zM14.7,14.1h-6v19h6V14.1z M88.5,14.1H76.9v19h11.7V14.1z M70.1,14.1H58.4v19h11.7V14.1z M51.6,14.1H39.9v19h11.7V14.1z M33.1,14.1H21.5v19h11.7V14.1z M101.3,14.1h-6v19h6V14.1z M14.7,76.9h-6v19h6V76.9z M88.5,76.9H76.9v19h11.7V76.9z M70.1,76.9H58.4v19h11.7V76.9z M51.6,76.9H39.9v19h11.7V76.9z M33.1,76.9H21.5v19h11.7V76.9z M101.3,76.9h-6v19h6V76.9z",flows:"M93.8,46.1c-4.3,0-8,3-9,7H67.9v-8.8c0-1.3-1.1-2.4-2.4-2.4h-8.1V25.3c4-1,7-4.7,7-9.1c0-5.2-4.2-9.4-9.4-9.4c-5.2,0-9.4,4.2-9.4,9.4c0,4.3,3,8,7,9v16.5H44c-1.3,0-2.4,1.1-2.4,2.4v8.8H25.3c-1-4.1-4.7-7.1-9.1-7.1c-5.2,0-9.4,4.2-9.4,9.4s4.2,9.4,9.4,9.4c4.3,0,8-2.9,9-6.9h16.4v7.9c0,1.3,1.1,2.4,2.4,2.4h8.6v16.6c-4,1.1-6.9,4.7-6.9,9c0,5.2,4.2,9.4,9.4,9.4c5.2,0,9.4-4.2,9.4-9.4c0-4.4-3-8-7.1-9.1V68.2h8.1c1.3,0,2.4-1.1,2.4-2.4v-7.9h16.8c1.1,4,4.7,7,9,7c5.2,0,9.4-4.2,9.4-9.4S99,46.1,93.8,46.1z M48.7,16.3c0-3.5,2.9-6.4,6.4-6.4c3.5,0,6.4,2.9,6.4,6.4s-2.9,6.4-6.4,6.4C51.5,22.6,48.7,19.8,48.7,16.3zM16.2,61.7c-3.5,0-6.4-2.9-6.4-6.4c0-3.5,2.9-6.4,6.4-6.4s6.4,2.9,6.4,6.4C22.6,58.9,19.7,61.7,16.2,61.7z M61.4,93.7c0,3.5-2.9,6.4-6.4,6.4c-3.5,0-6.4-2.9-6.4-6.4c0-3.5,2.9-6.4,6.4-6.4C58.6,87.4,61.4,90.2,61.4,93.7z M93.8,61.8c-3.5,0-6.4-2.9-6.4-6.4c0-3.5,2.9-6.4,6.4-6.4s6.4,2.9,6.4,6.4C100.1,58.9,97.3,61.8,93.8,61.8z",eqMaster:"M100.1,46.9l-10.8-25h0.2c0.5,0,0.8-0.5,0.8-1.1v-3.2c0-0.6-0.4-1.1-0.8-1.1H59.2v-5.1c0-0.5-0.8-1-1.7-1h-5.1c-0.9,0-1.7,0.4-1.7,1v5.1l-30.2,0c-0.5,0-0.8,0.5-0.8,1.1v3.2c0,0.6,0.4,1.1,0.8,1.1h0.1l-10.8,25C9,47.3,8.4,48,8.4,48.8v1.6l0,0h0v6.4c0,1.3,1.4,2.3,3.2,2.3h21.7c1.8,0,3.2-1,3.2-2.3v-8c0-0.9-0.7-1.6-1.7-2L22.9,21.9h27.9v59.6l-29,15.9c0,1.2,1.8,2.2,4.1,2.2h58.3c2.3,0,4.1-1,4.1-2.2l-29-15.9V21.9h27.8L75.2,46.8c-1,0.4-1.7,1.1-1.7,2v8c0,1.3,1.4,2.3,3.2,2.3h21.7c1.8,0,3.2-1,3.2-2.3v-8C101.6,48,101,47.3,100.1,46.9z M22,23.7l10.8,22.8H12.1L22,23.7z M97.9,46.5H77.2L88,23.7L97.9,46.5z",xClose:"M20,8l35,35,35-35,12,12-35,35,35,35-12,12-35-35-35,35-12-12,35-35-35-35,12-12Z"},A={_viewbox:"0 0 10 10",checkMark:"M8.6,3.4L4.4,7.7L1.4,4.7L2.5,3.6L4.4,5.5L7.5,2.3L8.6,3.4Z",xMark:"M7.8,6.7L6.7,7.8,5,6.1,3.3,7.8,2.2,6.7,3.9,5,2.2,3.3,3.3,2.2,5,3.9,6.7,2.2,7.8,3.3,6.1,5Z",triangleUp:"M0.5,6.2c0,0,3.8-3.8,4.2-4.2C5,1.7,5.3,2,5.3,2l4.3,4.3c0,0,0.4,0.4-0.1,0.4c-1.7,0-8.2,0-8.8,0C0,6.6,0.5,6.2,0.5,6.2z",triangleDown:"M9.5,4.2c0,0-3.8,3.8-4.2,4.2c-0.3,0.3-0.5,0-0.5,0L0.5,4.2c0,0-0.4-0.4,0.1-0.4c1.7,0,8.2,0,8.8,0C10,3.8,9.5,4.2,9.5,4.2z",plus:"M4,2h2v2h2v2h-2v2h-2v-2h-2v-2h2z",minus:"M2,4h6v2h-6z",play:"M3,1.5l3.5,3.5l-3.5,3.5z",stop:"M2.5,2.5h5v5h-5z"},Z={_cloud:"0 0 110 110",cloud:"M37.6,79.5c-6.9,8.7-20.4,8.6-22.2-2.7M16.3,41.2c-0.8-13.9,19.4-19.2,23.5-7.8M38.9,30.9c5.1-9.4,15.1-8.5,16.9-1.3M54.4,32.9c4-12.9,14.8-9.6,18.6-3.8M95.8,58.5c10-4.1,11.7-17.8-0.9-19.8M18.1,76.4C5.6,80.3,3.8,66,13.8,61.5M16.2,62.4C2.1,58.4,3.5,36,16.8,36.6M93.6,74.7c10.2-2,10.7-14,5.8-18.3M71.1,79.3c11.2,7.6,24.6,6.4,22.1-11.7M36.4,76.8c3.4,13.3,35.4,11.6,36.1-1.4M70.4,31c11.8-10.4,26.2-5.2,24.7,10.1"},v="M33.5,91.9a1.8,1.8,0,0,1-1.3-.5L8.7,68a1.8,1.8,0,0,1-.5-1.3V33.5a1.8,1.8,0,0,1,.5-1.3L32,8.7a1.8,1.8,0,0,1,1.3-.5H66.5a1.8,1.8,0,0,1,1.3.5L91.3,32a1.8,1.8,0,0,1,.5,1.3V66.5a1.8,1.8,0,0,1-.5,1.3L68,91.3a1.8,1.8,0,0,1-1.3.5H33.5Zm-21.7-26L34.3,88.2H65.9L88.2,65.7V34.1L65.7,11.8H34.1L11.8,34.3V65.9Z",L="M60,42.1l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V33.8a1.8,1.8,0,0,1,3.7,0v3.3l13-7.1L61.9,23v3.3A1.8,1.8,0,0,1,60,28.2h-7v3.7h1.7a1.8,1.8,0,0,1,0,3.7H51.2a1.8,1.8,0,0,1-1.8-1.8V26.4a1.8,1.8,0,0,1,1.8-1.8h7V20a1.8,1.8,0,0,1,2.7-1.6l18.7,10a1.8,1.8,0,0,1,0,3.2L60.9,41.8ZM60,69.2l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V60.9a1.8,1.8,0,0,1,3.7,0v3.3l13-7.1-13-6.9v3.3A1.8,1.8,0,0,1,60,55.3h-7V59h1.7a1.8,1.8,0,0,1,0,3.7H51.2a1.8,1.8,0,0,1-1.8-1.8V53.5a1.8,1.8,0,0,1,1.8-1.8h7V47.1a1.8,1.8,0,0,1,2.7-1.6l18.7,10a1.8,1.8,0,0,1,0,3.2L60.9,69ZM40,54.8l-0.9-.2L20.4,44.2a1.8,1.8,0,0,1,0-3.2L39.1,31a1.8,1.8,0,0,1,2.7,1.6v4.5h7A1.8,1.8,0,0,1,50.6,39v7.4a1.8,1.8,0,0,1-1.8,1.8H45.2a1.8,1.8,0,0,1,0-3.7h1.7V40.9H40A1.8,1.8,0,0,1,38.1,39V35.7l-13,6.9,13,7.1V46.4a1.8,1.8,0,0,1,3.7,0v6.5a1.8,1.8,0,0,1-.9,1.6ZM40,81.9l-0.9-.2L20.4,71.4a1.8,1.8,0,0,1,0-3.2l18.7-10a1.8,1.8,0,0,1,2.7,1.6v4.5h7a1.8,1.8,0,0,1,1.8,1.8v7.4a1.8,1.8,0,0,1-1.8,1.8H45.2a1.8,1.8,0,0,1,0-3.7h1.7V68H40a1.8,1.8,0,0,1-1.8-1.8V62.9l-13,6.9,13,7.1V73.6a1.8,1.8,0,0,1,3.7,0V80a1.8,1.8,0,0,1-.9,1.6Z",z="M63.1,79.8a7.5,7.5,0,0,1-5.3-12.8,7.7,7.7,0,0,1,10.7,0A7.5,7.5,0,0,1,63.1,79.8Zm0-11.3A3.8,3.8,0,0,0,60.4,75h0a3.9,3.9,0,0,0,5.4,0A3.8,3.8,0,0,0,63.1,68.4ZM63.1,35.2A7.5,7.5,0,1,1,68.5,33h0A7.5,7.5,0,0,1,63.1,35.2Zm4-3.5h0Zm-4-7.8A3.8,3.8,0,1,0,65.8,25,3.8,3.8,0,0,0,63.1,23.9ZM73.3,57.3a7.5,7.5,0,1,1,7.5-7.5A7.5,7.5,0,0,1,73.3,57.3Zm0-11.3a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,73.3,46ZM61.9,48.7H51.5V41.9l5-5a1.9,1.9,0,0,0-2.6-2.6l-4.2,4.2L38,48.7H34.1A7.3,7.3,0,0,0,32,45a7.6,7.6,0,0,0-10.7,0,7.5,7.5,0,0,0,0,10.6,7.6,7.6,0,0,0,10.7,0,7.4,7.4,0,0,0,1.9-3.2h5.2l11.4,9.9,3.4,3.4a1.8,1.8,0,0,0,2.6,0,1.8,1.8,0,0,0,0-2.6l-5-5V52.4H61.9A1.9,1.9,0,0,0,61.9,48.7ZM29.4,53a3.8,3.8,0,0,1-6.5-2.7A3.9,3.9,0,0,1,24,47.6a3.9,3.9,0,0,1,5.4,0A3.8,3.8,0,0,1,29.4,53Z",m={_viewbox:"0 0 100 100",m_cloud:"M62,48.8H61.5a1.8,1.8,0,0,1-1.3-2.3,11,11,0,0,0-21.1-6.1,1.8,1.8,0,1,1-3.5-1,14.7,14.7,0,0,1,28.2,8.1A1.8,1.8,0,0,1,62,48.8ZM70.6,71.2H28.3A14.7,14.7,0,1,1,38.4,45.2,1.8,1.8,0,1,1,36,48a11,11,0,1,0-7.5,19.4H71.8A11,11,0,0,0,71,45.5a10.9,10.9,0,0,0-3.2.5,1.8,1.8,0,1,1-1.1-3.5,14.7,14.7,0,0,1,19,14A14.8,14.8,0,0,1,72.2,71.1H70.6Z",m_map:"M50,17.6A32.4,32.4,0,1,0,82.4,50,32.4,32.4,0,0,0,50,17.6Zm0,61.1A28.7,28.7,0,1,1,78.7,50,28.7,28.7,0,0,1,50,78.7ZM75.9,48.8a1.8,1.8,0,0,1-1.8,1.8H65a38.3,38.3,0,0,1-8.4,22.9,1.8,1.8,0,0,1-1.4.7,1.8,1.8,0,0,1-1.2-.4,1.8,1.8,0,0,1-.3-2.6,34.6,34.6,0,0,0,7.5-20.5H39.2a34.5,34.5,0,0,0,7.6,20.7,1.8,1.8,0,0,1-1.4,3,1.8,1.8,0,0,1-1.4-.7,38.2,38.2,0,0,1-8.5-23H26.2a1.8,1.8,0,1,1,0-3.7h9.4a38.1,38.1,0,0,1,8.4-21.6,1.8,1.8,0,0,1,2.9,2.3,34.4,34.4,0,0,0-7.6,19.3h22a34.3,34.3,0,0,0-8-19.7,1.8,1.8,0,1,1,2.8-2.4,38,38,0,0,1,8.8,22.1h9.1A1.8,1.8,0,0,1,75.9,48.8Z",m_selectMap:"M51.36,8.74A32.45,32.45,0,0,0,19,41.15a32.12,32.12,0,0,0,9.22,22.62L17,72.07a1.84,1.84,0,0,0,1,3.32L35.52,76h0l10,14.42a1.84,1.84,0,0,0,1.52.79,2.05,2.05,0,0,0,.49-0.06,1.84,1.84,0,0,0,1.35-1.66l2.68-39.19a1.73,1.73,0,0,0-.06-0.6,0.85,0.85,0,0,0-.09-0.24,1.7,1.7,0,0,0-.81-0.9l-0.18-.1a1.69,1.69,0,0,0-.94-0.16H49.33l-0.16,0a1,1,0,0,0-.31.12,1.52,1.52,0,0,0-.33.18L42.73,53a34.6,34.6,0,0,1-2.22-11.21H62.68a34.55,34.55,0,0,1-7.55,20.54A1.85,1.85,0,1,0,58,64.63a38.26,38.26,0,0,0,8.37-22.86h9.08a1.85,1.85,0,0,0,0-3.7H66.3a38.06,38.06,0,0,0-8.83-22.14,1.85,1.85,0,1,0-2.82,2.38,34.37,34.37,0,0,1,8,19.76h-22a34.38,34.38,0,0,1,7.58-19.3,1.85,1.85,0,1,0-2.87-2.33,38.11,38.11,0,0,0-8.41,21.63H27.53a1.85,1.85,0,0,0,0,3.7h9.28a38.43,38.43,0,0,0,2.85,13.48l-8.5,6.31a28.71,28.71,0,1,1,23.21,8.16,1.85,1.85,0,0,0,.19,3.68h0.19A32.41,32.41,0,0,0,51.36,8.74Zm-4,49.75L45.57,84l-6.85-9.87,2.64-4.92,0.56-1,2.8-5C45.61,61.58,46.49,60,47.31,58.49ZM44,56.63c-0.81,1.5-1.69,3.11-2.56,4.73l-3.3,6.11-0.19.35C37,69.4,36.19,70.93,35.4,72.34l-12-.44Z",thatsNoMoon:"M50,83.4A33.2,33.2,0,1,1,83.2,50.2,33.2,33.2,0,0,1,50,83.4ZM79.3,50.1A29.3,29.3,0,1,0,50.1,79.4,29.3,29.3,0,0,0,79.3,50.1ZM65.4,46.9h9.1A1.9,1.9,0,0,1,76.4,48a1.9,1.9,0,0,1-.3,2.1,2.1,2.1,0,0,1-1.8.7H65.4c-0.1.6-.1,1.2-0.2,1.8A38.5,38.5,0,0,1,57,73.9a2.1,2.1,0,0,1-2.2.9,2,2,0,0,1-1.4-1.6,2.3,2.3,0,0,1,.6-1.7,33.6,33.6,0,0,0,4.9-8.5,34.6,34.6,0,0,0,2.5-11c0-.3,0-0.7,0-1.1H38.9c0.2,1.3.3,2.6,0.5,3.9a34.2,34.2,0,0,0,7.3,17,2,2,0,1,1-3,2.4A37.1,37.1,0,0,1,39.1,67a40.8,40.8,0,0,1-4-15.5V50.8H25.8a2,2,0,0,1-2.2-1.9,1.9,1.9,0,0,1,2.1-2H35l0.3-1.8-0.8-.2a7.5,7.5,0,0,1-5.5-8.5,12.4,12.4,0,0,1,10-10.3,15.5,15.5,0,0,1,3.4,0,0.6,0.6,0,0,0,.7-0.3l0.8-1.1a1.9,1.9,0,0,1,2.5-.4,1.8,1.8,0,0,1,.7,2.4,13.6,13.6,0,0,1-.8,1.4,7.7,7.7,0,0,1,2.1,6.3A11,11,0,0,1,46,40.2a12.6,12.6,0,0,1-6.3,4.5,0.5,0.5,0,0,0-.5.6c0,0.5-.1,1-0.1,1.6H61.5l-0.7-4A33.6,33.6,0,0,0,53.5,27c-0.8-1-.9-1.7-0.4-2.5a1.7,1.7,0,0,1,2.4-.7,3.6,3.6,0,0,1,1.1.9,37,37,0,0,1,8,17.1c0.3,1.5.4,3,.7,4.4v0.7Zm-28.8-4A10.1,10.1,0,0,0,46,34.1a5.3,5.3,0,0,0-6-5.8A10.2,10.2,0,0,0,31.3,36C30.4,39.9,32.8,42.9,36.6,42.9ZM34.9,35.1a4,4,0,0,1,2.7-3.2,2.7,2.7,0,0,1,3.8,2.6,4.4,4.4,0,0,1-2.5,4C36.8,39.5,34.7,38,34.9,35.1Zm2,0.7c0,0.7.3,1,.9,0.9a2.3,2.3,0,0,0,1.5-2.3,0.7,0.7,0,0,0-1.1-.6A2.2,2.2,0,0,0,36.9,35.8Z",m_ports:"M83.2,20L80,16.8a4.8,4.8,0,0,0-6.8,0l-1.4,1.4a4.8,4.8,0,0,0-1.4,3.4l-4.5,5.9a3.8,3.8,0,0,0,.4,5l1.2,1.2a3.8,3.8,0,0,0,5,.4l5.4-3.9,0.5-.6h0a4.8,4.8,0,0,0,3.4-1.4l1.4-1.4A4.8,4.8,0,0,0,83.2,20ZM70.3,31.1H70.1l-1.2-1.2a0.2,0.2,0,0,1,0-.2l3.3-4.4,2.6,2.6Zm10.3-6.9-1.4,1.4a1.1,1.1,0,0,1-1.6,0l-3.2-3.2a1.1,1.1,0,0,1,0-1.6l1.4-1.4a1.1,1.1,0,0,1,1.6,0l3.2,3.2A1.1,1.1,0,0,1,80.6,24.2ZM33.7,67.5l-1.2-1.2a3.8,3.8,0,0,0-5-.4l-5.9,4.5a4.8,4.8,0,0,0-3.4,1.4l-1.4,1.4a4.8,4.8,0,0,0,0,6.8L20,83.2a4.8,4.8,0,0,0,6.8,0l1.4-1.4a4.8,4.8,0,0,0,1.4-3.5l4.5-5.9A3.8,3.8,0,0,0,33.7,67.5ZM25.6,79.3l-1.4,1.4a1.2,1.2,0,0,1-1.6,0l-3.2-3.2a1.1,1.1,0,0,1,0-1.6l1.4-1.4a1.1,1.1,0,0,1,.8-0.3,1.1,1.1,0,0,1,.8.3l3.2,3.2A1.1,1.1,0,0,1,25.6,79.3Zm5.6-9-3.3,4.4-2.5-2.5,4.3-3.3h0.2l1.2,1.2A0.2,0.2,0,0,1,31.1,70.3ZM65.4,61.9a6.2,6.2,0,0,1-8.8,0L37.2,42.5A2.5,2.5,0,1,0,33.7,46l7,7a6.2,6.2,0,0,1,.4,8.3h0l-0.2.2-0.2.2-3.6,3.6a1.8,1.8,0,0,1-2.6-2.6l3.6-3.6h0.1a2.5,2.5,0,0,0-.1-3.4l-7-7a6.2,6.2,0,0,1,8.8-8.8L59.3,59.3a2.5,2.5,0,0,0,3.5-3.5l-6.2-6.2a6.2,6.2,0,0,1,0-8.8l6.1-6.1a1.8,1.8,0,0,1,2.6,2.6l-6.1,6.1a2.5,2.5,0,0,0,0,3.5l6.2,6.2A6.2,6.2,0,0,1,65.4,61.9Z",m_switch:L,m_roadm:L+v,m_router:"M29.3,60.9l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V55.2H21.4a1.8,1.8,0,0,1-1.8-1.8V46.7a1.8,1.8,0,0,1,1.8-1.8h3.2a1.8,1.8,0,0,1,0,3.7H23.2v3h6.1a1.8,1.8,0,0,1,1.8,1.8V56l11.1-5.9L31.1,44v2.7a1.8,1.8,0,0,1-3.7,0V40.8a1.8,1.8,0,0,1,2.7-1.6L47,48.5a1.8,1.8,0,0,1,0,3.2l-16.8,9ZM70.6,60.9l-0.9-.2L52.9,51.4a1.8,1.8,0,0,1,0-3.2l16.8-9a1.8,1.8,0,0,1,2.7,1.6v3.9h6.1a1.8,1.8,0,0,1,1.8,1.8v6.7a1.8,1.8,0,0,1-1.8,1.8H75.4a1.8,1.8,0,0,1,0-3.7h1.3v-3H70.6a1.8,1.8,0,0,1-1.8-1.8V43.9L57.7,49.8l11.1,6.1V53.2a1.8,1.8,0,0,1,3.7,0v5.8a1.8,1.8,0,0,1-.9,1.6ZM49.8,82.5h0a1.8,1.8,0,0,1-1.6-1l-9-16.8A1.8,1.8,0,0,1,40.8,62h3.9V55.9a1.8,1.8,0,0,1,1.8-1.8h6.7a1.8,1.8,0,0,1,1.8,1.8v3.2a1.8,1.8,0,0,1-3.7,0V57.8h-3v6.1a1.8,1.8,0,0,1-1.8,1.8H43.9l5.9,11.1,6.1-11.1H53.2a1.8,1.8,0,0,1,0-3.7h5.8a1.8,1.8,0,0,1,1.6,2.7L51.4,81.5A1.8,1.8,0,0,1,49.8,82.5ZM53.3,45.8H46.7A1.8,1.8,0,0,1,44.8,44V40.8a1.8,1.8,0,0,1,3.7,0v1.3h3V36a1.8,1.8,0,0,1,1.8-1.8H56L50.1,23.1,44,34.2h2.7a1.8,1.8,0,0,1,0,3.7H40.8a1.8,1.8,0,0,1-1.6-2.7l9.2-16.8a1.8,1.8,0,0,1,1.6-1h0a1.8,1.8,0,0,1,1.6,1l9,16.8a1.8,1.8,0,0,1-1.6,2.7H55.2V44A1.8,1.8,0,0,1,53.3,45.8ZM50,91.2A41.3,41.3,0,1,1,91.2,50,41.3,41.3,0,0,1,50,91.2Zm0-78.9A37.6,37.6,0,1,0,87.6,50,37.6,37.6,0,0,0,50,12.4Z",m_uiAttached:"M73.6,61.3H26.4a4.9,4.9,0,0,1-4.9-4.9V27.7a4.9,4.9,0,0,1,4.9-4.9H73.6a4.9,4.9,0,0,1,4.9,4.9V56.5A4.9,4.9,0,0,1,73.6,61.3ZM26.4,26.5a1.2,1.2,0,0,0-1.2,1.2V56.5a1.2,1.2,0,0,0,1.2,1.2H73.6a1.2,1.2,0,0,0,1.2-1.2V27.7a1.2,1.2,0,0,0-1.2-1.2H26.4ZM63.5,75.3a1.8,1.8,0,0,1-1.8,1.8H38.4a1.8,1.8,0,0,1,0-3.7h9.8V65.7a1.8,1.8,0,0,1,3.7,0v7.8h9.8A1.8,1.8,0,0,1,63.5,75.3Z",m_office:"M31.7,28.6h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,1,31.7,28.6ZM45,28.6h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,1,45,28.6ZM31.7,38.3h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,1,31.7,38.3ZM45,38.3h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,1,45,38.3ZM31.7,48.1h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,1,31.7,48.1ZM45,48.1h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,1,45,48.1ZM63.7,51.1h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,1,63.7,51.1ZM77,51.1H71a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,0,1,77,51.1ZM63.7,60.9h-6a1.8,1.8,0,1,1,0-3.7h6A1.8,1.8,0,0,1,63.7,60.9ZM77,60.9H71a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,0,1,77,60.9ZM45,57.9h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,1,45,57.9ZM45,67.6h-6a1.8,1.8,0,0,1,0-3.7h6A1.8,1.8,0,1,1,45,67.6ZM82.3,37.9H52.6V18a1.8,1.8,0,0,0-1.8-1.8H19.2A1.8,1.8,0,0,0,17.3,18V50.1a1.8,1.8,0,0,0,3.7,0V19.8H48.9V80.2H27.2V75.4c4-1.2,6.5-3.3,7.3-6.3,2-7.2-6.8-16.2-7.8-17.2a1.9,1.9,0,0,0-2.6,0c-1,1-9.9,10-7.9,17.2,0.8,3,3.3,5.1,7.3,6.3v4.7H21V77.9a1.8,1.8,0,0,0-3.7,0V82a1.8,1.8,0,0,0,1.9,1.8H82.3A1.8,1.8,0,0,0,84.1,82V39.7A1.8,1.8,0,0,0,82.3,37.9ZM25.4,62.5a1.9,1.9,0,0,0-1.9,1.8v7.2c-2.1-.8-3.4-1.9-3.8-3.4-1-3.7,3-9.2,5.6-12.2,2.6,3,6.6,8.5,5.6,12.2-0.4,1.5-1.7,2.6-3.8,3.4V64.4A1.8,1.8,0,0,0,25.4,62.5ZM71.5,80.2H63.3V70h8.2V80.2Zm8.9,0H75.2V68.1a1.8,1.8,0,0,0-1.8-1.8H61.5a1.8,1.8,0,0,0-1.8,1.8V80.2H52.6V41.6H80.4V80.2Z",m_home:"M79.2,52.2a1.7,1.7,0,0,1-2.3,0l-5.8-5.8V77a1.7,1.7,0,0,1-1.7,1.7H30.6A1.7,1.7,0,0,1,28.9,77V52.1a1.7,1.7,0,1,1,3.3,0V75.3H67.8V43.8a1.7,1.7,0,0,1,.1-0.7L50.1,25.4l-26.9,27a1.7,1.7,0,0,1-1.2.5A1.7,1.7,0,0,1,20.8,50L48.9,21.8a1.7,1.7,0,0,1,2.4,0l28,28A1.7,1.7,0,0,1,79.2,52.2ZM57.1,61.6H42.9a1.7,1.7,0,0,1-1.7-1.7V45.6A1.7,1.7,0,0,1,42.9,44H57.1a1.7,1.7,0,0,1,1.7,1.7V59.9A1.7,1.7,0,0,1,57.1,61.6ZM44.5,58.2H55.5V47.3H44.5V58.2Z",m_summary:"M73.9,79.9H26.1A4.9,4.9,0,0,1,21.2,75V25a4.9,4.9,0,0,1,4.9-4.9H73.9A4.9,4.9,0,0,1,78.8,25V75A4.9,4.9,0,0,1,73.9,79.9Zm-47.8-56A1.2,1.2,0,0,0,24.9,25V75a1.2,1.2,0,0,0,1.2,1.2H73.9A1.2,1.2,0,0,0,75.1,75V25a1.2,1.2,0,0,0-1.2-1.2H26.1ZM42.4,46.7h-8a4.9,4.9,0,0,1-4.9-4.9v-8A4.9,4.9,0,0,1,34.4,29h8a4.9,4.9,0,0,1,4.9,4.9v8A4.9,4.9,0,0,1,42.4,46.7Zm-8-14.1a1.2,1.2,0,0,0-1.2,1.2v8A1.2,1.2,0,0,0,34.4,43h8a1.2,1.2,0,0,0,1.2-1.2v-8a1.2,1.2,0,0,0-1.2-1.2h-8ZM68.7,57.3H31.3a1.8,1.8,0,0,1,0-3.7H68.7A1.8,1.8,0,0,1,68.7,57.3ZM68.7,66.5H31.3a1.8,1.8,0,0,1,0-3.7H68.7A1.8,1.8,0,0,1,68.7,66.5Z",m_details:"M68.7,33.2H31.3a1.8,1.8,0,0,1,0-3.7H68.7A1.8,1.8,0,1,1,68.7,33.2ZM73.9,17.5H26.1a4.9,4.9,0,0,0-4.9,4.9V72.4a4.9,4.9,0,0,0,4.9,4.9h8.2l-4.1,6.6a1.9,1.9,0,0,0,.6,2.5l1,0.3a1.8,1.8,0,0,0,1.6-.9L46.1,64.9a15.1,15.1,0,0,0,4,.5,15.6,15.6,0,0,0,3.7-.4A15.9,15.9,0,0,0,57,63.9H68.7a1.8,1.8,0,0,0,0-3.7H61.9a16.6,16.6,0,0,0,1.6-2.2,15.5,15.5,0,0,0,2.2-9.4h2.9a1.8,1.8,0,0,0,0-3.7H65a15.7,15.7,0,0,0-29.8,0H31.3a1.8,1.8,0,1,0,0,3.7h3.2a15.7,15.7,0,0,0,.4,4.9,15.5,15.5,0,0,0,3.5,6.7H31.3a1.8,1.8,0,1,0,0,3.7H42.4l-6,9.8H26.1a1.2,1.2,0,0,1-1.2-1.2V22.4a1.2,1.2,0,0,1,1.2-1.2H73.9a1.2,1.2,0,0,1,1.2,1.2V72.4a1.2,1.2,0,0,1-1.2,1.2H44.5a1.8,1.8,0,0,0,0,3.7H73.9a4.9,4.9,0,0,0,4.9-4.9V22.4A4.9,4.9,0,0,0,73.9,17.5ZM38.5,52.6A12,12,0,0,1,50.2,37.8,12,12,0,0,1,61.8,47a10.7,10.7,0,0,1,.3,1.6,12,12,0,0,1-5.9,11.6,12,12,0,0,1-12,0L43.9,60A12,12,0,0,1,38.5,52.6Z",m_oblique:"M82.1,30.5a1.8,1.8,0,0,0-1.7-1.1H30.2a1.8,1.8,0,0,0-1.4.7L18.2,42.8a1.8,1.8,0,0,0,1.4,3H40.9V62.2a1.8,1.8,0,1,0,3.7,0V45.8H55.4V62.2a1.9,1.9,0,1,0,3.7,0V45.8H69.8a1.9,1.9,0,0,0,1.4-.7L81.8,32.5A1.8,1.8,0,0,0,82.1,30.5ZM69,42.2H23.5l7.5-9H76.5ZM69.8,70.5H19.6a1.8,1.8,0,0,1-1.4-3L28.7,54.8a1.8,1.8,0,0,1,1.4-.7h7a1.8,1.8,0,0,1,0,3.7H31l-7.5,9H69l7.5-9H62.4a1.8,1.8,0,0,1,0-3.7H80.4a1.8,1.8,0,0,1,1.4,3L71.3,69.9A1.8,1.8,0,0,1,69.8,70.5ZM52.3,57.8H47.6a1.8,1.8,0,0,1,0-3.7h4.8A1.8,1.8,0,0,1,52.3,57.8Z",m_filters:"M69.9,45.8H19.5a1.9,1.9,0,0,1-1.4-3L28.7,30a1.8,1.8,0,0,1,1.4-.7H80.5a1.8,1.8,0,0,1,1.4,3L71.3,45.1A1.8,1.8,0,0,1,69.9,45.8ZM23.5,42.1H69l7.5-9H31ZM69.9,58.2H19.5a1.8,1.8,0,0,1-1.4-3l6.1-7.3a1.8,1.8,0,0,1,2.8,2.4l-3.6,4.3H69l7.6-9.1a1.8,1.8,0,0,1,.5-3.6h3.4a1.8,1.8,0,0,1,1.4,3L71.3,57.5A1.8,1.8,0,0,1,69.9,58.2ZM69.9,70.7H19.5a1.9,1.9,0,0,1-1.4-3l5.6-6.7a1.8,1.8,0,0,1,2.8,2.4L23.5,67H69l7.5-9H76.3a1.8,1.8,0,0,1,0-3.7h4.1a1.9,1.9,0,0,1,1.4,3L71.3,70A1.8,1.8,0,0,1,69.9,70.7Z",m_cycleLabels:"M78.5,74.7a34.2,34.2,0,0,1-47.7,6.8l-0.3-.3L30.4,81V80.8a1.8,1.8,0,0,1,.8-2.5l0.7-.3-5.2-3.4v6.2l0.7-.3a1.8,1.8,0,1,1,1.7,3.3l-3.4,1.8-0.9.2-1-.3a1.9,1.9,0,0,1-.9-1.6V71.1a1.8,1.8,0,0,1,2.8-1.5l10.7,7a1.9,1.9,0,0,1,.8,1.6,1.9,1.9,0,0,1-1,1.5l-0.7.4a30.5,30.5,0,0,0,40.1-7.7A1.8,1.8,0,0,1,78.5,74.7ZM30.8,25.7L29.5,38.4a1.8,1.8,0,0,1-1.1,1.5l-0.8.2a1.9,1.9,0,0,1-1.1-.3l-1.7-1.2a30.1,30.1,0,0,0-2.7,6,1.9,1.9,0,0,1-1.8,1.3H19.9a1.8,1.8,0,0,1-1.2-2.3A33.9,33.9,0,0,1,22.8,35a1.8,1.8,0,0,1,1.6-.8,1.9,1.9,0,0,1,1.2.3L26.2,35l0.7-6.2-5.5,2.8L21.9,32a1.8,1.8,0,1,1-2.1,3l-3.1-2.2a1.8,1.8,0,0,1,.2-3.2l11.3-5.8A1.8,1.8,0,0,1,30.8,25.7ZM85.2,30.8L84.7,43.4a1.8,1.8,0,0,1-1,1.6l-0.8.2a1.8,1.8,0,0,1-1.1-.4L71.4,37.4a1.8,1.8,0,0,1,.3-3.2l1.9-.9a30.5,30.5,0,0,0-3.9-5.3,1.8,1.8,0,0,1,2.7-2.5,34.3,34.3,0,0,1,5.3,7.7,2,2,0,0,1-.9,2.6l-0.7.3,5.1,3.6,0.3-6.2-0.7.3a1.8,1.8,0,0,1-1.6-3.3L82.6,29a1.8,1.8,0,0,1,1.8.1A1.9,1.9,0,0,1,85.2,30.8ZM62.4,32.2H40.2a4.9,4.9,0,0,1-4.9-4.9V16.6a4.9,4.9,0,0,1,4.9-4.9H62.4a4.9,4.9,0,0,1,4.9,4.9V27.3A4.9,4.9,0,0,1,62.4,32.2ZM40.2,15.4A1.2,1.2,0,0,0,39,16.6V27.3a1.2,1.2,0,0,0,1.2,1.2H62.4a1.2,1.2,0,0,0,1.2-1.2V16.6a1.2,1.2,0,0,0-1.2-1.2H40.2ZM88.4,68.1H66.2a4.9,4.9,0,0,1-4.9-4.9V52.6a4.9,4.9,0,0,1,4.9-4.9H88.4a4.9,4.9,0,0,1,4.9,4.9V63.2A4.9,4.9,0,0,1,88.4,68.1ZM66.2,51.4A1.2,1.2,0,0,0,65,52.6V63.2a1.2,1.2,0,0,0,1.2,1.2H88.4a1.2,1.2,0,0,0,1.2-1.2V52.6a1.2,1.2,0,0,0-1.2-1.2H66.2ZM33.8,68.1H11.6a4.9,4.9,0,0,1-4.9-4.9V52.6a4.9,4.9,0,0,1,4.9-4.9H33.8a4.9,4.9,0,0,1,4.9,4.9V63.2A4.9,4.9,0,0,1,33.8,68.1ZM11.6,51.4a1.2,1.2,0,0,0-1.2,1.2V63.2a1.2,1.2,0,0,0,1.2,1.2H33.8A1.2,1.2,0,0,0,35,63.2V52.6a1.2,1.2,0,0,0-1.2-1.2H11.6Z",m_prev:"M59.8,72l-0.9-.2L21.8,51.3a1.8,1.8,0,0,1,0-3.2L58.9,28.2a1.8,1.8,0,0,1,2.7,1.6V40.7H77.3a1.8,1.8,0,0,1,1.8,1.8V57.3a1.8,1.8,0,0,1-1.8,1.8h-7a1.8,1.8,0,1,1,0-3.7h5.2v-11H59.8A1.8,1.8,0,0,1,58,42.6V33L26.6,49.7,58,67V57.3a1.8,1.8,0,0,1,3.7,0V70.1a1.8,1.8,0,0,1-.9,1.6Z",m_next:"M40.2,72l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V57.3a1.8,1.8,0,0,1,3.7,0V67L73.5,49.7,42,32.9v9.6a1.8,1.8,0,0,1-1.8,1.8H24.5v11h5.2a1.8,1.8,0,1,1,0,3.7h-7a1.8,1.8,0,0,1-1.8-1.8V42.6a1.8,1.8,0,0,1,1.8-1.8H38.3V29.9a1.8,1.8,0,0,1,2.7-1.6L78.2,48.1a1.8,1.8,0,0,1,0,3.2L41.1,71.8Z",m_flows:"M50.1,26.2a7.4,7.4,0,1,1,7.4-7.4A7.4,7.4,0,0,1,50.1,26.2Zm0-11.2a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,50.1,15ZM50.1,88.6a7.4,7.4,0,1,1,7.4-7.4A7.4,7.4,0,0,1,50.1,88.6Zm0-11.2a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,50.1,77.4ZM72,50.1a1.8,1.8,0,0,1-1.8,1.8H58.1V55a3,3,0,0,1-3,3H51.9V70.2a1.8,1.8,0,0,1-3.6,0V58.1h-3a3,3,0,0,1-3-3V51.9H29.8a1.8,1.8,0,1,1,0-3.6H42.3v-3a3,3,0,0,1,3-3h3a1.7,1.7,0,0,1,0-.3V29.8a1.8,1.8,0,0,1,3.6,0V41.9a1.7,1.7,0,0,1,0,.3h3.2a3,3,0,0,1,3,3v3H70.2A1.8,1.8,0,0,1,72,50.1ZM18.8,57.5a7.4,7.4,0,1,1,7.4-7.4A7.4,7.4,0,0,1,18.8,57.5Zm0-11.2a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,18.8,46.3ZM81.2,57.5a7.4,7.4,0,1,1,7.4-7.4A7.4,7.4,0,0,1,81.2,57.5Zm0-11.2A3.8,3.8,0,1,0,85,50.1,3.8,3.8,0,0,0,81.2,46.3Z",m_allTraffic:"M50,87a16.1,16.1,0,0,1-11.5-4.7L17.7,61.5a16.3,16.3,0,0,1,0-22.9L38.5,17.7a16.3,16.3,0,0,1,22.9,0L82.3,38.5a16.3,16.3,0,0,1,0,22.9L61.5,82.3A16.1,16.1,0,0,1,50,87Zm0-70.3a12.4,12.4,0,0,0-8.9,3.7L20.3,41.1a12.6,12.6,0,0,0,0,17.7L41.1,79.7a12.6,12.6,0,0,0,17.7,0L79.7,58.9a12.6,12.6,0,0,0,0-17.7L58.9,20.3A12.4,12.4,0,0,0,50,16.7ZM41,66.7l-0.9-.2-16.8-9a1.8,1.8,0,0,1,0-3.2L40.1,45a1.8,1.8,0,0,1,2.7,1.6v5.8a1.8,1.8,0,0,1-3.7,0V49.7L28,55.8l11.1,5.9V59.1A1.8,1.8,0,0,1,41,57.2H47v-3H45.7a1.8,1.8,0,0,1,0-3.7h3.2a1.8,1.8,0,0,1,1.8,1.8v6.7a1.8,1.8,0,0,1-1.8,1.8H42.8v3.9a1.8,1.8,0,0,1-.9,1.6ZM59,55.3l-1-.3a1.8,1.8,0,0,1-.9-1.6V49.5H51.1a1.8,1.8,0,0,1-1.8-1.8V41a1.8,1.8,0,0,1,1.8-1.8h3.2a1.8,1.8,0,0,1,0,3.7H53v3H59a1.8,1.8,0,0,1,1.8,1.8v2.7L72,44.4,60.9,38.3V41a1.8,1.8,0,0,1-3.7,0V35.2a1.8,1.8,0,0,1,2.7-1.6l16.8,9.3a1.8,1.8,0,0,1,0,3.2L59.9,55Z",m_xMark:"M76.8,73.7a2.2,2.2,0,0,1-3.1,3.1L50,53.1,26.3,76.7a2.2,2.2,0,1,1-3.1-3.1L46.9,50,23.2,26.3a2.2,2.2,0,0,1,3.1-3.1L50,46.9,73.7,23.2a2.2,2.2,0,1,1,3.1,3.1L53.1,50Z",m_resetZoom:"M73.9,76.8H64.2a1.8,1.8,0,1,1,0-3.7h9.7a1.2,1.2,0,0,0,1.2-1.2V62.6a1.8,1.8,0,0,1,3.7,0v9.3A4.9,4.9,0,0,1,73.9,76.8ZM77,33.3a1.8,1.8,0,0,1-1.8-1.8V22a1.2,1.2,0,0,0-1.2-1.2H64.2a1.8,1.8,0,1,1,0-3.7h9.7A4.9,4.9,0,0,1,78.8,22v9.5A1.8,1.8,0,0,1,77,33.3ZM23,33.6a1.8,1.8,0,0,1-1.8-1.8V22a4.9,4.9,0,0,1,4.9-4.9h9.8a1.8,1.8,0,0,1,0,3.7H26.1A1.2,1.2,0,0,0,24.9,22v9.7A1.8,1.8,0,0,1,23,33.6ZM65.3,42.3A15.7,15.7,0,1,0,42.6,59.8L34.4,73.1H26.1a1.2,1.2,0,0,1-1.2-1.2V62.1a1.9,1.9,0,0,0-3.7,0v9.8a4.9,4.9,0,0,0,4.9,4.9h6.1l-2,3.3a1.8,1.8,0,0,0,.6,2.5,1.8,1.8,0,0,0,1,.3,1.8,1.8,0,0,0,1.6-.9L46,61.2a15.7,15.7,0,0,0,7.7.1A15.7,15.7,0,0,0,65.3,42.3Zm-5,9.9A12,12,0,1,1,50.1,34a12,12,0,0,1,11.7,9.2A11.9,11.9,0,0,1,60.3,52.3Z",m_eqMaster:"M63,79.9H37.4a1.8,1.8,0,0,1-1.2-3.2L48.8,65.1a1.8,1.8,0,0,1,2.5,0L64.2,76.7A1.8,1.8,0,0,1,63,79.9ZM42.1,76.2H58.2l-8.1-7.3ZM19.7,65.8a1.8,1.8,0,0,1-.3-3.7l61-11.3a1.8,1.8,0,1,1,.7,3.6L20,65.8H19.7ZM34.2,53.5A16.7,16.7,0,1,1,50.9,36.8,16.7,16.7,0,0,1,34.2,53.5Zm0-29.7a13,13,0,1,0,13,13A13,13,0,0,0,34.2,23.8ZM70.7,45.7a8.6,8.6,0,1,1,8.6-8.6A8.6,8.6,0,0,1,70.7,45.7Zm0-13.6a4.9,4.9,0,1,0,4.9,4.9A4.9,4.9,0,0,0,70.7,32.2Z",m_unknown:"M63.2,20.6H36.8A16.2,16.2,0,0,0,20.6,36.8V63.2A16.2,16.2,0,0,0,36.8,79.4H63.2A16.2,16.2,0,0,0,79.4,63.2V36.8A16.2,16.2,0,0,0,63.2,20.6ZM75.7,63.2A12.5,12.5,0,0,1,63.2,75.7H36.8A12.5,12.5,0,0,1,24.3,63.2V36.8A12.5,12.5,0,0,1,36.8,24.3H63.2A12.5,12.5,0,0,1,75.7,36.8V63.2ZM67.3,64.7a1.8,1.8,0,0,1-2.6,2.6L50,52.6,35.3,67.3a1.8,1.8,0,0,1-2.6-2.6L47.4,50,32.7,35.3a1.8,1.8,0,0,1,2.6-2.6L50,47.4,64.7,32.7a1.8,1.8,0,0,1,2.6,2.6L52.6,50Z",m_controller:"M73.9,20.1H26.1A4.9,4.9,0,0,0,21.2,25V75a4.9,4.9,0,0,0,4.9,4.9H73.9A4.9,4.9,0,0,0,78.8,75V25A4.9,4.9,0,0,0,73.9,20.1ZM75.1,75a1.2,1.2,0,0,1-1.2,1.2H26.1A1.2,1.2,0,0,1,24.9,75V25a1.2,1.2,0,0,1,1.2-1.2H73.9A1.2,1.2,0,0,1,75.1,25V75ZM70.5,63a1.8,1.8,0,0,1-1.9,1.8H38.3v2.4a1.8,1.8,0,0,1-3.7,0V64.9H31.3a1.8,1.8,0,1,1,0-3.7h3.3V58.3a1.8,1.8,0,0,1,3.7,0v2.9H68.7A1.9,1.9,0,0,1,70.5,63ZM70.5,36.6a1.9,1.9,0,0,1-1.9,1.9H44.5v2.3a1.8,1.8,0,0,1-3.7,0V38.5H31.3a1.8,1.8,0,1,1,0-3.7h9.5v-3a1.8,1.8,0,0,1,3.7,0v3H68.7A1.8,1.8,0,0,1,70.5,36.6ZM70.5,49.8a1.9,1.9,0,0,1-1.9,1.8H60.9v2.1a1.8,1.8,0,1,1-3.7,0V51.7H31.3a1.8,1.8,0,1,1,0-3.7H57.2V44.8a1.8,1.8,0,1,1,3.7,0V48h7.8A1.9,1.9,0,0,1,70.5,49.8Z",m_virtual:"M56.6,53.5l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V45.8a1.8,1.8,0,1,1,3.7,0v2.7l11.1-6.1L58.4,36.5v2.7A1.8,1.8,0,0,1,56.6,41H50.5v3h1.3a1.8,1.8,0,0,1,0,3.7H48.6a1.8,1.8,0,0,1-1.8-1.8V39.2a1.8,1.8,0,0,1,1.8-1.8h6.1V33.4a1.8,1.8,0,0,1,2.7-1.6l16.8,9a1.8,1.8,0,0,1,0,3.2L57.5,53.3ZM56.6,77.9l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V70.2a1.8,1.8,0,1,1,3.7,0v2.7l11.1-6.1L58.4,60.9v2.7a1.8,1.8,0,0,1-1.8,1.8H50.5v3h1.3a1.8,1.8,0,0,1,0,3.7H48.6a1.8,1.8,0,0,1-1.8-1.8V63.6a1.8,1.8,0,0,1,1.8-1.8h6.1V57.8a1.8,1.8,0,0,1,2.7-1.6l16.8,9a1.8,1.8,0,0,1,0,3.2L57.5,77.7ZM38.5,64.9l-0.9-.2L20.8,55.4a1.8,1.8,0,0,1,0-3.2l16.8-9a1.8,1.8,0,0,1,2.7,1.6v3.9h6.1a1.8,1.8,0,0,1,1.8,1.8v6.7a1.8,1.8,0,0,1-1.8,1.8H43.2a1.8,1.8,0,1,1,0-3.7h1.3v-3H38.5a1.8,1.8,0,0,1-1.8-1.8V47.9L25.6,53.8l11.1,6.1V57.2a1.8,1.8,0,0,1,3.7,0v5.8a1.8,1.8,0,0,1-.9,1.6ZM38.5,89.3l-0.9-.2L20.8,79.8a1.8,1.8,0,0,1,0-3.2l16.8-9a1.8,1.8,0,0,1,2.7,1.6v3.9h6.1A1.8,1.8,0,0,1,48.3,75v6.7a1.8,1.8,0,0,1-1.8,1.8H43.2a1.8,1.8,0,1,1,0-3.7h1.3v-3H38.5A1.8,1.8,0,0,1,36.6,75V72.3L25.6,78.2l11.1,6.1V81.6a1.8,1.8,0,1,1,3.7,0v5.8a1.8,1.8,0,0,1-.9,1.6ZM60.8,29.1H60.3A1.8,1.8,0,0,1,59,26.8a9.7,9.7,0,0,0-18.7-5.4,1.8,1.8,0,1,1-3.5-1,13.4,13.4,0,0,1,25.8,7.4A1.8,1.8,0,0,1,60.8,29.1ZM77.4,45.7a1.8,1.8,0,0,1-1.3-3.1,9.7,9.7,0,0,0-9.9-16A1.8,1.8,0,1,1,65,23.1,13.4,13.4,0,0,1,78.7,45.1,1.8,1.8,0,0,1,77.4,45.7ZM22.7,45.8a1.8,1.8,0,0,1-1.3-.6A13.4,13.4,0,0,1,39.6,25.6a1.8,1.8,0,1,1-2.4,2.8A9.7,9.7,0,0,0,24,42.6,1.8,1.8,0,0,1,22.7,45.8Z",m_other:"M78.9,64.9H21.1A4.9,4.9,0,0,1,16.2,60V24.3a4.9,4.9,0,0,1,4.9-4.9H78.9a4.9,4.9,0,0,1,4.9,4.9V60A4.9,4.9,0,0,1,78.9,64.9ZM21.1,23.1a1.2,1.2,0,0,0-1.2,1.2V60a1.2,1.2,0,0,0,1.2,1.2H78.9A1.2,1.2,0,0,0,80.1,60V24.3a1.2,1.2,0,0,0-1.2-1.2H21.1ZM65.8,78.8a1.9,1.9,0,0,1-1.8,1.8H36.1a1.9,1.9,0,1,1,0-3.7H48.2V70.4a1.8,1.8,0,1,1,3.7,0v6.5H63.9A1.9,1.9,0,0,1,65.8,78.8ZM47.2,49.3V48.1c-0.3-2.3.5-4.9,2.7-7.5s3-4,3-5.9-1.4-3.7-4.1-3.7a7.7,7.7,0,0,0-4.4,1.3l-1-2.7A11.3,11.3,0,0,1,49.5,28c5,0,7.2,3.1,7.2,6.3s-1.6,5-3.7,7.5-2.6,4.1-2.5,6.3v1.1H47.2Zm-1,6a2.5,2.5,0,0,1,2.6-2.7A2.7,2.7,0,1,1,46.3,55.3Z",m_endstation:"M75,49.5H25a1.8,1.8,0,0,1-1.8-1.8V27.1A1.8,1.8,0,0,1,25,25.3H75a1.8,1.8,0,0,1,1.8,1.8V47.7A1.8,1.8,0,0,1,75,49.5ZM26.9,45.8H73.1V28.9H26.9V45.8ZM35.5,43.2H30.7a1.8,1.8,0,1,1,0-3.7h4.8A1.8,1.8,0,1,1,35.5,43.2ZM72.1,72.9a1.8,1.8,0,0,1-1.8,1.8H29.7a1.8,1.8,0,1,1,0-3.7H48.2V53.5a1.8,1.8,0,1,1,3.7,0V71.1H70.3A1.9,1.9,0,0,1,72.1,72.9Z",m_bgpSpeaker:"M59.2,49.6l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V43.3a1.8,1.8,0,1,1,3.7,0v1.3l7-3.9L61,37v1.3a1.8,1.8,0,0,1-1.8,1.8H47.5a1.8,1.8,0,1,1,0-3.7h9.8V33.9A1.8,1.8,0,0,1,60,32.3l12.8,6.8a1.8,1.8,0,0,1,0,3.2l-12.8,7ZM40,58.8l-0.9-.2-12.8-7a1.8,1.8,0,0,1,0-3.2l12.8-6.8a1.8,1.8,0,0,1,2.7,1.6v2.5h9.8a1.8,1.8,0,0,1,0,3.7H40a1.8,1.8,0,0,1-1.8-1.8V46.2l-7,3.8,7,3.9V52.5a1.8,1.8,0,0,1,3.7,0v4.4a1.8,1.8,0,0,1-.9,1.6ZM83.6,45.8c0,13.8-15.1,25-33.6,25a43.8,43.8,0,0,1-6.1-.4c-2.5,2.7-7.2,6.1-15.6,8.7H27.8a1.8,1.8,0,0,1-1.2-3.2s5.4-5,5.8-10.2a1.8,1.8,0,0,1,2-1.7A1.8,1.8,0,0,1,36,66a16.2,16.2,0,0,1-2.5,7.2,24.4,24.4,0,0,0,8.3-5.9L42,67l0.2-.2h0l0.6-.2h0.6a41.4,41.4,0,0,0,6.5.5c16.5,0,29.9-9.5,29.9-21.3S66.5,24.5,50,24.5,20.1,34.1,20.1,45.8c0,5.4,2.9,10.6,8.2,14.6a1.8,1.8,0,0,1-2.2,2.9c-6.2-4.7-9.7-10.9-9.7-17.5,0-13.8,15.1-25,33.6-25S83.6,32,83.6,45.8Z",m_otn:z,m_roadm_otn:z+v,m_fiberSwitch:"M47.5,37.2a1.8,1.8,0,0,1-1.8-1.8V25.6H43.4a1.8,1.8,0,0,1-1.6-2.7l6.4-12a1.8,1.8,0,0,1,1.6-1h0a1.8,1.8,0,0,1,1.6,1l6.6,12a1.8,1.8,0,0,1-1.6,2.7H53.2a1.8,1.8,0,0,1,0-3.7h0.1l-3.5-6.3L46.5,22h1a1.8,1.8,0,0,1,1.8,1.8V35.3A1.8,1.8,0,0,1,47.5,37.2ZM75.9,46.9H75.8a1.8,1.8,0,0,1-1.5-1l-1.8-3.4a1.8,1.8,0,1,1,3.2-1.7l0.4,0.8,4.2-6-7.1-.3,0.5,0.9a1.8,1.8,0,0,1-.8,2.5l-10.4,5a1.8,1.8,0,0,1-1.6-3.3l8.7-4.2-1-2a1.8,1.8,0,0,1,.1-1.8,1.8,1.8,0,0,1,1.6-.8l13.6,0.5A1.8,1.8,0,0,1,85.3,35L77.4,46.1A1.8,1.8,0,0,1,75.9,46.9ZM81.2,72.5H81.1l-13.6-.8A1.8,1.8,0,0,1,66,69l1.7-3.1a1.8,1.8,0,1,1,3.2,1.8l-0.3.5,7.3,0.4-3.5-6.2-0.5.9a1.8,1.8,0,0,1-2.5.6l-9.8-6.1a1.8,1.8,0,0,1,1.9-3.1l8.2,5.1,1.2-1.9a1.9,1.9,0,0,1,1.6-.9,1.8,1.8,0,0,1,1.6.9l6.8,11.8A1.8,1.8,0,0,1,81.2,72.5ZM48.8,89.7a1.8,1.8,0,0,1-1.6-1l-6.6-12a1.8,1.8,0,0,1,1.6-2.7h3.3a1.8,1.8,0,0,1,0,3.7H45.3L48.7,84l3.4-6.3h-1a1.8,1.8,0,0,1-1.8-1.8V64.4a1.8,1.8,0,0,1,1.8-1.8h0a1.8,1.8,0,0,1,1.8,1.8v9.7h2.3a1.8,1.8,0,0,1,1.6,2.7l-6.4,12a1.8,1.8,0,0,1-1.6,1h0ZM16.9,71.3a1.8,1.8,0,0,1-1.6-2.7l6.7-12a1.8,1.8,0,0,1,1.6-.9,1.9,1.9,0,0,1,1.6.9l1.7,2.8a1.8,1.8,0,1,1-3.1,1.9H23.7l-3.5,6.3,7.1-.5L26.8,66a1.8,1.8,0,0,1,.6-2.5l9.8-6.1a1.8,1.8,0,0,1,1.9,3.1l-8.2,5.1L32,67.6a1.8,1.8,0,0,1-1.4,2.8l-13.5.9H16.9ZM35.8,46.9L35,46.7l-8.7-4.3-1,2a1.8,1.8,0,0,1-3.1.3l-8-11a1.8,1.8,0,0,1,1.4-2.9l13.6-.7a1.8,1.8,0,0,1,1.6.8,1.8,1.8,0,0,1,.1,1.8l-1.6,3a1.8,1.8,0,1,1-3.3-1.7h0.1l-7.1.4,4.2,5.8,0.5-.9a1.8,1.8,0,0,1,2.5-.8l10.4,5.1A1.8,1.8,0,0,1,35.8,46.9ZM60.5,49.9a11.3,11.3,0,1,1-3.3-8A11.2,11.2,0,0,1,60.5,49.9Z",m_microwave:"M63.5,38.9a2.8,2.8,0,0,0-2.1,1H49.6V15.1a1.8,1.8,0,0,0-.5-1.3,1.8,1.8,0,0,0-1.3-.5h0a28.4,28.4,0,0,0-15.7,52V82.5H22.8a1.8,1.8,0,0,0,0,3.7H45a1.8,1.8,0,1,0,0-3.7H35.8V67.4a28.4,28.4,0,0,0,12,2.8h0a1.9,1.9,0,0,0,1.8-1.8V43.6H61.3a2.8,2.8,0,0,0,2.1,1A2.8,2.8,0,1,0,63.5,38.9ZM46,66.4a24.8,24.8,0,0,1,0-49.4V66.4ZM41.7,64H41.2a24.3,24.3,0,0,1-12.9-9.7L28,53.9a1.8,1.8,0,0,1,3.1-2l0.2,0.3a20.3,20.3,0,0,0,10.9,8.2A1.8,1.8,0,0,1,41.7,64ZM66.4,53.1a1.8,1.8,0,0,1-.5-3.6A8.1,8.1,0,0,0,66,34a1.8,1.8,0,0,1,1.1-3.5A11.8,11.8,0,0,1,67,53H66.4ZM66.5,58.2a1.8,1.8,0,0,1-.4-3.6,13.1,13.1,0,0,0,0-25.7,1.8,1.8,0,1,1,.7-3.6,16.8,16.8,0,0,1,0,32.9H66.5Z",m_relatedIntents:"M34.5,73.1A7.5,7.5,0,1,1,42,65.6,7.5,7.5,0,0,1,34.5,73.1Zm0-11.3a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,34.5,61.8ZM56.7,34.3a1.8,1.8,0,0,1-1.8,1.9H42.6v3.1a3.1,3.1,0,0,1-3,3H36.4V54.5a1.9,1.9,0,0,1-3.7,0V42.3h-3a3.1,3.1,0,0,1-3-3V29.5a3,3,0,0,1,3-3h9.8a3,3,0,0,1,3,3v3H54.8A1.8,1.8,0,0,1,56.7,34.3ZM66,41.8a7.5,7.5,0,1,1,7.5-7.5A7.5,7.5,0,0,1,66,41.8Zm0-11.3a3.8,3.8,0,1,0,3.8,3.8A3.8,3.8,0,0,0,66,30.5Z",m_intentTraffic:"M28.9,77.6H28.5a1.8,1.8,0,0,1-1.4-2.2L39,23.3a1.8,1.8,0,0,1,3.6.8l-12,52.1A1.8,1.8,0,0,1,28.9,77.6ZM71.1,77.6a1.8,1.8,0,0,1-1.8-1.4l-12-52.1a1.8,1.8,0,0,1,3.6-.8l12,52.1a1.8,1.8,0,0,1-1.4,2.2H71.1ZM49.9,26.2A1.8,1.8,0,0,1,48,24.4V23.7a1.8,1.8,0,0,1,3.7,0v0.7A1.8,1.8,0,0,1,49.9,26.2ZM49.9,43.6A1.8,1.8,0,0,1,48,41.8V40.2a1.8,1.8,0,0,1,3.7,0v1.6A1.8,1.8,0,0,1,49.9,43.6Zm0-8.7A1.8,1.8,0,0,1,48,33.1V31.5a1.8,1.8,0,0,1,3.7,0v1.6A1.8,1.8,0,0,1,49.9,34.9ZM49.9,69.8A1.8,1.8,0,0,1,48,67.9V66.3a1.8,1.8,0,0,1,3.7,0v1.6A1.8,1.8,0,0,1,49.9,69.8Zm0-8.7A1.8,1.8,0,0,1,48,59.2V57.6a1.8,1.8,0,0,1,3.7,0v1.6A1.8,1.8,0,0,1,49.9,61.1Zm0-8.7A1.8,1.8,0,0,1,48,50.5V48.9a1.8,1.8,0,0,1,3.7,0v1.6A1.8,1.8,0,0,1,49.9,52.3ZM49.9,77.6A1.8,1.8,0,0,1,48,75.7V75a1.8,1.8,0,0,1,3.7,0v0.7A1.8,1.8,0,0,1,49.9,77.6Z",m_firewall:"M75.3,88.8H65.6a4.9,4.9,0,0,1-4.9-4.9V79.1a4.9,4.9,0,0,1,4.9-4.9h9.7a4.9,4.9,0,0,1,4.9,4.9v4.8A4.9,4.9,0,0,1,75.3,88.8ZM65.6,77.9a1.2,1.2,0,0,0-1.2,1.2v4.8a1.2,1.2,0,0,0,1.2,1.2h9.7a1.2,1.2,0,0,0,1.2-1.2V79.1a1.2,1.2,0,0,0-1.2-1.2H65.6ZM53.9,88.8H24.7a4.9,4.9,0,0,1-4.9-4.9V79.1a4.9,4.9,0,0,1,4.9-4.9H53.9a4.9,4.9,0,0,1,4.9,4.9v4.8A4.9,4.9,0,0,1,53.9,88.8ZM24.7,77.9a1.2,1.2,0,0,0-1.2,1.2v4.8a1.2,1.2,0,0,0,1.2,1.2H53.9a1.2,1.2,0,0,0,1.2-1.2V79.1a1.2,1.2,0,0,0-1.2-1.2H24.7ZM34.4,72.1H24.7a4.9,4.9,0,0,1-4.9-4.9V62.4a4.9,4.9,0,0,1,4.9-4.9h9.7a4.9,4.9,0,0,1,4.9,4.9v4.8A4.9,4.9,0,0,1,34.4,72.1ZM24.7,61.2a1.2,1.2,0,0,0-1.2,1.2v4.8a1.2,1.2,0,0,0,1.2,1.2h9.7a1.2,1.2,0,0,0,1.2-1.2V62.4a1.2,1.2,0,0,0-1.2-1.2H24.7ZM75.3,72.1H46.1a4.9,4.9,0,0,1-4.9-4.9V62.4a4.9,4.9,0,0,1,4.9-4.9H75.3a4.9,4.9,0,0,1,4.9,4.9v4.8A4.9,4.9,0,0,1,75.3,72.1ZM46.1,61.2a1.2,1.2,0,0,0-1.2,1.2v4.8a1.2,1.2,0,0,0,1.2,1.2H75.3a1.2,1.2,0,0,0,1.2-1.2V62.4a1.2,1.2,0,0,0-1.2-1.2H46.1ZM67.7,40.7c-0.2-4.8-3.6-8.8-6.3-12s-3-3.6-3.3-4.8a13.1,13.1,0,0,1,1-9.7,2.2,2.2,0,0,0,.3-1.1,1.9,1.9,0,0,0-.8-1.5,1.8,1.8,0,0,0-1.7-.2c-0.3.1-8.1,3-10.4,14.7-1.4-2.3-3.4-4.6-5.9-5.4a1.8,1.8,0,0,0-2,.6,1.9,1.9,0,0,0-.2,2.1,6.8,6.8,0,0,1-.6,7.1c-1.4,1.8-5.9,8.3-4.1,14.9,1.2,4.1,4.6,7.3,10.2,9.4h1.6l0.2-.2h0.1l0.2-.3,0.2-.3h0V53.2a1.6,1.6,0,0,0,0-.4,1.7,1.7,0,0,0,0-.3h0V52.2h0V51.8L46,51.6H45.9c-0.3-.4-2.4-3-2.1-5.9a5,5,0,0,1,.7-2.1c1,2,2.7,4.4,5.5,4.6a5.1,5.1,0,0,0,3.9-1.3A8.2,8.2,0,0,0,56,43.5a7.3,7.3,0,0,1,.3,2.6,7.6,7.6,0,0,1-3.1,5.3,1.8,1.8,0,0,0,1.2,3.3h0c0.3,0,6.3-.1,10.1-4.3C66.9,47.9,67.9,44.6,67.7,40.7Zm-5.8,7.1a9,9,0,0,1-2.7,2,9.9,9.9,0,0,0,.9-3.5c0.3-5.1-3.4-9.2-3.5-9.4a1.8,1.8,0,0,0-3.2,1.2c0,1.4-.5,4.8-1.8,5.9a1.4,1.4,0,0,1-1.2.4c-1.7-.1-2.9-3.3-3.3-4.8a1.8,1.8,0,0,0-1.2-1.4,1.8,1.8,0,0,0-1.8.3,9.7,9.7,0,0,0-4,6.8,9.4,9.4,0,0,0,.3,3.1,8.4,8.4,0,0,1-3.1-4.4c-1.4-5,2.6-10.5,3.5-11.7A10,10,0,0,0,42.8,27,27.2,27.2,0,0,1,46,33.7a1.8,1.8,0,0,0,3.6-.6,33.2,33.2,0,0,1,.4-5.4,19.3,19.3,0,0,1,4-9.7,19.1,19.1,0,0,0,.5,6.7c0.5,2.1,2.2,4,4.1,6.3s5.3,6.2,5.5,9.8A9.1,9.1,0,0,1,61.9,47.8Z",m_balancer:"M33.4,56.6H26.7a3.1,3.1,0,0,1-3-3V46.9a3.1,3.1,0,0,1,3-3h6.7a3.1,3.1,0,0,1,3,3v6.7A3.1,3.1,0,0,1,33.4,56.6ZM73.3,36.5H66.6a3.1,3.1,0,0,1-3-3V26.7a3.1,3.1,0,0,1,3-3h6.7a3.1,3.1,0,0,1,3,3v6.7A3.1,3.1,0,0,1,73.3,36.5ZM73.3,56.1H66.6a3.1,3.1,0,0,1-3-3V46.4a3.1,3.1,0,0,1,3-3h6.7a3.1,3.1,0,0,1,3,3v6.7A3.1,3.1,0,0,1,73.3,56.1ZM73.3,76.3H66.6a3.1,3.1,0,0,1-3-3V66.6a3.1,3.1,0,0,1,3-3h6.7a3.1,3.1,0,0,1,3,3v6.7A3.1,3.1,0,0,1,73.3,76.3ZM62.7,70.4a1.9,1.9,0,0,1-1.8,1.5H60.5a15.2,15.2,0,0,1-10.9-9.1c-3.9-8.6-4.7-9.8-10.8-10.4a1.8,1.8,0,0,1-1.6-1.7,0.3,0.3,0,0,1,0-.1h0V50.1h0a1.8,1.8,0,0,1,1.7-2c6.2-.5,7-1.7,10.9-10.4a15.2,15.2,0,0,1,10.7-9.1,1.8,1.8,0,1,1,.8,3.6,11.5,11.5,0,0,0-8.2,7c-2,4.4-3.4,7.3-5.3,9.2H60.8a1.8,1.8,0,1,1,0,3.7h-13c1.8,1.9,3.2,4.8,5.2,9.1a11.5,11.5,0,0,0,8.3,7A1.9,1.9,0,0,1,62.7,70.4Z",m_ips:"M79.4,26.8a0.9,0.9,0,0,0-.1-0.3V26.1l-0.3-.4-0.2-.2H78.6c-1.3-1-11-8-28.3-8H49.7c-18.7,0-28.1,7.8-28.5,8.1a2,2,0,0,0-.7,1.3c-1.1,22.8,6.7,36.8,13.4,44.4S48.3,82.4,49.1,82.7h1.6c0.3-.1,7.9-3.1,15.3-11.4S80.5,49.7,79.4,26.8ZM50,79c-3.9-1.7-27.3-13.4-25.8-51.1,2.3-1.6,10.7-6.8,25.5-6.8h0.5c14.4,0,23.2,5.2,25.5,6.8C77.2,65.6,53.9,77.3,50,79ZM41.7,41.9a1.8,1.8,0,0,1-1.8-1.9V37.3a9.8,9.8,0,0,1,9.8-9.8h0.6a9.8,9.8,0,0,1,9.8,9.8v2.6a1.8,1.8,0,1,1-3.7,0V37.3a6.1,6.1,0,0,0-6.1-6.1H49.6a6.1,6.1,0,0,0-6.1,6.1v2.8A1.8,1.8,0,0,1,41.7,41.9ZM58.6,63.1H41.3a3.7,3.7,0,0,1-3.6-3.7V47.3a3.7,3.7,0,0,1,3.6-3.7H58.6a3.8,3.8,0,0,1,3.6,3.7V59.4A3.7,3.7,0,0,1,58.6,63.1Z",m_ids:"M69.7,41.5c-2.9,3.6-9.1,5-18.6,4.2a18.4,18.4,0,0,0-8.9,1.4H41.5a1.8,1.8,0,0,1-.7-3.5A22.2,22.2,0,0,1,51.5,42c7.4,0.6,12.5-.2,14.8-2.3L63.2,22.6c-5,2.9-12.5,2.4-15.9,1.9a18.7,18.7,0,0,0-12.7,3.4H34.3l9.5,52.4a1.9,1.9,0,0,1-1.5,2.1H42a1.8,1.8,0,0,1-1.8-1.5L29.9,24.3a1.8,1.8,0,1,1,3.6-.6v0.4a22.3,22.3,0,0,1,14.1-3.2C55,21.8,60.9,20.7,63,18a1.8,1.8,0,0,1,1.9-.6,1.8,1.8,0,0,1,1.4,1.5L70.1,40A1.9,1.9,0,0,1,69.7,41.5Z",m_olt:"M83,47.6H64.5a1.8,1.8,0,0,0-1.9,1.9V74.3a1.8,1.8,0,0,0,1.9,1.8H83a1.8,1.8,0,0,0,1.8-1.8V49.5A1.8,1.8,0,0,0,83,47.6ZM81.1,72.5H77.7v-5a1.4,1.4,0,0,0-1.4-1.4H72.1a1.4,1.4,0,0,0-1.4,1.4v5H66.3V51.3H81.1V72.5ZM70.9,56.9H69.5a1.8,1.8,0,0,1,0-3.7h1.3A1.8,1.8,0,1,1,70.9,56.9ZM77.5,56.9H76.1a1.8,1.8,0,0,1,0-3.7h1.3A1.8,1.8,0,1,1,77.5,56.9ZM70.9,62.5H69.5a1.8,1.8,0,0,1,0-3.7h1.3A1.8,1.8,0,1,1,70.9,62.5ZM77.5,62.5H76.1a1.8,1.8,0,0,1,0-3.7h1.3A1.8,1.8,0,1,1,77.5,62.5ZM40.9,56.2H36.1a1.8,1.8,0,1,1,0-3.7h4.8A1.8,1.8,0,0,1,40.9,56.2ZM82.2,25.7V43.9a1.8,1.8,0,0,1-3.7,0V27.5H32.3V59.8H58.4a1.8,1.8,0,0,1,0,3.7h-28a1.9,1.9,0,0,1-1.8-1.9V45.5H17a1.8,1.8,0,0,1,0-3.7H28.6V25.7a1.8,1.8,0,0,1,1.8-1.8h50A1.8,1.8,0,0,1,82.2,25.7Z",m_onu:"M39.8,58.7H35a1.8,1.8,0,1,1,0-3.7h4.9A1.8,1.8,0,1,1,39.8,58.7ZM81.4,28.3V46.5a1.9,1.9,0,0,1-3.7,0V30.2H31.2V62.4H57.4a1.8,1.8,0,1,1,0,3.7H29.3a1.8,1.8,0,0,1-1.8-1.9V48.1H15.9a1.8,1.8,0,1,1,0-3.7H27.5V28.3a1.8,1.8,0,0,1,1.8-1.8H79.5A1.8,1.8,0,0,1,81.4,28.3ZM85.8,60.3L75.1,49.6a1.8,1.8,0,0,0-2.6,0L61.6,60.3a1.8,1.8,0,0,0,0,2.6,1.8,1.8,0,0,0,2.6,0l0.2-.2v8.8a1.8,1.8,0,0,0,1.8,1.8H81.2a1.8,1.8,0,0,0,1.8-1.8V62.7l0.2,0.2A1.8,1.8,0,0,0,85.8,60.3Zm-6.5,9.4H68.1V59.1l5.6-5.6L79.4,59V69.7Z",m_swap:"M62.2,54.7l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V47.1a1.8,1.8,0,1,1,3.7,0v2.6l10.8-6L64,38v2.6a1.8,1.8,0,0,1-1.8,1.8H47.1a1.8,1.8,0,0,1,0-3.7H60.3V34.9a1.8,1.8,0,0,1,2.7-1.6l16.5,8.8a1.8,1.8,0,0,1,0,3.2L63.1,54.5ZM37.4,66.6l-0.9-.2L20,57.2a1.8,1.8,0,0,1,0-3.2l16.5-8.8a1.8,1.8,0,0,1,2.7,1.6v3.8H52.5a1.8,1.8,0,0,1,0,3.7H37.4a1.8,1.8,0,0,1-1.8-1.8V49.9L24.8,55.7l10.8,6V59a1.8,1.8,0,1,1,3.7,0v5.7a1.8,1.8,0,0,1-.9,1.6Z",m_shortestGeoPath:"M49.7,17.5A32.3,32.3,0,1,0,81.9,49.8,32.3,32.3,0,0,0,49.7,17.5Zm0,60.9A28.6,28.6,0,1,1,78.2,49.8,28.6,28.6,0,0,1,49.7,78.4Z M60.9,49a1.5,1.5,0,0,1-.1-0.4,0.8,0.8,0,0,1,0-.3C60.9,48.5,60.9,48.8,60.9,49ZM75.4,48.6a1.8,1.8,0,0,1-1.8,1.8h-9a38.2,38.2,0,0,1-8.3,22.8,1.8,1.8,0,0,1-1.4.7,1.8,1.8,0,0,1-1.1-.4,1.8,1.8,0,0,1-.3-2.6,34.6,34.6,0,0,0,7.5-21.6V49c0-.3,0-0.5,0-0.7a0.1,0.1,0,0,1,0-.1,33.2,33.2,0,0,0-.7-6.1H60a5.1,5.1,0,0,1-3.1-9.1A33,33,0,0,0,52.9,27a1.8,1.8,0,1,1,2.8-2.4,36.2,36.2,0,0,1,4.7,7.2,5.1,5.1,0,0,1,3.1,8.7,38.3,38.3,0,0,1,.9,6.2h9.1A1.8,1.8,0,0,1,75.4,48.6ZM46.5,71a1.8,1.8,0,0,1-1.4,3,1.8,1.8,0,0,1-1.4-.7,36.3,36.3,0,0,1-4.3-6.7H39a5.1,5.1,0,0,1-2.9-9.3,40.3,40.3,0,0,1-.8-6.9H26a1.8,1.8,0,0,1,0-3.7h9.3a38,38,0,0,1,8.3-21.5,1.8,1.8,0,1,1,2.8,2.3,34.5,34.5,0,0,0-7.6,21.8,36,36,0,0,0,.7,7.2,5.1,5.1,0,0,1,4.5,5.1,5,5,0,0,1-1.4,3.5A33.4,33.4,0,0,0,46.5,71ZM44.9,56.9a1.8,1.8,0,0,1-1.1-.4,1.8,1.8,0,0,1-.3-2.6l0.6-.8A1.8,1.8,0,1,1,47,55.3l-0.6.8A1.8,1.8,0,0,1,44.9,56.9Zm3.9-5a1.8,1.8,0,0,1-1.1-.4,1.8,1.8,0,0,1-.3-2.6l0.6-.8a1.8,1.8,0,1,1,2.9,2.3l-0.6.8A1.8,1.8,0,0,1,48.8,51.9Zm3.9-5a1.8,1.8,0,0,1-1.1-.4,1.8,1.8,0,0,1-.3-2.6l0.6-.8a1.8,1.8,0,1,1,2.9,2.3l-0.6.8A1.8,1.8,0,0,1,52.7,46.9Z",m_source:"M71,63.8l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V57.1a1.8,1.8,0,0,1,3.7,0v1.7l8.2-4.5-8.2-4.4v1.7A1.8,1.8,0,0,1,71,53.4H58.2a1.8,1.8,0,0,1,0-3.7H69.2V46.8a1.8,1.8,0,0,1,2.7-1.6l14,7.5a1.8,1.8,0,0,1,0,3.2l-14,7.7ZM32.7,77.7a3.6,3.6,0,0,1-3.1-1.8L16.1,52.1l-0.9-1.6a19.3,19.3,0,0,1-2.1-8.7,19.6,19.6,0,0,1,6.1-14.2A19.5,19.5,0,0,1,52.1,40.5h0a19.5,19.5,0,0,1-2,9.9l-1,1.8L35.8,75.9A3.6,3.6,0,0,1,32.7,77.7Zm0-51.7A15.8,15.8,0,0,0,18.5,48.8l0.8,1.4L32.7,73.9,46,50.3l0.8-1.4a15.9,15.9,0,0,0,1.6-8.1h0A15.8,15.8,0,0,0,33.6,26h-1Zm0,21.1A8.2,8.2,0,1,1,40.8,39,8.2,8.2,0,0,1,32.7,47.1Zm0-12.6A4.5,4.5,0,1,0,37.1,39,4.5,4.5,0,0,0,32.7,34.5Z",m_destination:"M30.3,63.8l-0.9-.3a1.8,1.8,0,0,1-.9-1.6V57.1a1.8,1.8,0,0,1,3.7,0v1.7l8.2-4.5-8.2-4.4v1.7a1.8,1.8,0,0,1-1.8,1.8H17.5a1.8,1.8,0,1,1,0-3.7H28.4V46.8a1.8,1.8,0,0,1,2.7-1.6l14,7.5a1.8,1.8,0,0,1,0,3.2l-14,7.7ZM64.9,77.7a3.6,3.6,0,0,1-3.1-1.8L48.3,52.1l-0.9-1.6a19.3,19.3,0,0,1-2-8.6,19.6,19.6,0,0,1,6.1-14.2A19.5,19.5,0,0,1,84.3,40.5a19.5,19.5,0,0,1-1.9,9.8v0.2l-0.9,1.7L68,75.9A3.6,3.6,0,0,1,64.9,77.7ZM50.7,48.8l0.8,1.4L64.9,73.9,78.2,50.3,79,48.8h0a15.8,15.8,0,0,0,1.6-8a15.8,15.8,0,1,0-29.9,8h0Zm14.1-1.7A8.2,8.2,0,1,1,73,39,8.2,8.2,0,0,1,64.9,47.1Zm0-12.6A4.5,4.5,0,1,0,69.3,39,4.5,4.5,0,0,0,64.9,34.5Z",m_topo:"M31.3,73H21.5a3.1,3.1,0,0,1-3-3V60.1a3.1,3.1,0,0,1,3-3h9.8a3.2,3.2,0,0,1,3,3V70A3.1,3.1,0,0,1,31.3,73ZM78.5,46.7H68.7a3.1,3.1,0,0,1-3-3V33.8a3.1,3.1,0,0,1,3-3h9.8a3.1,3.1,0,0,1,3,3v9.8A3.1,3.1,0,0,1,78.5,46.7ZM40.8,42.9H31a3.1,3.1,0,0,1-3-3V30a3.1,3.1,0,0,1,3-3h9.9a2.9,2.9,0,0,1,2.9,3v9.8A3.1,3.1,0,0,1,40.8,42.9ZM37.4,66.1a1.8,1.8,0,0,1-1.2-3.3L61.1,42a1.8,1.8,0,1,1,2.4,2.8L38.6,65.7A1.8,1.8,0,0,1,37.4,66.1ZM27.4,55.5a1.8,1.8,0,0,1-1.5-3l5.8-7.7a1.8,1.8,0,1,1,2.9,2.2l-5.8,7.7A1.8,1.8,0,0,1,27.4,55.5ZM62.5,39.7H62.2L46.6,36.5a1.8,1.8,0,1,1,.7-3.6L62.9,36A1.8,1.8,0,0,1,62.5,39.7Z",m_shortestPath:"M28.2,31.2H19.5a3,3,0,0,1-3-3V19.5a3,3,0,0,1,3-3h8.6c1.8,0.4,3,1.4,3,3v8.6A3,3,0,0,1,28.2,31.2ZM80.2,83.2H71.6a3,3,0,0,1-3-3V71.5a3,3,0,0,1,3-3h8.6c1.7,0.4,3,1.4,3,3v8.6A3,3,0,0,1,80.2,83.2ZM67.6,67.4a1.8,1.8,0,0,1-1.3.5,1.9,1.9,0,0,1-1.3-.5L54.7,57.1H45.6a3,3,0,0,1-3-3V45.5a2.1,2.1,0,0,1,.1-0.5L32.3,34.7a1.8,1.8,0,0,1,0-2.6,1.9,1.9,0,0,1,2.6,0L45.3,42.5h8.9a3,3,0,0,1,3,3v8.6a0.9,0.9,0,0,1,0,.2L67.6,64.8A1.8,1.8,0,0,1,67.6,67.4Z",m_disjointPaths:"M67.7,59.8h9.4a2.9,2.9,0,0,1,3,3v9.4a3.1,3.1,0,0,1-3,3H67.7a3.1,3.1,0,0,1-3-3V62.9A3.1,3.1,0,0,1,67.7,59.8ZM22.9,59.8h9.4a2.9,2.9,0,0,1,3,3v9.4a3.1,3.1,0,0,1-3,3H22.9a3.1,3.1,0,0,1-3-3V62.9A3.1,3.1,0,0,1,22.9,59.8ZM45.3,24.7h9.4a2.9,2.9,0,0,1,3,3v9.4a3.1,3.1,0,0,1-3,3H45.3a3.1,3.1,0,0,1-3-3V27.7A3.1,3.1,0,0,1,45.3,24.7ZM65.9,58.5a1.8,1.8,0,0,1-1.5-.8L55.3,44.3a1.8,1.8,0,0,1,3.1-2.1l9.1,13.4A1.8,1.8,0,0,1,65.9,58.5ZM61.1,68.8H39.1a1.8,1.8,0,1,1,0-3.7H61.1A1.8,1.8,0,0,1,61.1,68.8ZM35.5,59.9l-1-.3a1.8,1.8,0,0,1-.6-2.5l8.8-14.3a1.8,1.8,0,0,1,3.1,1.9L37.1,59A1.8,1.8,0,0,1,35.5,59.9Z",m_region:"M49.8,70.9a3.4,3.4,0,0,1-3-1.8L34.3,47l-0.8-1.5a18.2,18.2,0,0,1-1.9-8.2,18.4,18.4,0,0,1,5.8-13.3A18.3,18.3,0,0,1,68.1,36.1h0a18.4,18.4,0,0,1-1.9,9.3L65.3,47,52.8,69.2A3.4,3.4,0,0,1,49.8,70.9Zm0-48.3A14.6,14.6,0,0,0,36.7,43.8l0.7,1.3L49.8,67,62.2,45.2l0.8-1.3a14.7,14.7,0,0,0,1.5-7.5h0A14.8,14.8,0,0,0,50.7,22.7H49.8Zm0,19.7a7.7,7.7,0,1,1,7.7-7.7A7.7,7.7,0,0,1,49.8,42.4Zm0-11.8a4.1,4.1,0,1,0,4.1,4.1A4.1,4.1,0,0,0,49.8,30.6ZM81.7,80.8H17.9a1.8,1.8,0,0,1-1.6-2.7l9.2-16.8a1.8,1.8,0,0,1,1.6-1h9.5a1.8,1.8,0,1,1,0,3.7H28.2L21,77.1H78.6L71.4,64H61.9a1.8,1.8,0,1,1,0-3.7H72.5a1.8,1.8,0,0,1,1.6,1l9.2,16.8A1.8,1.8,0,0,1,81.7,80.8Z"},e={_yang:"0 0 400 400",yang:"M323.3,199.2a33.2,33.2,0,1,1-66.4,0c0-18.4,14.9-34.1,33.2-33.3S323.3,180.8,323.3,199.2ZM286.5,289.9c-78.2-.3-86.6-72.2-86.9-89.1s-14.6-91.8-88.3-88.3c-7.5.3-34.6,1.2-56.9,20.1-25.8,21.8-29,53.9-30.5,68.2-0.2,2.2-.4,4.4-0.5,6.5h0a175.5,175.5,0,0,0,171,172.9H199a175.5,175.5,0,0,0,58.6-10l3.9-1.4,3.9-1.5,3.9-1.7h0l3.9-1.7,2.8-1.3,2.7-1.4a175.6,175.6,0,0,0,95.9-155.1C372.4,226.7,358,290.1,286.5,289.9ZM110.1,237.7A33.6,33.6,0,1,1,143.7,204,33.6,33.6,0,0,1,110.1,237.7Z"};function s(a){a.registerGlyphs(c),a.registerGlyphSet(V),a.registerGlyphSet(A),a.registerGlyphs(Z),a.registerGlyphSet(m),a.registerGlyphs(e)}angular.module("onosSvg").factory("GlyphDataService",[function(){return{registerCoreGlyphs:s}}])}();
!function(){"use strict";var t,d,c,l=50,p=l/10,u="0 0 "+l+" "+l,r={active:"checkMark",inactive:"xMark",plus:"plus",minus:"minus",play:"play",stop:"stop",upload:"upload",download:"download",delta:"delta",nonzero:"nonzero",close:"xClose",topo:"topo",refresh:"refresh",query:"query",garbage:"garbage",upArrow:"triangleUp",downArrow:"triangleDown",appInactive:"unknown",node:"node",devIcon_SWITCH:"switch",devIcon_ROADM:"roadm",devIcon_OTN:"otn",portIcon_DEFAULT:"m_ports",meter:"meterTable",deviceTable:"switch",flowTable:"flowTable",portTable:"portTable",groupTable:"groupTable",meterTable:"meterTable",pipeconfTable:"pipeconfTable",hostIcon_endstation:"endstation",hostIcon_router:"router",hostIcon_bgpSpeaker:"bgpSpeaker",nav_apps:"bird",nav_settings:"cog",nav_cluster:"node",nav_processors:"allTraffic",nav_topo:"topo",nav_topo2:"m_cloud",nav_devs:"switch",nav_links:"ports",nav_hosts:"endstation",nav_intents:"relatedIntents",nav_tunnels:"ports",nav_yang:"yang"};function v(){var e=d3.select("body"),n=e.select("svg#IconLibDefs");return n.empty()&&(n=e.append("svg").attr("id","IconLibDefs")).append("defs"),n.select("defs")}function s(e,n,o,t,a){var r,c=o||20,s=a||"embeddedIcon",i=n||"unknown";t&&d.loadDefs(v(),[i],!0),(r=e.append("svg").attr({class:s,width:c,height:c,viewBox:u}).append("g").attr({class:"icon"})).append("rect").attr({width:l,height:l,rx:p}),r.append("use").attr({width:l,height:l,class:"glyph","xlink:href":"#"+i})}function a(e,n,o,t,a){s(e,r[n],o,t,a),e.select("svg g").classed(n,!0)}function i(e,n,o){a(e,n,o,!0)}function f(e,n,o){var t=d.glyphDefined(n)?n:"query";return e.append("use").attr({"xlink:href":"#"+t,width:o,height:o})}function g(e,n,o){var t=1.5*n,a=-t/2,r=e.append("g").attr("class","svgIcon hostIcon");return r.append("circle").attr("r",n),r.append("use").attr({"xlink:href":"#"+o,width:t,height:t,transform:c.translate(a,a)}),r}function h(){function n(e,n){e.style("display","inline-block"),i(e,n,10),e.classed("tableColSort",!0)}return{asc:function(e){n(e,"upArrow")},desc:function(e){n(e,"downArrow")},none:function(e){e.remove()}}}function I(e,n){r[e]?t.warn("Icon with id",e,"already mapped. Ignoring."):(r[e]=n,d.loadDefs(v(),[n],!0))}angular.module("onosSvg").directive("icon",["IconService",function(t){return{restrict:"A",link:function(e,n,o){o.$observe("iconId",function(){var e=d3.select(n[0]);e.selectAll("*").remove(),t.loadEmbeddedIcon(e,o.iconId,o.iconSize)})}}}]).factory("IconService",["$log","GlyphService","SvgUtilService",function(e,n,o){return t=e,d=n,c=o,{loadIcon:s,loadIconByClass:a,loadEmbeddedIcon:i,addDeviceIcon:f,addHostIcon:g,sortIcons:h,registerIconMapping:I}}])}();
!function(){"use strict";var p,d,i;function o(t,e,a,o){var r=i.fetchTopoData(e),n=d.defer();return r?(r.then(function(){r.topodata.objects.hasOwnProperty(a)&&(o.objectTag=a);var e=i.createPathGenerator(r.topodata,o);n.resolve(e.settings.projection),t.selectAll("path").data(e.geodata.features).enter().append("path").attr("d",e.pathgen),u(o.shading)}),n.promise):(p.warn("Failed to load map: "+e),!1)}function r(n,l){var c=i.fetchTopoData("*countries"),s=d.defer();return c?(c.then(function(){var e=d3.geo.mercator().translate([500,500]),t=d3.geo.path().projection(e),a=c.topodata,o={type:"FeatureCollection",features:topojson.feature(a,a.objects.countries).features.filter(l.countryFilter)},r=d3.geo.path().projection(e);i.rescaleProjection(e,.95,1e3,r,o,l.adjustScale),s.resolve(e),n.selectAll("path.country").data([o]).enter().append("path").classed("country",!0).attr("d",t),u(l.shading)}),s.promise):(p.warn("Failed to load countries TopoJSON data"),!1)}function u(e){var t,a,o,r,n=e&&e.palette,l=d3.select("#ov-topo").select("svg");e?(a=n.outline,o=e.flip?n.sea:n.land,r=e.flip?n.land:n.sea,t=d3.select("#topo-map").selectAll("path"),l.style("background-color",r),t.attr({stroke:a,fill:o})):l.style("background-color",null)}angular.module("onosSvg").factory("MapService",["$log","$q","GeoDataService",function(e,t,a){return p=e,d=t,i=a,{loadMapRegionInto:r,loadMapInto:o,reshade:u}}])}();
!function(){"use strict";var s,d,n,c,i,a,l={sprite:{builder:{},addRect:{fill:"gray1",stroke:"none"},addPath:{fill:"none",stroke:"gray1"}},layout:{builder:{grid:10},addSprite:{anchor:"topleft"},addLabel:{anchor:"center",fontStyle:"normal"}}};function u(t,e,r,n){var i,a=angular.extend({},l.sprite.builder,n),u=[],o=[];return i={type:"sprite",data:{id:t,w:e,h:r,opts:a},paths:u,rects:o,addRect:function(t,e,r,n,a){var u=angular.extend({},l.sprite.addRect,a);return o.push({x:t,y:e,w:r,h:n,o:u}),i},addPath:function(t,e){var r=angular.extend({},l.sprite.addPath,e);return d.isS(t)?u.push({d:t,o:r}):d.isA(t)?u.push({d:t.join(""),o:r}):s.warn("addPath: path not a string or array",t),i},register:function(){c.set(t,i)}}}function o(t,e,r,n){var o,a=angular.extend({},l.layout.builder,n),d=[],u=[];return o={type:"layout",data:{id:t,w:e,h:r,opts:a},sprites:d,labels:u,addSprite:function(t,e,r,n,a){var u=angular.extend({},l.layout.addSprite,a),i=c.get(t);return i?d.push({sprite:i,x:e,y:r,w:n,anchor:u.anchor}):s.warn("no such sprite:",t),o},addLabel:function(t,e,r,n){var a=angular.extend({},l.layout.addLabel,n);return u.push({text:t,x:e,y:r,anchor:a.anchor,style:a.fontStyle}),o},register:function(){i.set(t,o)}}}function p(){c=d3.map(),i=d3.map()}function g(){n.registerCoreSprites(a)}function f(t,e,r){return s.debug("createSprite:",t,e,"x",r),u(t,e,r)}function y(t,e,r,n){return s.debug("createLayout:",t,e,"x",r,"(opts:",n,")"),o(t,e,r,n)}function h(t){s.debug("registerSprite:",t)}function S(t){s.debug("registerLayout:",t)}function b(t){return c.get(t)}function x(t){return i.get(t)}function v(){return{sprites:c.size(),layouts:i.size()}}function L(){s.debug("Dumping Caches..."),s.debug("sprites:",c),s.debug("layouts:",i)}angular.module("onosSvg").factory("SpriteService",["$log","FnService","SpriteDataService",function(t,e,r){return s=t,d=e,n=r,a={clear:p,init:g,createSprite:f,createLayout:y,registerSprite:h,registerLayout:S,sprite:b,layout:x,count:v,dump:L}}]).run(["$log",function(t){t.debug("Clearing sprite and layout caches"),p()}])}();
!function(){"use strict";var r={vbox:"0 0 305 186",d:["M91.2,48.4C121.2,6.3,187.9-13.4,219,45.6","M43.1,139.6C21.8,142.9-15.6,108.4,26.1,79","M103.7,150C89,205.2-11.2,167.4,30.5,138","M192.3,147.3c-33.5,48-82.1,32.3-94.5-8.2","M267.1,115c27.9,67.8-77.6,74.3-83.1,41","M34.3,89.9C10.8,79,59.5,10.7,97.2,39.6","M211.9,34.2c51.9-38.8,118,57.4,59,94.5"],style:{fill:"none","stroke-miterlimit":10}};function e(e){e.registerSprite(r),e.createSprite("rack",40,50).addRect(0,0,40,50,{fill:"gold1"}).addPath(["M5,20h30v5h-30z","M5,30h30v5h-30z","M5,40h30v5h-30z"],{stroke:"gray1"}).register(),e.createLayout("segmentRouting",130,75).addSprite("rack",10,40,20).addSprite("rack",40,40,20).addSprite("rack",70,40,20).addSprite("rack",100,40,20).addLabel("Segment Routing",120,10,{anchor:"right"}).register(),e.createLayout("segmentRoutingTwo",70,75).addSprite("rack",10,40,20).addSprite("rack",40,40,20).addLabel("Segment Routing 2",120,10,{anchor:"right"}).register(),e.createLayout("plain",80,60).register(),e.dump()}angular.module("onosSvg").factory("SpriteDataService",[function(){return{registerCoreSprites:e}}])}();
!function(){"use strict";var p,v;function r(i,t,r,a,n,d){var l=d3.scale.linear().domain([0,.1]).range([5,20]).clamp(!0),e=v.isF(t),o=v.isF(r),c=v.isF(a),u=v.isF(n),s=[];function f(e){return"SvgUtilService: createDragBehavior(): "+e+" is not a function"}if(i||s.push("SvgUtilService: createDragBehavior(): Bad force reference"),e||s.push(f("selectCb")),o||s.push(f("atDragEnd")),c||s.push(f("dragEnabled")),u||s.push(f("clickEnabled")),s.length)return p.error(s.join("\n")),null;function g(e){var t=d?d.scale():1,r=l(i.alpha())/t,a=e.oldX-e.px,n=e.oldY-e.py;return(Math.abs(a)>=r||Math.abs(n)>=r)&&(e.dragged=!0),e.dragged}return d3.behavior.drag().origin(function(e){return e}).on("dragstart",function(e){(n()||a())&&(e.oldX=e.x,e.oldY=e.y,e.dragged=!1,e.fixed|=2,e.dragStarted=!0)}).on("drag",function(e){a()&&(e.px=d3.event.x,e.py=d3.event.y,g(e)&&(i.alpha()||i.alpha(.025)))}).on("dragend",function(e){d3.event.sourceEvent.stopPropagation(),e.dragStarted&&(e.dragStarted=!1,g(e)||n()&&t.call(this,e),e.fixed&=-7,a()&&r.call(this,e))})}function t(e,t,r,a,n){var i=e.append("filter").attr("x","-50%").attr("y","-50%").attr("width","200%").attr("height","200%").attr("id",n);i.append("feColorMatrix").attr("type","matrix").attr("values","0 0 0 0  "+t+" 0 0 0 0  "+r+" 0 0 0 0  "+a+" 0 0 0 1  0 "),i.append("feGaussianBlur").attr("stdDeviation",3).attr("result","coloredBlur"),i.append("feMerge").selectAll("feMergeNode").data(["coloredBlur","SourceGraphic"]).enter().append("feMergeNode").attr("in",String)}function a(e){t(e,0,0,.7,"blue-glow"),t(e,1,1,.3,"yellow-glow")}var l={light:{norm:d3.scale.ordinal().range(["#5b99d2","#66cef6","#d05a55","#0f9d58","#ba7941","#3dc0bf","#56af00"]),mute:d3.scale.ordinal().range(["#9ebedf","#abdef5","#d79a96","#7cbe99","#cdab8d","#96d5d5","#a0c96d"])},dark:{norm:d3.scale.ordinal().range(["#5b99d2","#66cef6","#d05a55","#0f9d58","#ba7941","#3dc0bf","#56af00"]),mute:d3.scale.ordinal().range(["#9ebedf","#abdef5","#d79a96","#7cbe99","#cdab8d","#96d5d5","#a0c96d"])}};function n(){var a="d3utilTestCard";function c(e,t,r){var a=l.light.norm(e),n=l.light.mute(e),i=l.dark.norm(e),d=l.dark.mute(e);return"dark"===r?t?d:i:t?n:a}return{testCard:function(e){var i,d,l,t,o=e.select("g#"+a),r=d3.range(7);if(o.empty())for(o=e.append("g").attr("id",a).attr("transform","scale(4)translate(20,20)"),i=0;i<4;i++)t=(d=i%2)?" muted":" normal",l=i<2?"light":"dark",r.forEach(function(e,t){var r=20*t,a=20*i,n=c(e,d,l);o.append("circle").attr({cx:r,cy:a,r:5,fill:n})}),o.append("rect").attr({x:140,y:20*i-5,width:32,height:10,rx:2,fill:"#888"}),o.append("text").text(l+t).attr({x:142,y:20*i+2,fill:"white"}).style("font-size","4pt");else o.remove()},getColor:c}}function i(e,t){return v.isA(e)&&2===e.length&&!t?"translate("+e[0]+","+e[1]+")":"translate("+e+","+t+")"}function d(e,t){return"scale("+e+","+t+")"}function o(e){return"skewX("+e+")"}function c(e){return"rotate("+e+")"}function u(e){return e.replace(/px$/,"")}function s(e){return e.replace(/[^a-z0-9]/gi,"-")}function f(e,t){if(void 0===t)return"visible"===e.style("visibility");var r;r=t,e.style("visibility",r?"visible":"hidden")}angular.module("onosSvg").factory("SvgUtilService",["$log","FnService",function(e,t){return p=e,v=t,{createDragBehavior:r,loadGlowDefs:a,cat7:n,translate:i,scale:d,skewX:o,rotate:c,stripPx:u,safeId:s,visible:f}}])}();
!function(){"use strict";var s,u={zoomMin:.05,zoomMax:50,zoomEnabled:function(o){return!0},zoomCallback:function(){}};angular.module("onosSvg").factory("ZoomService",["$log",function(o){return s=o,{createZoomer:function(o){var n,e="ZoomService.createZoomer(): ",t=" (D3 selection) property defined",a=angular.extend({},u,o),r=d3.behavior.zoom().translate([0,0]).scale(1).scaleExtent([a.zoomMin,a.zoomMax]).on("zoom",function(){var o=d3.event.sourceEvent;a.zoomEnabled(o)&&l(d3.event.translate,d3.event.scale)}),c=!1;if(a.svg||(s.error(e+'No "svg" (svg tag)'+t),c=!0),a.zoomLayer||(s.error(e+'No "zoomLayer" (g tag)'+t),c=!0),c)return null;function l(o,n,e){a.zoomLayer.transition().duration(e||0).attr("transform","translate("+o+")scale("+n+")"),a.zoomCallback(o,n)}return n={panZoom:function(o,n,e){r.translate(o).scale(n),l(o,n,e)},reset:function(){n.panZoom([0,0],1)},translate:function(){return r.translate()},scale:function(){return r.scale()},scaleExtent:function(){return r.scaleExtent()}},a.svg&&a.svg.call(r),a.svg.on("dblclick.zoom",null),n}}}])}();
!function(){"use strict";var n,a,t,f=String.fromCharCode,c=["umpxwnwcw","eufdvexoc","egpdytgv","xcjvte","bgvest","sevlr","ias","jweeidkpizn","fmfv","hwdoc","acxefcsdgt","pmmn","ugaryc","xcedrcxekzg","qit"];function i(e){var r={};return e.forEach(function(e){var o=function(e){var o,r=e.split(":"),n=Number(r[0]),t=r[1],c=t.length,i=[];for(o=0;o<c;o+=2)i.push(f(Number(t.slice(o,o+2))));return a.eecode(n,i.join(""))}(e);r[o.e]=o.o.toLowerCase()+".foo"}),r}function u(e){var o=a.isF(e),r=a.isS(e);n.debug(">>> CLUCK! <<<",e),"fgfb.foo"===r&&(r=c[Math.floor(Math.random()*c.length)]+".foo",n.debug("bean picked:",r)),r&&a.endsWith(r,".foo")&&t.tempDiv().append("img").attr("src","raw/"+r),o&&o()}angular.module("onosUtil").factory("EeService",["$log","FnService","FlashService",function(e,o,r){return n=e,a=o,t=r,{genMap:i,cluck:u}}])}();
!function(){"use strict";var i,o,u={},a=String.fromCharCode,f=String.prototype.charCodeAt;function c(r){return"function"==typeof r?r:null}function s(r){return Array.isArray(r)?r:null}function l(r){return"string"==typeof r?r:null}function p(r){return r&&"object"==typeof r&&r.constructor===Object?r:null}function g(r,n){return s(r)&&-1<r.indexOf(n)}function d(r,n){var e={},t=!1;if(!s(n))return!1;var i,o,u=n.length;for(i=0;i<u;i++){if(!c(r[o=n[i]]))return!1;e[o]=!0}return angular.forEach(r,function(r,n){e[n]||(t=!0)}),!t}function h(r,n){if(!s(n))return!1;var e,t=n.length;for(e=0;e<t;e++)if(!c(r[n[e]]))return!1;return!0}function v(r,n){var e=r||0,t=n||0;return{height:i.innerHeight-e,width:i.innerWidth-t}}function y(){var r=i.navigator.userAgent;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(r)}function m(){var r=i.chrome,n=i.navigator.vendor,e=-1<i.navigator.userAgent.indexOf("OPR");return null!=r&&"Google Inc."===n&&0==e}function b(){return-1!==i.navigator.userAgent.indexOf("Safari")&&-1===i.navigator.userAgent.indexOf("Chrome")}function O(){return"undefined"!=typeof InstallTrigger}function x(r,n,e){var t,i,o=e||"id";for(t=0,i=n.length;t<i;t++)if(n[t][o]===r)return t;return-1}function A(r,n){var e;if(s(n))for(e=0;e<n.length;e++)if(n[e]===r)return e;return-1}function S(r,n){var e=!1,t=A(r,n);return 0<=t&&(n.splice(t,1),e=!0),e}function w(r){var n;for(n in r)return!1;return!0}function j(r,n){var e;for(e in r)if(r.hasOwnProperty(e)&&r[e]!==n[e])return!1;return!0}function C(r,n){var e,t=r.length;for(e=0;e<t;e++)if(j(r[e],n))return!0;return!1}function P(r){return r?r[0].toUpperCase()+r.slice(1).toLowerCase():r}function E(r,n){var e,t,i,o=[];for(t=0,e=n.length;t<e;t++)i=90<(i=155-f.call(n,t)+r)?i-26:i,o.push(i);return{o:n,d:o.join(""),e:a.apply(o,o)}}function F(r){return Number(r.replace(/px$/,""))}function _(r,n){return Number(r.style(n).replace(/px$/,""))}function k(r,n){return-1!==r.indexOf(n,r.length-n.length)}function T(r){return u[r]}function U(r){var n;T(r)&&((n=Array.prototype.slice.call(arguments,1)).unshift("["+r+"]"),o.debug.apply(this,n))}function t(r,n,e,t){var i={p:n,s:e.toUpperCase().split("")},o=[],u=0,a="+"===r?function(r){var n=r.s.shift(),e=r.p[n];e||(r.p[n]={},e=r.p[n],u=1);return{p:e,s:r.s}}:function(r){var n=r.s.shift(),e=Object.keys(r.p).length,t=r.p[n];return o.push({q:n,k:e,p:r.p}),t?{p:t,s:r.s}:(o=[],{s:[]})},f="+"===r?function(){return i.p._data=t,u?"added":"updated"}:function(){if(o.length){for(o=o.reverse();o.length;)delete(i=o.shift()).p[i.q],1<i.k&&(o=[]);return"removed"}return"absent"};for(;i.s.length;)i=a(i);return f()}function $(r,n,e){return t("+",r,n,e)}function M(r,n){return t("-",r,n)}function N(r,n){for(var e=n.toUpperCase().split(""),t=r;e.length;)if(!(t=t[e.shift()]))return;return t._data?t._data:-1}var z={}.hasOwnProperty;function I(){for(var r=[],n=0;n<arguments.length;n++){var e=arguments[n];if(e){var t=typeof e;if("string"==t||"number"==t)r.push(e);else if(Array.isArray(e))r.push(I.apply(null,e));else if("object"==t)for(var i in e)z.call(e,i)&&e[i]&&r.push(i)}}return r.join(" ")}function L(r,n){var e,t=this;return e=function(){return t.apply(this,arguments)},angular.extend(e,t,n),((e.prototype=angular.extend({},t.prototype,r)).constructor=e).__super__=t.prototype,e}var q=/<\/?([a-zA-Z0-9]+)*(.*?)\/?>/gim,B=["b","i","p","em","strong","br"],H=["script","style","iframe"];function R(e){var r=function(r){r=String(r)||"";for(var n,e=[];null!==(n=q.exec(r));)e.push({full:n[0],name:n[1]});return e}(e=String(e)||"");return H.forEach(function(r){var n=new RegExp("<"+r+"(.*?)>(.*?[\r\n])*?(.*?)(.*?[\r\n])*?</"+r+">","gim");e=e.replace(n,"")}),r.forEach(function(r){var n;-1===B.indexOf(r.name)&&(e=e.replace(r.full,""),n=r,-1!==H.indexOf(n.name)&&-1===n.full.indexOf("/")&&o.warn("Unsanitary HTML input -- "+r.full+" detected!"))}),e}angular.module("onosUtil").factory("FnService",["$window","$location","$log",function(r,n,e){var t;return i=r,o=e,((t=n.search().debug)?t.split(","):[]).forEach(function(r){u[r]=!0}),o.debug("Debug flags:",t),{isF:c,isA:s,isS:l,isO:p,contains:g,areFunctions:d,areFunctionsNonStrict:h,windowSize:v,isMobile:y,isChrome:m,isSafari:b,isFirefox:O,debugOn:T,debug:U,find:x,inArray:A,removeFromArray:S,isEmptyObject:w,sameObjProps:j,containsObj:C,cap:P,eecode:E,noPx:F,noPxStyle:_,endsWith:k,addToTrie:$,removeFromTrie:M,trieLookup:N,classNames:I,extend:L,sanitize:R}}])}();
!function(){"use strict";var a,v,u,o,K,c,l,g,w=!0,f=!0,k={globalKeys:{},maskedKeys:{},dialogKeys:{},viewKeys:{},viewFn:null,viewGestures:[]},m={},p=!1,b="";var F={enter:1,esc:1};function d(){var e=d3.event,n=e.keyCode,r=function(e){switch(e){case 8:return"delete";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 27:return"esc";case 32:return"space";case 37:return"leftArrow";case 38:return"upArrow";case 39:return"rightArrow";case 40:return"downArrow";case 186:return"semicolon";case 187:return"equals";case 188:return"comma";case 189:return"dash";case 190:return"dot";case 191:return"slash";case 192:return"backQuote";case 219:return"openBracket";case 220:return"backSlash";case 221:return"closeBracket";case 222:return"quote";default:return 48<=e&&e<=57||65<=e&&e<=90?String.fromCharCode(e):112<=e&&e<=123?"F"+(e-111):null}}(n),s=!F[r],t=[];if(e.metaKey&&t.push("cmd"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),r&&(t.push(r),r=t.join("-"),!s||"input"!==(i=d3.event.target.tagName.toLowerCase())&&"textarea"!==i)){var i,a=k,u=a.globalKeys[r],o=v.isF(u)||v.isA(u)&&v.isF(u[0]),c=a.dialogKeys[r],l=v.isF(c),f=a.viewKeys[r],d=v.isF(a.viewKeys._keyListener),h=v.isF(f)||v.isA(f)&&v.isF(f[0])||v.isF(a.viewFn),y="keyev";if(e.stopPropagation(),w){if(function(e){if(!p&&"shift-shift"===e)return p=!0;if(p){if(b+=e,-1===(g=v.trieLookup(m,b)))return!0;if(p=!1,b="",!g)return;return K.cluck(g),!0}}(r))return;if(o&&o(y,r,n,e))return;if(l)return void l(y,r,n,e);h&&h(y,r,n,e),d&&d(r)}}}function e(){return l.bundle("core.fw.QuickHelp")}function h(){return e()("qh_hint_show_hide_qh")}function y(){return e()("qh_hint_esc")}function S(){return e()("qh_hint_t")}function _(e,n,r,s){return!!f&&(c.showQuickHelp(k),!0)}function q(e,n,r,s){return o.hideIfShown()||c.hideQuickHelp()}function T(e,n,r,s){return!!f&&(u.toggleTheme(),!0)}function A(n,r,e){var s=[],t=[];return d3.map(n).keys().forEach(function(e){k.maskedKeys[e]&&(s.push(e),t.push(r,': Key "'+e+'" is reserved'))}),t.length&&a.warn(t.join("\n")),e&&s.forEach(function(e){delete n[e]}),s}function G(e,n){a.warn(e,": unexpected parameter-- ",n)}function E(){k.viewKeys={},k.viewFn=null,k.viewGestures=[]}function Q(n){var r=[];v.isO(n)&&(angular.forEach(n,function(e,n){k.globalKeys[n]&&r.push(n)}),r.length&&(a.warn("Ignoring reserved global key(s):",r.join(",")),r.forEach(function(e){delete n[e]})))}angular.module("onosUtil").factory("KeyService",["$log","FnService","ThemeService","NavService","EeService","LionService",function(e,n,r,s,t,i){return a=e,v=n,u=r,o=s,K=t,l=i,{bindQhs:function(e){c=e},installOn:function(e){e.on("keydown",d),angular.extend(k,{globalKeys:{backSlash:[_,h],slash:[_,h],esc:[q,y],T:[T,S]},globalFormat:["backSlash","slash","esc","T"],maskedKeys:{slash:1,backSlash:1,T:1}})},keyBindings:function(e){if(void 0===e)return{globalKeys:d3.map(k.globalKeys).keys(),maskedKeys:d3.map(k.maskedKeys).keys(),viewKeys:d3.map(k.viewKeys).keys(),viewFunction:!!v.isF(k.viewFn)};var n,r,s,t;n=e,r="setKeyBindings()",s=v.isF(n),t=v.isO(n),s?k.viewFn=s:t?(A(t,r,!0),k.viewKeys=t):G(r,n)},unbindKeys:E,dialogKeys:function(e){var n,r,s;void 0===e?k.dialogKeys={}:(n=e,r="bindDialogKeys()",(s=v.isO(n))?(A(n,r,!0),k.dialogKeys=s):G(r,n))},addSeq:function(e,n){v.addToTrie(m,e,n)},remSeq:function(e){v.removeFromTrie(m,e)},gestureNotes:function(e){if(void 0===e)return k.viewGestures;k.viewGestures=v.isA(e)||[]},enableKeys:function(e){w=e},enableGlobalKeys:function(e){f=e},checkNotGlobal:Q}}])}();
!function(){"use strict";var i,r,n={uberlion:function(n){for(var e in o=n.lion,i.info("LION service: Locale... ["+n.locale+"]"),i.info("LION service: Bundles installed..."),o)o.hasOwnProperty(e)&&i.info("            :=> ",e);i.debug("LION service: uber-lion bundle received:",n)}},o={};function u(){r.bindHandlers(n)}function l(n){var e=o[n];return e||(i.warn("No lion bundle registered:",n),e={}),function(n){return e[n]||"%"+n+"%"}}angular.module("onosUtil").factory("LionService",["$log","WebSocketService",function(n,e){return i=n,r=e,{init:u,bundle:l}}])}();
!function(){"use strict";var u,r,f={},t=[];function a(e,n,r){var t=angular.extend({},n||{},f[e]||{});return u.isO(r)&&angular.forEach(t,function(e,n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t}function c(r,e,t){if(!r)return null;var u={};return t&&e.forEach(function(e){u[e]=1}),!e||t?angular.forEach(r,function(e,n){t&&u[n]||(r[n]=Number(r[n]))}):e.forEach(function(e){r[e]=Number(r[e])}),r}function i(e,n){f[e]=n,r.sendEvent("updatePrefReq",{key:e,value:n})}function o(e,n){var r=f[e]||{};i(e,angular.extend(r,n))}function s(e){f=e,t.forEach(function(e){e()})}function l(e){t.push(e)}function d(n){t=t.filter(function(e){return e===n})}angular.module("onosUtil").factory("PrefsService",["FnService","WebSocketService",function(e,n){u=e,r=n;try{f=angular.isDefined(userPrefs)?userPrefs:{}}catch(e){f={}}return r.bindHandlers({updatePrefs:s}),{getPrefs:a,asNumbers:c,setPrefs:i,mergePrefs:o,addListener:l,removeListener:d}}])}();
!function(){"use strict";function r(n){return Math.floor(Math.random()*n-n/2)}function n(n){return n/2+r(.7071*n)}angular.module("onosUtil").factory("RandomService",["$log","FnService",function(){return{spread:r,randDim:n}}])}();
!function(){"use strict";var i,o,a,r=["light","dark"],t=r.join(" "),d=[],f={gray1:{fill:{light:"#eeeeee",dark:"#222222"},stroke:{light:"#cccccc",dark:"#333333"}},gold1:{fill:{light:"#eeddaa",dark:"#544714"},stroke:{light:"#ffddaa",dark:"#645724"}},blue1:{fill:{light:"#a2b9ee",dark:"#273059"},stroke:{light:"#92a9de",dark:"#273a63"}}};function n(){a=o.getPrefs("theme",{idx:0}).idx,s()}function l(){return r[a]}function c(){var e=a+1;return a=e===r.length?0:e,o.setPrefs("theme",{idx:a}),u("toggle"),l()}function u(e){var t,n,r;a=o.getPrefs("theme",{idx:a}).idx,i.info("Applying theme:",a),s(),t=e||"set",n=l(),r="Theme-Change-("+t+"): "+n,i.debug(r),d.forEach(function(e){e({event:"themeChange",value:n})})}function s(){var e=d3.select("body");e.classed(t,!1),e.classed(l(),!0)}function g(e){d.push(e)}function h(t){d=d.filter(function(e){return e!==t})}function m(e,t){var n=e||"none",r=t||"stroke",i=l();return"none"===n?n:f[n][r][i]}angular.module("onosUtil").factory("ThemeService",["$log","PrefsService",function(e,t){return i=e,(o=t).addListener(u),{init:n,theme:function(e){if(void 0===e)return l();var t,n;t=e,-1<(n=r.indexOf(t))&&n!==a&&(a=n,o.setPrefs("theme",{idx:a}),u())},toggleTheme:c,addListener:g,removeListener:h,spriteColor:m}}])}();
!function(){"use strict";var s,f,v,g,b=25,n=4;function h(e,t){return e||s.warn("div undefined ("+t+")"),!!e}function p(e,t,n){return e.append("div").classed(t,!0).attr("id",n)}function w(){}function a(){return b+2*n}function o(e,t,n,i,o){if(!h(e,"button"))return null;var r=p(e,"button",t),d=f.isF(i)||w;return v.loadIcon(r,n,b,!0),o&&g.addTooltip(r,o),r.on("click",d),{id:t,width:a}}function r(e,t,n,i,o,r){if(!h(e,"toggle button"))return null;var d=!!i,c=p(e,"toggleButton",t),l=f.isF(o)||w;function u(e,t){d=void 0===e?!d:!!e,c.classed("selected",d),t||l(d)}return v.loadIcon(c,n,b,!0),c.classed("selected",d),r&&g.addTooltip(c,r),c.on("click",u),{id:t,width:a,selected:function(){return d},toggle:u,toggleNoCb:function(){u(void 0,!0)}}}function d(e,r,t){if(!h(e,"radio button set"))return null;if(!f.isA(t)||!t.length)return s.warn("invalid array (radio button set)"),null;var d=p(e,"radioSet",r),c=[],l={},i=0;function u(){var e=d3.select(this).attr("id"),t=/^.*-(\d+)$/.exec(e),n=Number(t[1]);n!==i&&(c[i].el.classed("selected",!1),c[i=n].el.classed("selected",!0),o())}function o(){var e=c[i];e.cb(e.index,e.key)}function a(e){if(void 0===e)return i;0<=e&&e<c.length?i!==e?(c[i].el.classed("selected",!1),c[i=e].el.classed("selected",!0),o()):s.warn("current index already selected:",e):s.warn("invalid radio button index:",e)}return t.forEach(function(e,t){if(f.isO(e)){var n=r+"-"+t,i=0===t,o=p(d,"radioButton",n);o.classed("selected",i),o.on("click",u),v.loadIcon(o,e.gid,b,!0),e.tooltip&&g.addTooltip(o,e.tooltip),angular.extend(e,{el:o,id:n,cb:f.isF(e.cb)||w,index:t}),e.key&&(l[e.key]=t),c.push(e)}else s.warn("radio button descriptor at index "+t+" not an object")}),{width:function(){return(b+n)*c.length+n},selected:function(e){var t,n=c[i];if(void 0===e)return n.key||n.index;void 0===(t=l[e])?s.warn("no radio button with key:",e):a(t)},selectedIndex:a,size:function(){return c.length}}}angular.module("onosWidget").factory("ButtonService",["$log","FnService","IconService","TooltipService",function(e,t,n,i){return s=e,f=t,v=n,g=i,{button:o,toggle:r,radioSet:d}}])}();
!function(){"use strict";var l,f,h,d,D;function s(t){var e,a={},o=t.tag+"s",n=t.tag+"DataRequest",s=t.tag+"DataResponse",c=h.isF(t.respCb),r=[];function u(e){var a=angular.extend({},e,t.query);d.isConnected()&&(d.sendEvent(n,a),D.start())}function i(){D.waiting()||(h.debugOn("widget")&&l.debug("Refreshing "+o+" page"),u(t.scope.reqParams))}function p(){e=f(i,2e3)}function g(){e&&(f.cancel(e),e=null)}t.scope.chartData=[],t.scope.changedData=[],t.scope.reqParams=t.reqParams||{},t.scope.autoRefresh=!0,t.scope.autoRefreshTip=t.lion_toggle_auto_refresh||"Toggle auto refresh",a[s]=function(e){D.stop(),t.scope.chartData=e[o],t.scope.annots=e.annots,c&&c(),angular.equals(t.scope.chartData,r)||(t.scope.changedData=[],r.length&&angular.forEach(t.scope.chartData,function(e){h.containsObj(r,e)||t.scope.changedData.push(e)}),angular.copy(t.scope.chartData,r)),t.scope.$apply()},d.bindHandlers(a),t.scope.requestCallback=u,t.scope.toggleRefresh=function(){t.scope.autoRefresh=!t.scope.autoRefresh,t.scope.autoRefresh?p():g()},t.scope.$on("$destroy",function(){d.unbindHandlers(a),g(),D.stop()}),u(t.scope.reqParams),p()}angular.module("onosWidget").factory("ChartBuilderService",["$log","$interval","FnService","WebSocketService","LoadingService",function(e,a,t,o,n){return l=e,f=a,h=t,d=o,D=n,{buildChart:s}}])}();
!function(){"use strict";function t(o,c){var s=!1;return c.propOrder.forEach(function(t){function r(t,r){p.append("td").attr("class",t).text(r)}var e,n,a,p;s="-"===t?(o.append("tr").append("td").attr("colspan",2).append("hr"),!0):(e=o,n=c.propLabels[t],a=c.propValues[t],p=e.append("tr"),r("label",("string"==typeof n?n.replace(/_/g," "):n)+" :"),r("value",a),!1)}),s}angular.module("onosWidget").factory("ListService",[function(){return{listProps:t}}])}();
!function(){"use strict";var l,r,h,u,o,f,d=22,v="col-width",g={};function s(t,e){t.style("width",e)}function b(t,e){var n=t.select("tr:first-child").selectAll("td");s(t,e+"px"),n.each(function(t,e){var n=d3.select(this),i=e.toString();g.hasOwnProperty(i)&&s(n,g[i])})}function w(t,e,n,i){var o,a,c;t?(b(e.thead,n),b(e.tbody,n)):(b(e.thead,n),s(e.tbody,n+"px")),o=e.thead,a=e.table.select(".table-body"),c=i-(u.mastHeight()+h.noPxStyle(d3.select(".tabular-header"),"height")+h.noPxStyle(o,"height")+d),a.style("height",c+"px")}var $={s:{first:null,second:null,touched:null},reset:function(){var t=$.s;t.first&&f.none(t.first.adiv),t.second&&f.none(t.second.adiv),$.s={first:null,second:null,touched:null}},touch:function(t,e){var n,i=$.s,o=i.first;i.touched?t===i.touched?(n="asc"===o.dir?"desc":"asc",o.dir=n,o.adiv=e):(i.second=i.first,i.first={id:t,dir:"asc",adiv:e},i.touched=t):(i.first={id:t,dir:"asc",adiv:e},i.touched=t)},update:function(){var t=$.s,e=t.first,n=t.second;f[e.dir](e.adiv),n&&f.none(n.adiv)}};angular.module("onosWidget").directive("onosTableResize",["$log","$window","FnService","MastService",function(a,c,d,s){return function(t,e){l=a,r=c,h=d,u=s;var n,i=d3.select(e[0]),o={table:i,thead:i.select(".table-header").select("table"),tbody:i.select(".table-body").select("table")};i.select(".table-header").selectAll("td").each(function(t,e){var n=d3.select(this),i=e.toString();n.classed("table-icon")&&(g[i]="40px"),n.attr(v)&&(g[i]=n.attr(v))}),h.debugOn("widget")&&l.debug("Headers with custom widths: ",g),t.$watchCollection(function(){return{h:r.innerHeight,w:r.innerWidth}},function(){n=h.windowSize(0,30),w(t.tableData.length,o,n.width,n.height)}),t.$watchCollection("tableData",function(){w(t.tableData.length,o,n.width,n.height)}),t.$on("$destroy",function(){g={}})}}]).directive("onosSortableHeader",["$log","IconService",function(n,i){return function(r,t){l=n,o=i;var e=d3.select(t[0]);f=o.sortIcons(),e.selectAll("td").on("click",function(){var t,e,n,i,o,a,c,d,s=d3.select(this);""===s.attr("sortable")&&(c=(a=s).select("div"),d=a.attr("colId"),f.none(c),c=a.append("div"),$.touch(d,c),$.update(),r.sortParams=(t=$.s,e=t.first,n=t.second,i=n&&n.id,o=n&&n.dir,{firstCol:e.id,firstDir:e.dir,secondCol:i,secondDir:o}),r.sortCallback(r.sortParams))}),r.$on("$destroy",function(){$.reset()})}}]).directive("onosFlashChanges",["$log","$parse","$timeout","FnService",function(t,e,s,r){return function(e,t,n){var i,o,a=n.idProp,c=d3.select(t[0]);function d(){var n=[];function t(e){n.length&&angular.forEach(n,function(t){t.classed("data-change",e)})}s(function(){e.tableData.length&&(i=c.selectAll("tr")),i&&!i.empty()&&(i.each(function(){var t=d3.select(this);-1<r.find(t.attr("row-id"),e.changedData,a)&&n.push(t)}),t(!0),o=s(function(){t(!1)},1500),i=void 0)})}e.$on("ngRepeatComplete",d),e.$watchCollection("changedData",d),e.$on("$destroy",function(){o&&s.cancel(o)})}}])}();
!function(){"use strict";var f,b,h,R,v;function n(s){var e,a={},o=s.tag+"s",t=s.tag+"DataRequest",n=s.tag+"DataResponse",c=h.isF(s.selCb),r=h.isF(s.respCb),l=s.idKey||"id",u=[];function i(){var e=s.scope.sortParams,a=h.isO(s.scope.payloadParams)||{},o=angular.extend({},e,a,s.query);R.isConnected()&&(h.debugOn("table")&&f.debug("Table data REQUEST:",t,o),R.sendEvent(t,o),v.start())}function p(){v.waiting()||(h.debugOn("widget")&&f.debug("Refreshing "+o+" page"),i())}function g(){e=b(p,2e3)}function d(){e&&(b.cancel(e),e=null)}return s.scope.tableData=[],s.scope.changedData=[],s.scope.sortParams=s.sortParams||{},s.scope.autoRefresh=!0,s.scope.autoRefreshTip=s.lion_toggle_auto_refresh||"Toggle auto refresh",a[n]=function(e){v.stop(),s.scope.tableData=e[o],s.scope.annots=e.annots,r&&r(),angular.equals(s.scope.tableData,u)||(s.scope.changedData=[],u.length&&angular.forEach(s.scope.tableData,function(e){h.containsObj(u,e)||s.scope.changedData.push(e)}),angular.copy(s.scope.tableData,u)),s.scope.$apply()},R.bindHandlers(a),s.scope.sortCallback=i,s.scope.selectCallback=function(e,a){var o=a[l];s.scope.selId=s.scope.selId===o?null:o,c&&c(e,a)},s.scope.toggleRefresh=function(){s.scope.autoRefresh=!s.scope.autoRefresh,s.scope.autoRefresh?g():d()},s.scope.$on("$destroy",function(){R.unbindHandlers(a),d(),v.stop()}),i(),g(),{forceRefesh:i}}angular.module("onosWidget").factory("TableBuilderService",["$log","$interval","FnService","WebSocketService","LoadingService",function(e,a,o,s,t){return f=e,b=a,h=o,R=s,v=t,{buildTable:n}}])}();
!function(){"use strict";var i,n;function t(o){n.isF(o.popTop),n.isF(o.popMid),n.isF(o.popBot);i.debug("options are",o)}angular.module("onosWidget").factory("TableDetailService",["$log","FnService",function(o,e){return i=o,n=e,{buildBasePanel:t}}])}();
!function(){"use strict";var I,T,x,B,P,D=10,R={edge:"left",width:20,margin:0,hideMargin:-20,top:"auto",bottom:"10px",fade:!1,shown:!1},V={};function k(t,e){return I.warn("createToolbar: "+t+": ["+e+"]"),null}function a(t,e){if(!t)return k("no ID given");if(V[t])return k("duplicate ID given",t);var n,r=angular.extend({},R,T.isO(e)),d={},l="toolbar-"+t,o=x.createPanel(l,r),a=(n=o.append("div").classed("tbar-arrow",!0),P.loadIcon(n,"triangleUp",D,!0),n),u=o.append("div").classed("tbar-row",!0),i=[],c=D+2,s=o.width();function f(t,e){return!!d[t]&&(I.warn(e+": duplicate ID:",t),!0)}function p(t){T.noPxStyle(u,"width")+.1>=s&&(s=c+=t),o.width(c)}function g(t,e,n,r){if(f(t,"addButton"))return null;var o=l+"-"+t,a=B.button(u,o,e,n,r);return p((d[t]=a).width()),a}function v(){u.selectAll("*").remove(),i.forEach(function(t){delete d[t]}),i=[]}function b(t){v(),u.append("div").classed("tbar-row-text",!0).text(t)}function w(t,e,n,r){g(t,e,n,r)&&i.push(t)}function h(t,e){u.classed(t,e)}function m(t){a.select("g").attr("transform","translate(0 50) rotate(-90)"),o.show(t)}function S(t){a.select("g").attr("transform","translate(50 0) rotate(90)"),o.hide(t)}function y(t){o.isVisible()?S(t):m(t)}return a.on("click",y),V[t]={settings:r,items:d,panel:o,panelId:l},o.classed("toolbar",!0).style("top",r.top).style("bottom",r.bottom),{addButton:g,addToggle:function(t,e,n,r,o){if(f(t,"addToggle"))return null;var a=l+"-"+t,i=B.toggle(u,a,e,n,r,o);return p((d[t]=i).width()),i},addRadioSet:function(t,e){if(f(t,"addRadioSet"))return null;var n=l+"-"+t,r=B.radioSet(u,n,e);return p((d[t]=r).width()),r},addSeparator:function(){u.append("div").classed("separator",!0),c+=6},addRow:function(){return u.select("div").empty()?null:(o.append("br"),u=o.append("div").classed("tbar-row",!0),{clear:v,setText:b,addButton:w,classed:h})},show:m,hide:S,toggle:y,isVisible:function(){return o.isVisible()}}}function i(t){var e=V[t];delete V[t],e&&x.destroyPanel(e.panelId)}angular.module("onosWidget").factory("ToolbarService",["$log","FnService","PanelService","ButtonService","IconService",function(t,e,n,r,o){return I=t,T=e,x=n,B=r,P=o,{init:function(){V={}},createToolbar:a,destroyToolbar:i}}])}();
!function(){"use strict";var o,p,f,h,g=35,v=150,e=150;function i(){(f=d3.select("#tooltip")).text("")}function n(t,e){t.on("mouseover",function(){c(this,e)}),t.on("mouseout",function(){l(this)}),o.$on("$routeChangeStart",function(){l(t.node())})}function c(t,e){if(t&&e&&!p.isMobile()){var o,i,n,c,l,s=d3.select(t),r=d3.event.pageX,a=d3.event.pageY,d=(o=r,i=a,n=p.windowSize().width,c=p.windowSize().height,l={display:"inline-block",left:"auto",right:"auto"},o<=n/2?l.left=o+"px":l.right=n-o+"px",l.top=i<=c/2?i+(g-10)+"px":i-g+"px",l),u=p.isF(e)?e():e;h=s.attr("id"),f.transition().delay(v).each("start",function(){d3.select(this).style("display","none")}).each("end",function(){d3.select(this).style(d).text(u)})}}function l(t){t&&d3.select(t).attr("id")===h&&f.transition().delay(e).style({display:"none"}).text("")}angular.module("onosWidget").directive("tooltip",["$rootScope","FnService",function(t,e){return o=t,p=e,i(),{restrict:"A",link:function(t,e,o){n(d3.select(e[0]),t[o.ttMsg])}}}]).factory("TooltipService",["$rootScope","FnService",function(t,e){return o=t,p=e,i(),{addTooltip:n,showTooltip:c,cancelTooltip:l}}])}();
!function(){"use strict";var g,_,b,m,w,y,D,S,d,c,o,r,s,$,C,k,F,p=!1,q="",u=540,f="application-details-panel",B="appDetailsRequest",E="rs/applications/",a="/icon",I={edge:"right",width:400},T={"org.onosproject.drivers":!0},l=["id","state","category","version","origin","role"];function v(){return!!S.isVisible()&&(_.selId=null,S.hide(),!0)}function h(){var e,t,i,n;function a(e,t){var n=i.append("div").classed(e,!0);t&&n.append("table").classed(t,!0)}function l(e,t){s.append("h2").text(e),s.append("div").classed(t,!0).append("table")}S.empty(),S.width(u),e=S.append("div").classed("container",!0),t=(o=e.append("div").classed("top",!0)).append("div").classed("close-btn",!0),n=t,D.loadEmbeddedIcon(n,"close",26),n.on("click",v),i=o.append("div").classed("top-content",!0),a("app-title"),a("left app-icon"),a("right","app-props"),a("app-url"),e.append("hr"),(r=e.append("div").classed("middle",!0)).append("div").classed("app-readme",!0),e.append("hr"),s=e.append("div").classed("bottom",!0),l(F("dp_features"),"features"),l(F("dp_required_apps"),"required-apps"),l(F("dp_permissions"),"permissions")}function A(r){var e,t,n,d=o.select(".app-props").append("tbody"),i=r.url;o.select(".app-title").text(r.title),e=o.select(".app-icon"),t=r.id,e.append("img").attr("src",E+t+a),l.forEach(function(e,t){function n(e,t){o.append("td").attr("class",e).text(t)}var i,a,l,o;i=d,a=t,l=r[e],o=i.append("tr"),n("label",k[a]+":"),n("value",l)}),i&&o.select(".app-url").html((n=i,'<a href="'+(n=m.sanitize(n))+'" target="_blank">'+n+"</a>"))}function P(e){var t,n;function i(e,t){var n=s.select("."+e).select("table").append("tbody");t.forEach(function(e){n.append("tr").append("td").text(e)})}h(),A(e),t=e,r.select(".app-readme").text(t.readme),i("features",(n=e).features),i("required-apps",n.required_apps),i("permissions",n.permissions),S.height(c)}function x(e){_.panelData=e.details,_.selId=e.details.id,_.ctrlBtnState.selection=e.details.id,_.$apply()}angular.module("ovApp",[]).controller("OvAppCtrl",["$log","$scope","$http","$timeout","WebSocketService","FnService","KeyService","PanelService","IconService","UrlFnService","DialogService","TableBuilderService","LionService",function(e,t,n,i,a,l,o,r,d,c,s,p,u){g=e,_=t,b=a,m=l,w=o,y=r,D=d,F=u.bundle("core.view.App"),$=F("dlg_warn_deactivate"),C=F("dlg_warn_own_risk"),k=[F("app_id"),F("state"),F("category"),F("version"),F("origin"),F("role")],_.lion=F,_.panelData={},_.ctrlBtnState={},_.uploadTip=F("tt_ctl_upload"),_.activateTip=F("tt_ctl_activate"),_.deactivateTip=F("tt_ctl_deactivate"),_.uninstallTip=F("tt_ctl_uninstall"),_.downloadTip=F("tt_ctl_download");var f={};function v(){var e,t;_.ctrlBtnState.selection?(e=0<=(t=m.find(_.selId,_.tableData))?_.tableData[t]:null,_.ctrlBtnState.installed=e&&"INSTALLED"===e.state,_.ctrlBtnState.active=e&&"ACTIVE"===e.state):(_.ctrlBtnState.installed=!1,_.ctrlBtnState.active=!1)}function h(e){var t,n,i,a=_.selId,l=_.sortParams;s.openDialog("app-dialog",I).setTitle(F("dlg_confirm_action")).addContent((t=e,n=a,(i=s.createDiv()).append("p").text(F(t)+" "+n),T[n]&&i.append("p").html(m.sanitize($)+"<br>"+m.sanitize(C)).classed("strong",!0),i)).addOk(function(){g.debug("Initiating",e,"of",a),b.sendEvent("appManagementRequest",{action:e,name:a,sortCol:l.sortCol,sortDir:l.sortDir}),"uninstall"===e?S.hide():b.sendEvent(B,{id:a})}).addCancel(function(){g.debug("Canceling",e,"of",a)}).bindKeys()}f.appDetailsResponse=x,b.bindHandlers(f),p.buildTable({scope:_,tag:"app",selCb:function(e,t){_.ctrlBtnState.selection=!!_.selId,v(),s.closeDialog(),_.selId?b.sendEvent(B,{id:t.id}):_.hidePanel()},respCb:v,sortParams:{firstCol:"state",firstDir:"desc",secondCol:"title",secondDir:"asc"},lion_toggle_auto_refresh:F("tt_ctl_auto_refresh")}),w.keyBindings({esc:[_.selectCallback,F("qh_hint_esc")],_helpFormat:["esc"]}),w.gestureNotes([[F("click_row"),F("qh_hint_click_row")],[F("scroll_down"),F("qh_hint_scroll_down")]]),_.appAction=function(e){_.ctrlBtnState.selection&&h(e)},_.downloadApp=function(){_.ctrlBtnState.selection&&(window.location=E+_.selId+"/download")},_.$on("FileChanged",function(){var e,t=new FormData;_.appFile&&(t.append("file",_.appFile),e="applications/upload"+q,n.post(c.rsUrl(e),t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).finally(function(){q="",_.sortCallback(_.sortParams),document.getElementById("inputFileForm").reset(),i(function(){b.sendEvent(B)},250)}))}),_.appDropped=function(){q="?activate=true",_.$emit("FileChanged"),_.appFile=null},_.$on("$destroy",function(){w.unbindKeys(),b.unbindHandlers(f),s.closeDialog()}),Object.defineProperty(_,"queryFilter",{get:function(){var e={};return e[_.queryBy||"$"]=_.queryTxt,e}}),g.log("OvAppCtrl has been created")}]).directive("triggerForm",function(){return{restrict:"A",link:function(e,t){t.bind("click",function(){document.getElementById("uploadFile").dispatchEvent(new MouseEvent("click"))})}}}).directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(e,t,n){var i=a(n.fileModel).assign;t.bind("change",function(){e.$apply(function(){i(e,t[0].files[0])}),e.$emit("FileChanged")})}}}]).directive("filedrop",["$parse","$document",function(l,o){return{restrict:"A",link:function(n,e,t){function i(e){d3.select("#frame").classed("dropping",!1),e.preventDefault()}var a=l(t.onFileDrop);o.bind("dragover",function(e){d3.select("#frame").classed("dropping",!0),e.preventDefault()}),e.bind("dragleave",i).bind("drop",function(e){var t;g.info("Drag leave",e),t=e.dataTransfer.files[0],n.appFile=t,n.$apply(a(n)),i(e)})}}}]).directive("applicationDetailsPanel",["$rootScope","$window","$timeout","KeyService",function(a,l,o,r){return function(e){var t;function n(){d=m.noPxStyle(d3.select(".tabular-header"),"height")+60,p=m.windowSize(d),c=p.height}function i(){n(),(S=y.createPanel(f,{width:p.width,margin:0,hideMargin:0})).el().style({position:"absolute",top:d+"px"}),_.hidePanel=function(){S.hide()},S.hide(),g.debug("start to initialize panel!")}"safari"===e.onos.browser?o(i):i(),r.keyBindings({esc:[v,F("qh_hint_close_detail")],_helpFormat:["esc"]}),r.gestureNotes([[F("click_row"),F("qh_hint_click_row")],[F("scroll_down"),F("qh_hint_scroll_down")]]),e.$watch("panelData",function(){m.isEmptyObject(e.panelData)||(P(e.panelData),S.show())}),t=a.$watchCollection(function(){return{h:l.innerHeight,w:l.innerWidth}},function(){m.isEmptyObject(e.panelData)||(n(),P(e.panelData))}),e.$on("$destroy",function(){t(),r.unbindKeys(),y.destroyPanel(f)})}}])}();
!function(){"use strict";var r,p,u,h,v,f,b,s,w,y,i,a,d,o,g,c=24,_=17,S=50,m="cluster-details-panel",t=["id","ip"],x=["id","type","chassisid","mfr","hw","sw","protocol","serial"];function l(){return!!s.isVisible()&&(p.selId=null,s.hide(),!0)}function $(){return l()}function n(){var e,t,n;s.empty(),e=s.append("div").classed("container",!0),t=(i=e.append("div").classed("top",!0)).append("div").classed("close-btn",!0),n=t,f.loadEmbeddedIcon(n,"close",20),n.on("click",l),o=i.append("div").classed("dev-icon",!0),i.append("h2"),a=i.append("div").classed("top-content",!0).append("table"),i.append("hr"),(d=e.append("div").classed("bottom",!0)).append("h2").classed("devices-title",!0).text("Devices"),d.append("table")}function D(d){var e,c=[(e=p.lion)("node_id"),e("ip_address")];f.loadEmbeddedIcon(o,"node",40),i.select("h2").text(d.id);var s=a.append("tbody");t.forEach(function(e,t){function n(e,t){l.append("td").attr("class",e).text(t)}var i,a,o,l;i=s,a=c[t],o=d[e],l=i.append("tr"),n("label",a+" :"),n("value",o)})}function P(e){var t,n,i,a=d.select("table"),o=a.append("thead").append("tr"),l=a.append("tbody");[(i=p.lion)("uri"),i("type"),i("chassis_id"),i("vendor"),i("hw_version"),i("sw_version"),i("protocol"),i("serial_number")].forEach(function(e){o.append("th").text(e)}),e.forEach(function(e){var t,n;t=e,n=l.append("tr"),x.forEach(function(e){n.append("td").text(t[e])})}),t=u.noPxStyle(l,"width")+_,n=y-(u.noPxStyle(s.el().select(".top"),"height")+u.noPxStyle(s.el().select(".devices-title"),"height")+S),a.style({height:n+"px",width:t+"px",overflow:"auto",display:"block"}),s.width(t+c)}function E(e){n(),D(e),P(e.devices),s.height(y)}function C(e){p.panelData=e.details,p.$apply()}angular.module("ovCluster",[]).controller("OvClusterCtrl",["$log","$scope","FnService","MastService","PanelService","IconService","WebSocketService","LionService","TableBuilderService",function(e,t,n,i,a,o,l,d,c){var s={};r=e,u=n,h=i,v=a,f=o,b=l,(p=t).lion=d.bundle("core.view.Cluster"),p.panelData={},c.buildTable({scope:p,selCb:function(e,t){p.selId?b.sendEvent("clusterDetailsRequest",{id:t.id}):p.hidePanel();r.debug("Got a click on:",t)},tag:"cluster"}),s.clusterDetailsResponse=C,b.bindHandlers(s),p.$on("$destroy",function(){b.unbindHandlers(s)}),r.log("OvClusterCtrl has been created")}]).directive("clusterDetailsPanel",["$rootScope","$window","$timeout","KeyService",function(o,l,d,c){return function(e){var t,n=e.lion;function i(){w=u.noPxStyle(d3.select(".tabular-header"),"height")+h.mastHeight()+28,g=u.windowSize(w),y=g.height}function a(){i(),(s=v.createPanel(m,{width:g.width,margin:0,hideMargin:0})).el().style({position:"absolute",top:w+"px"}),p.hidePanel=function(){s.hide()},s.hide()}"safari"===e.onos.browser?d(a):a(),c.keyBindings({esc:[$,n("qh_hint_close_detail")],_helpFormat:["esc"]}),c.gestureNotes([[n("click"),n("qh_hint_click")],[n("scroll_down"),n("qh_hint_scroll_down")]]),e.$watch("panelData",function(){u.isEmptyObject(e.panelData)||(E(e.panelData),s.show())}),t=o.$watchCollection(function(){return{h:l.innerHeight,w:l.innerWidth}},function(){u.isEmptyObject(e.panelData)||(i(),E(e.panelData))}),e.$on("$destroy",function(){t(),v.destroyPanel(m)})}}])}();
!function(){"use strict";var f,w,b,S,g,y,m,D,P,s,l,r,p,n,d=24,c=17,v=50,h="device-details-panel",I="deviceDetailsRequest",u="deviceDetailsResponse",T="deviceNameChangeRequest",$=["enabled","id","speed","type","elinks_dest","name"],x=["Enabled","ID","Speed","Type","Egress Links","Name"],C={esc:[o,"Close the details panel"],_helpFormat:["esc"]};function o(){return!!s.isVisible()&&(w.selId=null,s.hide(),!0)}function a(e,t){var i;m.loadEmbeddedIcon(P.select(".iconDiv"),t._iconid_type,40),P.top().select("h2").text(t.name),P.addPropsList(e,(i=t,{URI:n.id,Type:n.type,"Master ID":i.masterid,"Chassis ID":i.chassisid,Vendor:n.mfr,"H/W Version":n.hw,"S/W Version":n.sw,Protocol:i.protocol,"Serial #":n.serial,Pipeconf:i.pipeconf}))}function E(e,t){var i,n,o=e.append("thead").append("tr"),a=e.append("tbody");x.forEach(function(e){o.append("th").text(e)}),t.forEach(function(e){var t,i;t=e,i=a.append("tr"),$.forEach(function(e){i.append("td").text(t[e])})}),i=b.noPxStyle(a,"width")+c,n=r-(b.noPxStyle(s.el().select(".top"),"height")+b.noPxStyle(s.el().select(".ports-title"),"height")+v),e.style({height:n+"px",width:i+"px",overflow:"auto",display:"block"}),s.width(i+d)}function k(e){var t,i;!function(){P.empty(),P.addContainers(),P.addCloseButton(o);var e=P.top(),t=P.bottom();P.addHeading("dev-icon",!0),e.append("div").classed("top-content",!0),e.append("hr"),t.append("h2").classed("ports-title",!0).text("Ports"),t.append("table")}(),t=P.bottom().select("table"),i=e.ports,a(P.select(".top-content"),e),E(t,i),s.height(r)}function R(e){w.panelData=e.details,n=e.device,w.$apply()}function H(e){e.warn&&(f.warn(e.warn,e.id),(void 0).select("h2").text(e.id))}function B(e){f.debug("populateTop")}function M(e){f.debug("populateMiddle")}angular.module("ovDevice",[]).controller("OvDeviceCtrl",["$log","$scope","$location","TableBuilderService","TableDetailService","FnService","MastService","PanelService","WebSocketService","IconService","NavService","KeyService","DetailsPanelService",function(e,t,i,n,o,a,d,c,s,l,r,p,v){var h,u={};f=e,w=t,b=a,S=d,g=c,y=s,m=l,D=r,P=v,h=i.search(),w.panelData={},w.flowTip="Show flow view for selected device",w.portTip="Show port view for selected device",w.groupTip="Show group view for selected device",w.meterTip="Show meter view for selected device",w.pipeconfTip="Show pipeconf view for selected device",u.deviceNameChangeResponse=H,y.bindHandlers(u),h.hasOwnProperty("devId")&&(w.selId=h.devId,y.sendEvent(I,{id:w.selId})),n.buildTable({scope:w,tag:"device",selCb:function(e,t){w.selId?y.sendEvent(I,{id:t.id}):w.hidePanel(),f.debug("Got a click on:",t)}}),o.buildBasePanel({popTop:B,popMid:M}),w.nav=function(e){w.selId&&D.navTo(e,{devId:w.selId})},w.$on("$destroy",function(){P.destroy(),y.unbindHandlers(u)}),f.log("OvDeviceCtrl has been created")}]).directive("deviceDetailsPanel",["$rootScope","$window","$timeout","KeyService",function(o,a,d,c){return function(e){var t;function i(){l=b.noPxStyle(d3.select(".tabular-header"),"height")+S.mastHeight()+28,p=b.windowSize(l),r=p.height}function n(){i(),s=P.create(h,{width:p.width,margin:0,hideMargin:0,scope:w,keyBindings:C,nameChangeRequest:T}),P.setResponse(u,R),w.hidePanel=function(){s.hide()}}"safari"===e.onos.browser?d(n):n(),c.keyBindings(C),c.gestureNotes([["click","Select a row to show device details"],["scroll down","See more devices"]]),e.$watch("panelData",function(){b.isEmptyObject(e.panelData)||(k(e.panelData),s.show())}),t=o.$watchCollection(function(){return{h:a.innerHeight,w:a.innerWidth}},function(){b.isEmptyObject(e.panelData)||(i(),k(e.panelData))}),e.$on("$destroy",function(){t(),c.unbindKeys(),g.destroyPanel(h)})}}])}();
!function(){"use strict";var h,v,b,w,m,_,y,g,I,T,l,c,p,s,u,f,S,$,D,P,k="flow-details-panel",E=["flowId","state","bytes","packets","duration","priority","tableName","appName","appId","groupId","idleTimeout","hardTimeout","permanent"];function a(){return!!l.isVisible()&&(v.selId=null,l.hide(),!0)}function x(){return a()}function t(){var e,t,n;l.empty(),e=l.append("div").classed("container",!0),t=(s=e.append("div").classed("top",!0)).append("div").classed("close-btn",!0),n=t,T.loadEmbeddedIcon(n,"close",20),n.on("click",a),$=s.append("div").classed("dev-icon",!0),s.append("h2"),u=s.append("div").classed("top-content",!0).append("table"),s.append("hr"),s.append("h3").text("Selector"),f=s.append("div").classed("top-content",!0).append("table"),s.append("hr"),s.append("h3").text("Treatment"),S=s.append("div").classed("top-content",!0).append("table")}function F(e,t,n){var a=e.append("tr");function o(e,t){a.append("td").attr("class",e).text(t)}o("label",t+" :"),o("value",n)}function C(e){t(),function(n){T.loadEmbeddedIcon($,"flowTable",40),s.select("h2").text(n.flowId);var a=u.append("tbody"),t=f.append("tbody"),o=S.append("tbody"),e=n.selector,i=n.treatment,d=getLionProps();function r(e,t){var n=t.match(/^([^:]*):(.*)/);F(e,n[1],n[2])}function l(e,t){e.forEach(function(e){r(o,t+e)})}E.forEach(function(e,t){F(a,d[t],n[e])}),e.forEach(function(e){r(t,e)}),i.immed&&l(i.immed,"[imm]"),i.defer&&l(i.defer,"[def]"),i.meter&&r(o,i.meter),i.table&&r(o,i.table),i.meta&&r(o,i.meta),F(o,"Clear deferred",i.clearDef)}(e),l.height(p),l.width(400)}function N(e){h.debug("Got response from server :",e),v.panelData=e.details,v.$apply()}angular.module("ovFlow",[]).controller("OvFlowCtrl",["$log","$scope","$location","FnService","TableBuilderService","NavService","MastService","PanelService","KeyService","IconService","WebSocketService","LionService",function(e,t,n,a,o,i,d,r,l,c,p,s){var u,f={};h=e,v=t,b=n,w=a,m=o,_=i,T=c,I=p,y=d,g=r,P=s.bundle("core.view.Flow"),P("dlg_warn_deactivate"),P("dlg_warn_own_risk"),P("flowId"),P("state"),P("bytes"),P("packets"),P("duration"),P("priority"),P("tableName"),P("appName"),P("appId"),P("groupId"),P("idleTimeout"),P("hardTimeout"),P("permanent"),v.lion=P,v.deviceTip=P("tt_ctl_show_device"),v.portTip=P("tt_ctl_show_port"),v.groupTip=P("tt_ctl_show_group"),v.meterTip=P("tt_ctl_show_meter"),v.pipeconfTip=P("tt_ctl_show_pipeconf"),v.briefTip=P("tt_ctl_switcth_brief"),v.detailTip=P("tt_ctl_switcth_detailed"),v.brief=!0,(u=b.search()).hasOwnProperty("devId")&&(v.devId=u.devId),m.buildTable({scope:v,tag:"flow",selCb:function(e,t){v.selId?I.sendEvent("flowDetailsRequest",{flowId:t.id,appId:t.appId}):v.hidePanel();h.debug("Got a click on:",t)},query:u}),v.nav=function(e){v.devId&&_.navTo(e,{devId:v.devId})},f.flowDetailsResponse=N,I.bindHandlers(f),v.$on("$destroy",function(){I.unbindHandlers(f)}),v.briefToggle=function(){v.brief=!v.brief},Object.defineProperty(v,"queryFilter",{get:function(){var e={};return e[v.queryBy||"$"]=v.queryTxt,e}}),h.log("OvFlowCtrl has been created")}]).directive("flowDetailsPanel",["$rootScope","$window","$timeout","KeyService",function(o,i,d,r){return function(e){var t;function n(){var e=d3.select(".tabular-header");c=w.noPxStyle(e,"height")+y.mastHeight()+28,D=w.windowSize(c),p=D.height}function a(){n(),(l=g.createPanel(k,{width:D.width,margin:0,hideMargin:0})).el().style({position:"absolute",top:c+"px"}),v.hidePanel=function(){l.hide()},l.hide()}"safari"===e.onos.browser?d(a):a(),r.keyBindings({esc:[x,"Close the details panel"],_helpFormat:["esc"]}),r.gestureNotes([["click","Select a row to show cluster node details"],["scroll down","See available cluster nodes"]]),e.$watch("panelData",function(){w.isEmptyObject(e.panelData)||(C(e.panelData),l.show())}),t=o.$watchCollection(function(){return{h:i.innerHeight,w:i.innerWidth}},function(){w.isEmptyObject(e.panelData)||(n(),C(e.panelData))}),e.$on("$destroy",function(){t(),g.destroyPanel(k)})}}])}();
!function(){"use strict";var d,l,n,u,f,p;angular.module("ovGroup",[]).controller("OvGroupCtrl",["$log","$scope","$location","$sce","FnService","TableBuilderService","NavService",function(e,i,t,r,o,c,a){var v;d=e,n=t,u=o,f=c,p=a,(l=i).deviceTip="Show device table",l.flowTip="Show flow view for this device",l.portTip="Show port view for this device",l.meterTip="Show meter view for selected device",l.pipeconfTip="Show pipeconf view for selected device",l.briefTip="Switch to brief view",l.detailTip="Switch to detailed view",l.brief=!0,(v=n.search()).hasOwnProperty("devId")&&(l.devId=v.devId),f.buildTable({scope:l,tag:"group",query:v}),l.$watch("tableData",function(){u.isEmptyObject(l.tableData)||l.tableData.forEach(function(e){e.buckets=r.trustAsHtml(e.buckets)})}),l.nav=function(e){l.devId&&p.navTo(e,{devId:l.devId})},l.briefToggle=function(){l.brief=!l.brief},Object.defineProperty(l,"queryFilter",{get:function(){var e={};return e[l.queryBy||"$"]=l.query,e}}),d.log("OvGroupCtrl has been created")}])}();
!function(){"use strict";var v,f,g,w,S,b,y,m,D,c,l,r,h,u="host-details-panel",I="hostDetailsRequest",p="hostDetailsResponse",$="hostNameChangeRequest",C={esc:[o,"Close the details panel"],_helpFormat:["esc"]};function o(){return!!c.isVisible()&&(f.selId=null,c.hide(),!0)}function P(e){var t,n,i;!function(){D.empty(),D.addContainers(),D.addCloseButton(o);var e=D.top();D.addHeading("host-icon",!0),e.append("div").classed("top-content",!0),e.append("hr")}(),t=D.select(".top-content"),n=e,y.loadEmbeddedIcon(D.select(".iconDiv"),n._iconid_type,40),D.top().select("h2").text(n.name),D.addPropsList(t,{"Host ID":(i=n).id,"IP Address":i.ip[0],"MAC Address":i.mac,VLAN:i.vlan,Configured:i.configured,Location:i.location}),c.height(r),c.width(400)}function H(e){f.panelData=e.details,f.$apply()}function R(e){e.warn&&(v.warn(e.warn,e.id),(void 0).select("h2").text(e.id))}angular.module("ovHost",[]).controller("OvHostCtrl",["$log","$scope","$location","TableBuilderService","FnService","MastService","PanelService","WebSocketService","IconService","NavService","KeyService","DetailsPanelService",function(e,t,n,i,o,a,s,d,c,l,r,h){var u,p={};v=e,f=t,g=o,w=a,S=s,b=d,y=c,m=l,D=h,u=n.search(),f.panelData={},p.hostNameChangeResponse=R,b.bindHandlers(p),u.hasOwnProperty("hostId")&&(f.selId=u.hostId,b.sendEvent(I,{id:f.selId})),i.buildTable({scope:f,tag:"host",selCb:function(e,t){f.selId?b.sendEvent(I,{id:t.id}):f.hidePanel(),v.debug("Got a click on:",t)}}),f.nav=function(e){f.selId&&m.navTo(e,{hostId:f.selId})},f.$on("$destroy",function(){D.destroy(),b.unbindHandlers(p)}),v.log("OvHostCtrl has been created")}]).directive("hostDetailsPanel",["$rootScope","$window","$timeout","KeyService","DetailsPanelService",function(o,a,s,d){return function(e){var t;function n(){l=g.noPxStyle(d3.select(".tabular-header"),"height")+w.mastHeight()+28,h=g.windowSize(l),r=h.height}function i(){n(),c=D.create(u,{width:h.width,margin:0,hideMargin:0,scope:f,keyBindings:C,nameChangeRequest:$}),D.setResponse(p,H),f.hidePanel=function(){c.hide()}}"safari"===e.onos.browser?s(i):i(),d.keyBindings(C),d.gestureNotes([["click","Select a row to show device details"],["scroll down","See more devices"]]),e.$watch("panelData",function(){g.isEmptyObject(e.panelData)||(P(e.panelData),c.show())}),t=o.$watchCollection(function(){return{h:a.innerHeight,w:a.innerWidth}},function(){g.isEmptyObject(e.panelData)||(n(),P(e.panelData))}),e.$on("$destroy",function(){t(),d.unbindKeys(),S.destroyPanel(u)})}}])}();
!function(){"use strict";var d,l,u,s,p,f,v,g="remove-intent-dialog",b={edge:"right"};function y(e,t){l.debug("Got a click on:",t);var n=/(\d+)\s:\s(.*)/.exec(t.appId),i=n?n[1]:null,a=n?n[2]:null;u.intentData=u.selId&&n?{appId:i,appName:a,key:t.key,intentType:t.type}:null,u.intentState=t.state,o(!1)}function h(){u.fired&&(u.changedData&&(u.intentState=u.changedData.state),u.fired=!1)}function o(e){d.style("display",e?"block":"none")}function w(){var e,t,n,i=u.intentData;i&&(1===(t=(e=p.overlaysAcceptingIntents(i.intentType)).length)?a(e[0]):1<t?(n=e,d.text(null),n.forEach(function(t){var e=d.append("div");e.classed("overlay-choice",!0),e.text(t.tt),e.on("click",function(){var e;e=t,o(!1),a(e)})}),o(!0)):l.warn("Sorry - no overlay configured to show","intents of type",i.intentType));function a(e){i.overlayId=e.id,s.navTo("topo",i)}}angular.module("ovIntent",[]).controller("OvIntentCtrl",["$log","$scope","TableBuilderService","NavService","TopoOverlayService","TopoTrafficService","DialogService",function(e,t,n,i,a,o,r){function c(t){var e=v.createDiv(),n="purge"===t;u.intentData.intentPurge=n,e.append("p").text("Are you sure you want to "+t+" the selected intent?"),v.openDialog(g,b).setTitle("Confirm Action").addContent(e).addOk(function(){var e=u.intentData;l.debug(e),e&&("resubmit"===t?f.resubmitIntent(e):f.removeIntent(e)),u.fired=!0}).addCancel(function(){v.closeDialog(),l.debug("Canceling remove-intent action")}).bindKeys()}l=e,s=i,p=a,f=o,v=r,(u=t).topoTip="Show selected intent on topology view",u.resubmitTip="Resubmit selected intent",u.deactivateTip="Remove selected intent",u.purgeTip="Purge selected intent",u.purgeAllTip="Purge withdrawn intents",u.briefTip="Switch to brief view",u.detailTip="Switch to detailed view",u.brief=!0,u.intentState="NA",u.fired=!1,d=d3.select("div.show-intent-btn .dropdown"),u.showIntent=w,u.canShowIntent=function(){var e=u.intentData;return e&&0<p.overlaysAcceptingIntents(e.intentType).length},n.buildTable({scope:u,tag:"intent",selCb:y,respCb:h,idKey:"key"}),u.isIntentInstalled=function(){return"Installed"===u.intentState},u.isIntentWithdrawn=function(){return"Withdrawn"===u.intentState},u.isHavingWithdrawn=function(){var t=!1;return u.tableData.forEach(function(e){"Withdrawn"===e.state&&(t=!0)}),t},u.deactivateIntent=function(){c("withdraw")},u.resubmitIntent=function(){c("resubmit")},u.purgeIntent=function(){c("purge")},u.briefToggle=function(){u.brief=!u.brief},u.$on("$destroy",function(){v.closeDialog(),l.debug("OvIntentCtrl has been destroyed")}),u.purgeIntents=function(){var e;(e=v.createDiv()).append("p").text("Are you sure you want to purge all the withdrawn intents?"),v.openDialog(g,b).setTitle("Confirm Action").addContent(e).addOk(function(){f.removeIntents(),u.fired=!0}).addCancel(function(){v.closeDialog(),l.debug("Canceling remove-intents action")}).bindKeys()},l.debug("OvIntentCtrl has been created")}])}();
!function(){"use strict";angular.module("ovLink",[]).controller("OvLinkCtrl",["$log","$scope","$sce","FnService","TableBuilderService",function(t,e,a,i,n){n.buildTable({scope:e,tag:"link"}),e.$watch("tableData",function(){i.isEmptyObject(e.tableData)||e.tableData.forEach(function(t){t.direction=a.trustAsHtml(t.direction)})}),t.log("OvLinkCtrl has been created")}])}();
!function(){"use strict";var h,f,w,b,y,S,g,m,D,I,c,s,l,p,u="meter-details-panel",v="meterDetailsResponse",$={esc:[t,"Close the details panel"],_helpFormat:["esc"]};function t(){return!!c.isVisible()&&(f.selId=null,c.hide(),!0)}function i(e,t){var i;I.loadEmbeddedIcon(D.select(".iconDiv"),t._iconid_type,40),D.top().select("h2").text(t.devId+" Meter "+t.id),D.addPropsList(e,(i=t,h.debug(i),{ID:i.id,Device:i.devId,"App Id":i.app_id,Bytes:i.bytes,Burst:i.isBurst,Packets:i.packets,State:i.state}))}function P(e){!function(){D.empty(),D.addContainers(),D.addCloseButton(t);var e=D.top();D.addHeading("port-icon"),e.append("div").classed("top-content",!0),e.append("hr")}(),i(D.select(".top-content"),e),c.height(l),c.width(480)}function B(e){f.panelData=e.details,e.meter,f.$apply()}angular.module("ovMeter",[]).controller("OvMeterCtrl",["$log","$scope","$location","$sce","FnService","TableBuilderService","NavService","PrefsService","MastService","WebSocketService","DetailsPanelService","IconService","PanelService",function(e,t,i,n,o,a,r,d,c,s,l,p,u){var v;h=e,w=i,b=a,m=r,y=y=o,S=c,g=s,D=l,I=p,(f=t).deviceTip="Show device table",f.flowTip="Show flow view for this device",f.portTip="Show port view for this device",f.groupTip="Show group view for this device",f.pipeconfTip="Show pipeconf view for selected device",(v=w.search()).hasOwnProperty("devId")&&(f.devId=v.devId),b.buildTable({scope:f,tag:"meter",query:v,selCb:function(e,t){f.selId?g.sendEvent("meterDetailsRequest",{id:t.id,devId:f.devId}):f.hidePanel(),h.debug("Got a click on:",t)}}),f.$watch("tableData",function(){y.isEmptyObject(f.tableData)||f.tableData.forEach(function(e){e.bands=n.trustAsHtml(e.bands)})}),f.nav=function(e){f.devId&&m.navTo(e,{devId:f.devId})},Object.defineProperty(f,"queryFilter",{get:function(){var e={};return e[f.queryBy||"$"]=f.query,e}}),f.$on("$destroy",function(){D.destroy()}),h.log("OvMeterCtrl has been created")}]).directive("meterDetailsPanel",["$rootScope","$window","$timeout","KeyService",function(o,a,r,d){return function(e){var t;function i(){s=y.noPxStyle(d3.select(".tabular-header"),"height")+S.mastHeight()+28,p=y.windowSize(s),l=p.height}function n(){i(),c=D.create(u,{width:p.width,margin:0,hideMargin:0,scope:f,keyBindings:$}),D.setResponse(v,B),f.hidePanel=function(){c.hide()}}"safari"===e.onos.browser?r(n):n(),d.keyBindings($),d.gestureNotes([["click","Select a row to show port details"],["scroll down","See more ports"]]),e.$watch("panelData",function(){y.isEmptyObject(e.panelData)||(P(e.panelData),c.show())}),t=o.$watchCollection(function(){return{h:a.innerHeight,w:a.innerWidth}},function(){y.isEmptyObject(e.panelData)||(i(),P(e.panelData))}),e.$on("$destroy",function(){t(),d.unbindKeys(),(void 0).destroyPanel(u)})}}])}();
!function(){"use strict";angular.module("ovPartition",[]).controller("OvPartitionCtrl",["$log","$scope","$sce","FnService","TableBuilderService",function(e,t,i,o,r){r.buildTable({scope:t,tag:"partition"}),e.log("OvPartitionCtrl has been created")}])}();
!function(){"use strict";var f,v,m,b,w,y,g,S,I,x,$,T,C,P,e,t,o,d,a="pipeconf",D="devId",n=28,c="pipeconf-detail-panel",s=600,p=111,r={esc:[h,"Close the details panel"],_helpFormat:["esc"]};function M(){if(v.autoRefresh&&S.isConnected()&&!I.waiting()){I.start();var e={devId:v.devId};S.sendEvent("pipeconfRequest",e)}}function N(e){I.stop(),e.hasOwnProperty(a)?(v.pipeconf=e[a],v.pipelineModel=e.pipelineModel,v.$apply()):v.pipeconf=null}function H(e){I.stop(),v.pipeconf=null,v.pipelineModel=null,v.$apply()}function E(){S.unbindHandlers(C),b.cancel(P),P=null,I.stop()}function F(e,t){if(null===v.selectedId||"header"!==v.selectedId.type||v.selectedId.name!==t.name){v.selectedId={type:"header",name:t.name};var a=[{label:"Header Type: ",value:t.type.name},{label:"Is metadata: ",value:t.isMetadata},{label:"Index: ",value:t.index}],n=[{title:"Fields",headers:["Name","Bit width"],data:t.type.fields,noDataText:"No header fields"}];i(t.name,a,n)}else h()}function O(e,t){if(null===v.selectedId||"action"!==v.selectedId.type||v.selectedId.name!==t.name){v.selectedId={type:"action",name:t.name};var a=[{title:"Parameters",headers:["Name","Bit width"],data:t.params,noDataText:"No action parameters"}];i(t.name,[],a)}else h()}function R(e,t){if(null===v.selectedId||"table"!==v.selectedId.type||v.selectedId.name!==t.name){v.selectedId={type:"table",name:t.name};var a=[{label:"Max Size: ",value:t.maxSize},{label:"Has counters: ",value:t.hasCounters},{label:"Support Aging: ",value:t.supportAging}],n=[{title:"Match fields",headers:["Name","Bit width","Match type"],data:t.matchFields.map(function(e){return{name:e.field,bitWidth:e.bitWidth,matchType:e.matchType}}),noDataText:"No match fields"},{title:"Actions",headers:["Name"],data:t.actions,noDataText:"No actions"}];i(t.name,a,n)}else h()}function h(){return!!d.isVisible()&&(d.hide(),w(function(){v.selectedId=null},0),!0)}function u(t,e){e.forEach(function(e){!function(e,t){var a=t.title,n=t.data,i=t.headers,l=t.noDataText;e.append("h2").classed("detail-panel-bottom-title",!0).text(a);var o=e.append("table").classed("detail-panel-table",!0),d=o.append("tr").classed("detail-panel-table-header",!0);i.forEach(function(e){d.append("th").text(e)}),0===n.length&&o.append("tr").classed("detail-panel-table-row",!0).append("td").classed("detail-panel-table-col no-data",!0).attr("colspan",i.length).text(l),n.forEach(function(t){var a=o.append("tr").classed("detail-panel-table-row",!0);y.isS(t)?a.append("td").classed("detail-panel-table-col",!0).text(t):Object.keys(t).forEach(function(e){a.append("td").classed("detail-panel-table-col",!0).text(t[e])})}),e.append("hr")}(t,e)})}function i(e,t,a){T.empty(),T.addContainers(),T.addCloseButton(h);var n=T.top();n.append("h2").classed("detail-panel-header",!0).text(e),t.forEach(function(e){var t=n.append("div").classed("top-info",!0);t.append("p").classed("label",!0).text(e.label),t.append("p").classed("value",!0).text(e.value)});var i=T.bottom(),l=o-p-60;i.style("height",l+"px"),u(i,a),d.width(s),d.show(),z()}function B(){e=y.noPxStyle(d3.select(".tabular-header"),"height")+$.mastHeight()+n,t=y.windowSize(e),o=t.height-20}function z(){if(d.isVisible()){B();var e=o-p-60;d3.select(".bottom").style("height",e+"px"),d.height(o)}}angular.module("ovPipeconf",[]).controller("OvPipeconfCtrl",["$log","$scope","$location","$interval","$timeout","FnService","NavService","WebSocketService","LoadingService","PanelService","MastService","IconService","DetailsPanelService",function(e,t,a,n,i,l,o,d,c,s,p,r,h){f=e,m=a,b=n,w=i,y=l,g=o,S=d,I=c,x=s,$=p,T=h,(v=t).deviceTip="Show device table",v.flowTip="Show flow view for this device",v.portTip="Show port view for this device",v.groupTip="Show group view for this device",v.meterTip="Show meter view for selected device",v.pipeconfTip="Show pipeconf view for selected device";var u=m.search();u.hasOwnProperty(D)&&(v.devId=u[D]),v.nav=function(e){v.devId&&g.navTo(e,{devId:v.devId})},C={pipeConfResponse:N,noPipeconfResp:H,invalidDevId:H},S.bindHandlers(C),v.$on("$destroy",E),v.autoRefresh=!0,M(),v.selectedId=null,v.headerSelectCb=F,v.actionSelectCb=O,v.tableSelectCb=R,v.collapsePipeconf=!1,v.collapseHeaders=!1,v.collapseActions=!1,v.collapseTables=!1,v.mapToNames=function(e){return e.map(function(e){return e.name})},v.matMatchFields=function(e){return e.map(function(e){return e.field})},P=b(function(){M()},5e3),f.log("OvPipeconfCtrl has been created")}]).directive("autoHeight",["$window","FnService",function(n,i){return function(e,t){var a=d3.select(t[0]);e.$watchCollection(function(){return{h:n.innerHeight}},function(){var e=i.windowSize(140,0);a.style("height",e.height+"px")})}}]).directive("pipeconfViewDetailPanel",["$rootScope","$window","$timeout","KeyService",function(a,n,i,l){function o(){B(),d=T.create(c,{width:t.width,margin:0,hideMargin:0,scope:v,keyBindings:r,nameChangeRequest:null}),v.hidePanel=function(){d.hide()},d.hide()}return function(e){var t;"safari"===e.onos.browser?i(o):o(),e.$watch("panelData",function(){y.isEmptyObject(e.panelData)||d.show()}),t=a.$watchCollection(function(){return{h:n.innerHeight,w:n.innerWidth}},function(){z()}),e.$on("$destroy",function(){t(),l.unbindKeys(),x.destroyPanel(c)})}}])}();
!function(){"use strict";var h,g,w,y,S,D,I,P,b,m,T,l,c,d,p,t="nzFilter",n="showDelta",$=!0,F=!1,u="port-details-panel",f="portDetailsResponse",v={esc:[i,"Close the details panel"],_helpFormat:["esc"]};function i(){return!!l.isVisible()&&(g.selId=null,l.hide(),!0)}var z={nzFilter:1,showDelta:0},B={};function o(e,t){B[e]=t?1:0,P.setPrefs("port_prefs",B)}function C(e){o(t,$=void 0===e?!$:e)}function k(e){F=void 0===e?!F:e,o(n,e)}function q(e){var t,n,o;!function(){b.empty(),b.addContainers(),b.addCloseButton(i);var e=b.top();b.addHeading("port-icon"),e.append("div").classed("top-content",!0),e.append("hr")}(),t=b.select(".top-content"),n=e,m.loadEmbeddedIcon(b.select(".iconDiv"),n._iconid_type,40),b.top().select("h2").text(n.devId+" port "+n.id),b.addPropsList(t,{ID:(o=n).id,Device:o.devId,Type:o.type,Speed:o.speed,Enabled:o.enabled}),l.height(d),l.width(480)}function N(e){g.panelData=e.details,e.port,g.$apply()}angular.module("ovPort",[]).controller("OvPortCtrl",["$log","$scope","$location","TableBuilderService","FnService","MastService","WebSocketService","NavService","PrefsService","DetailsPanelService","IconService","PanelService",function(e,t,n,o,i,r,a,s,l,c,d,p){var u,f;function v(){return{nzFilter:$,showDelta:F}}h=e,g=t,w=o,y=i,S=r,D=a,I=s,P=l,b=c,m=d,T=p,u=n.search(),g.deviceTip="Show device table",g.flowTip="Show flow view for this device",g.groupTip="Show group view for this device",g.meterTip="Show meter view for selected device",g.pipeconfTip="Show pipeconf view for selected device",g.toggleDeltaTip="Toggle port delta statistics",g.toggleNZTip="Toggle non zero port statistics",u.hasOwnProperty("devId")&&(g.devId=u.devId),g.payloadParams={nzFilter:$,showDelta:F},f=w.buildTable({scope:g,tag:"port",query:u,selCb:function(e,t){g.selId?D.sendEvent("portDetailsRequest",{id:t.id,devId:g.devId}):g.hidePanel(),h.debug("Got a click on:",t)}}),g.nav=function(e){g.devId&&I.navTo(e,{devId:g.devId})},g.toggleNZ=function(){C(),g.payloadParams=v(),f.forceRefesh()},g.toggleDelta=function(){k(),g.payloadParams=v(),f.forceRefesh()},g.isDelta=function(){return F},g.isNZ=function(){return $},g.customFilter=function(e,t){if(t){var n=function(e){var t=e.split(" "),n=null;if(">"===t[0])n=_.gt;else if(">="===t[0])n=_.gte;else if("<"===t[0])n=_.lt;else{if("<="!==t[0])return{operator:n,searchText:e};n=_.lte}return{operator:n,searchText:t[1]}}(t),r=n.operator,a=n.searchText;if(r)return function(e){if("$"!==(g.queryBy||"$")){var t=parseInt(e[g.queryBy].replace(/,/g,""));return r(t,parseInt(a))?e:null}for(var n=_.keysIn(e),o=0,i=n.length;o<i;o++){t=parseInt(e[n[o]].replace(/,/g,""));if(r(t,parseInt(a)))return e}};var o={};return o[g.queryBy||"$"]=g.query,o}},B=P.asNumbers(P.getPrefs("port_prefs",z)),h.debug("Port - Prefs State:",B),k(B.showDelta),C(B.nzFilter),g.$on("$destroy",function(){b.destroy()}),h.log("OvPortCtrl has been created")}]).directive("portDetailsPanel",["$rootScope","$window","$timeout","KeyService",function(i,r,a,s){return function(e){var t;function n(){c=y.noPxStyle(d3.select(".tabular-header"),"height")+S.mastHeight()+28,p=y.windowSize(c),d=p.height}function o(){n(),l=b.create(u,{width:p.width,margin:0,hideMargin:0,scope:g,keyBindings:v}),b.setResponse(f,N),g.hidePanel=function(){l.hide()}}"safari"===e.onos.browser?a(o):o(),s.keyBindings(v),s.gestureNotes([["click","Select a row to show port details"],["scroll down","See more ports"]]),e.$watch("panelData",function(){y.isEmptyObject(e.panelData)||(q(e.panelData),l.show())}),t=i.$watchCollection(function(){return{h:r.innerHeight,w:r.innerWidth}},function(){y.isEmptyObject(e.panelData)||(n(),q(e.panelData))}),e.$on("$destroy",function(){t(),s.unbindKeys(),T.destroyPanel(u)})}}])}();
!function(){"use strict";var t,l,n,u,v;angular.module("ovProcessor",[]).controller("OvProcessorCtrl",["$log","$scope","$location","TableBuilderService","NavService",function(e,r,o,c,s){var a;t=e,n=o,u=c,v=s,(l=r).requestTip="Show packet requests",a=n.search(),u.buildTable({scope:l,tag:"processor",query:a}),l.nav=function(e){l.devId&&v.navTo(e)},t.log("OvProcessorCtrl has been created")}])}();
!function(){"use strict";var a,c,r,d,p,u,g,h,s,f,v,b=!1,y="settings-details-panel",l=540,e=["fqComponent","prop","type","value","defValue","desc"],w=["Component","Property","Type","Value","Default","Description"];function S(){return!!g.isVisible()&&(c.selId=null,h=null,g.hide(),!0)}function t(){var e,t,i,n;function o(e,t){var n=i.append("div").classed(e,!0);t&&n.append("table")}g.empty(),g.width(l),e=g.append("div").classed("container",!0),t=(s=e.append("div").classed("top",!0)).append("div").classed("close-btn",!0),n=t,u.loadEmbeddedIcon(n,"close",20),n.on("click",S),i=s.append("div").classed("top-content",!0),o("settings-title-1"),o("settings-title-2"),o("settings-props",!0)}function n(c){var a=s.select(".settings-props table").append("tbody");s.select(".settings-title-1").text(c.component),s.select(".settings-title-2").text(c.prop),e.forEach(function(e,t){function n(e,t){l.append("td").attr("class",e).text(t)}var i,o,s,l;i=a,o=t,s=c[e],l=i.append("tr"),n("label",w[o]+":"),n("value",s)})}function m(){t(),n(h),g.height(v)}angular.module("ovSettings",[]).controller("OvSettingsCtrl",["$log","$scope","FnService","KeyService","PanelService","IconService","TableBuilderService",function(e,t,n,i,o,s,l){a=e,r=n,d=i,p=o,u=s,(c=t).panelData={},l.buildTable({scope:c,tag:"setting",selCb:function(e,t){c.selId?(h=t,m(),g.show()):(h=null,g.hide())}}),d.keyBindings({esc:[c.selectCallback,"Deselect property"],_helpFormat:["esc"]}),d.gestureNotes([["click row","Select / deselect settings property"],["scroll down","See more settings"]]),c.$on("$destroy",function(){d.unbindKeys()}),a.log("OvSettingsCtrl has been created")}]).directive("settingsDetailsPanel",["$rootScope","$window","$timeout","KeyService",function(o,s,l,c){return function(e){var t;function n(){f=r.noPxStyle(d3.select(".tabular-header"),"height")+60,b=r.windowSize(f),v=b.height}function i(){n(),(g=p.createPanel(y,{width:b.width,margin:0,hideMargin:0})).el().style({position:"absolute",top:f+"px"}),g.hide(),a.debug("start to initialize panel!")}"safari"===e.onos.browser?l(i):i(),c.keyBindings({esc:[S,"Close the details panel"],_helpFormat:["esc"]}),c.gestureNotes([["click","Select a row to show property details"],["scroll down","See more properties"]]),t=o.$watchCollection(function(){return{h:s.innerHeight,w:s.innerWidth}},function(){h&&(n(),m())}),e.$on("$destroy",function(){h=null,t(),c.unbindKeys(),p.destroyPanel(y)})}}])}();
!function(){"use strict";var C,H,G,$,j,K,Z,V,W,X,J,Y,Q,ee,te,oe,ne,re,ie,ae,se,ce,ue,le,pe,fe,de,ge,_e,me,ve,he,s,be,ye,Se,ke,a,Te=function(e){return"#"+e+"#"};function Le(e){var r,i;a={I:[Pe,function(){return Te("tbtt_tog_instances")}],O:[De,function(){return Te("tbtt_tog_summary")}],D:[Me,function(){return Te("tbtt_tog_use_detail")}],H:[we,function(){return Te("tbtt_tog_host")}],M:[Ie,function(){return Te("tbtt_tog_offline")}],P:[Oe,function(){return Te("tbtt_tog_porthi")}],dash:[re.showBadLinks,function(){return Te("tbtt_bad_links")}],B:[Be,function(){return Te("tbtt_tog_map")}],G:[o,function(){return Te("tbtt_sel_map")}],S:[Fe,function(){return Te("tbtt_tog_sprite")}],X:[re.resetAllLocations,function(){return Te("tbtt_reset_loc")}],Z:[le.toggleOblique,function(){return Te("tbtt_tog_oblique")}],N:[pe.clickAction,function(){return Te("tbtt_cyc_layers")}],L:[re.cycleDeviceLabels,function(){return Te("tbtt_cyc_dev_labs")}],"shift-L":[re.cycleHostLabels,function(){return Te("tbtt_cyc_host_labs")}],U:[re.unpin,function(){return Te("tbtt_unpin_node")}],R:[n,function(){return Te("tbtt_reset_zoom")}],dot:[fe.toggleToolbar,function(){return Te("tbtt_tog_toolbar")}],E:[c,function(){return Te("tbtt_eq_master")}],F1:function(){fe.fnkey(0)},F2:function(){fe.fnkey(1)},F3:function(){fe.fnkey(2)},F4:function(){fe.fnkey(3)},F5:function(){fe.fnkey(4)},esc:u,_keyListener:fe.keyListener,_helpFormat:[["I","O","D","H","M","P","dash","B","G","S"],["X","Z","N","L","shift-L","U","R","-","E","-","dot"],[]]},j.isO(e)&&(r=e,i=a._helpFormat[2],K.checkNotGlobal(r),r._keyOrder.forEach(function(e){var t=r[e],o=t&&t.cb,n=t&&t.tt;t&&!a[e]&&(a[e]=[o,n],i.push(e))})),K.keyBindings(a),K.gestureNotes([[function(){return Te("click")},function(){return Te("qh_gest_click")}],[function(){return Te("shift_click")},function(){return Te("qh_gest_shift_click")}],[function(){return Te("drag")},function(){return Te("qh_gest_drag")}],[function(){return Te("cmd_scroll")},function(){return Te("qh_gest_cmd_scroll")}],[function(){return Te("cmd_drag")},function(){return Te("qh_gest_cmd_drag")}]])}function Pe(e){g("insts",ae.toggle(e)),re.updateDeviceColors()}function De(e){g("summary",ie.toggleSummary(e))}function Me(e){g("detail",ie.toggleUseDetailsFlag(e))}function we(e){g("hosts",re.toggleHosts(e))}function Ie(e){g("offdev",re.toggleOffline(e))}function Oe(e){g("porthl",re.togglePorts(e))}function t(e,t,o,n){var r="keyev"===e?!X.visible(t):!!e,i=Te(r?"show":"hide");X.visible(t,r),g(o,r),J.flash(i+" "+n)}function Be(e){t(e,s,"bg",Te("fl_background_map"))}function o(){se.openMapSelection()}function Fe(e){t(e,be,"spr",Te("fl_sprite_layer"))}function n(){ke.reset(),J.flash(Te("fl_pan_zoom_reset"))}function c(){Y.sendEvent("equalizeMasters"),J.flash(Te("fl_eq_masters"))}function u(){ae.showMaster()?ae.cancelAffinity():ge.hooks.escape()||ce.deselectAll()||ue.deselectAllLinks()||(ae.isVisible()?(ae.hide(),re.updateDeviceColors()):ie.summaryVisible()&&ie.hideSummary())}function r(e){H.warn("topo.js getActionEntry(): Not a valid "+e)}function xe(e){var t;return e?(t=a[e])?j.isA(t)||[t,""]:(r("actionMap entry"),null):(r("key"),null)}function ze(e){return j.isMobile()||e.metaKey||e.altKey}function Ae(){var e=ke.scale(),t=ke.translate();Q.setPrefs("topo_zoom",{tx:t[0],ty:t[1],sc:e}),s.style("stroke-width",2/e+"px"),re.setNodeScale(e)}function Ne(e){var t=e.node().getBBox();t.x-=t.width/2,t.y-=t.height/2,e.attr("transform",X.translate(t.x,t.y))}function qe(e){X.visible(Se,e)}var l={s_america:function(e){return"South America"===e.properties.continent},ns_america:function(e){return"US-cont"===e.properties.custom||"Central America"===e.properties.subregion||"South America"===e.properties.continent},japan:function(e){return"Japan"===e.properties.geounit},europe:function(e){return"Europe"===e.properties.continent},italy:function(e){return"Italy"===e.properties.geounit},uk:function(e){return"GBR"===e.properties.adm0_a3||"IRL"===e.properties.adm0_a3},s_korea:function(e){return"KOR"===e.properties.adm0_a3},australia:function(e){return"AUS"===e.properties.adm0_a3}},p=0,e=0,i={light:{sea:"aliceblue",land:"white",outline:"#ddd"},dark:{sea:"#001830",land:"#232331",outline:"#3a3a3a"}};function f(){return p?{palette:i[ee.theme()],flip:e}:""}function Re(e){Q.setPrefs("topo_mapid",e),Ee(),He(!0)}function Ue(){return Q.getPrefs("topo_mapid",{mapid:"usa",mapscale:1,mapfilepath:"*continental_us",tint:"off"},G.search())}function Ee(){var e,t,o=Ue(),n=o.mapid,r=o.mapfilepath,i=o.mapscale,a=o.tint;return p="on"===a?1:0,H.debug("setUpMap() mapId:",n,", mapScale:",i,", tint:",a),(s=d3.select("#topo-map")).empty()?s=he.append("g").attr("id","topo-map"):s.each(function(e,t){d3.selectAll(this.childNodes).remove()}),e="*countries"===r?(t=l[n]||l.uk,W.loadMapRegionInto(s,{countryFilter:t,adjustScale:i,shading:f()})):W.loadMapInto(s,r,n,{adjustScale:i,shading:f()}),Q.setPrefs("topo_mapid",o),e}function d(){H.debug("... Re-shading map ..."),W.reshade(f())}function Ce(e){e?ee.addListener(d):ee.removeListener(d)}function He(e){s.transition().duration(1e3).attr("opacity",e?1:0)}var Ge={};function g(e,t){Ge[e]=t?1:0,Q.setPrefs("topo_prefs",Ge)}function $e(e){}function je(){$(function(){H.debug("^^ topo.topoStartDone() ^^"),ce.reselect(),C.intentData&&ge.hooks.showIntent(C.intentData)},200)}angular.module("ovTopo",["ngCookies","onosUtil","onosSvg","onosRemote"]).controller("OvTopoCtrl",["$scope","$log","$location","$timeout","$cookies","FnService","MastService","KeyService","ZoomService","GlyphService","MapService","SvgUtilService","FlashService","WebSocketService","PrefsService","ThemeService","TopoDialogService","TopoD3Service","TopoEventService","TopoForceService","TopoPanelService","TopoInstService","TopoSelectService","TopoLinkService","TopoTrafficService","TopoObliqueService","TopoFilterService","TopoToolbarService","TopoMapService","TopoSpriteService","TooltipService","TopoOverlayService","LionService",function(e,t,o,n,r,i,a,s,c,u,l,p,f,d,g,_,m,v,h,b,y,S,k,T,L,P,D,M,w,I,O,B,F){var x,z,A,N,q,R=o.search(),U=R.overlayId,E={showNoDevs:qe,projection:function(){return x},zoomLayer:function(){return he},zoomer:function(){return ke},opacifyMap:He,topoStartDone:je};C=e,H=t,G=o,$=n,j=i,K=s,Z=c,V=u,W=l,X=p,J=f,Y=d,Q=g,ee=_,te=m,oe=v,ne=h,re=b,ie=y,ae=S,ue=T,le=P,pe=D,fe=M,de=I,ge=B,ce=k,(se=w).start({toggleMap:Be,currentMap:Ue,setMap:Re}),R.key&&R.appId&&R.appName&&(C.intentData={key:R.key,appId:R.appId,appName:R.appName,intentType:R.intentType}),C.notifyResize=function(){var e;e=j.windowSize(a.mastHeight()),re.newDim([e.width,e.height])},C.$on("$destroy",function(){H.log("OvTopoCtrl is saying Buh-Bye!"),ne.stop(),se.stop(),K.unbindKeys(),ie.destroyPanels(),te.closeDialog(),ae.destroyInst(),re.destroyForce(),fe.destroyToolbar(),Ce(!1)}),_e=d3.select("#ov-topo"),(me=_e.select("svg")).attr(j.windowSize(a.mastHeight())),z=[me.attr("width"),me.attr("height")],Q.addListener($e),Le(),fe.init({getActionEntry:xe,setUpKeys:Le}),fe.createToolbar(),ve=me.append("defs"),V.loadDefs(ve),X.loadGlowDefs(ve),he=me.append("g").attr("id","topo-zoomlayer"),ke=Z.createZoomer({svg:me,zoomLayer:he,zoomEnabled:ze,zoomCallback:Ae}),A=(Se=me.append("g").attr({id:"topo-noDevsLayer",transform:X.translate(500,500)})).append("g"),V.addGlyph(A,"bird",100).attr("class","noDevsBird"),A.append("text").text("").attr({x:120,y:80}),Ne(A),qe(!0),Ee().then(function(e){var t,o=Q.getPrefs("topo_zoom",{tx:0,ty:0,sc:1});ke.panZoom([o.tx,o.ty],o.sc),H.debug("** Zoom restored:",o),x=e,H.debug("** We installed the projection:",e),J.enable(!1),Be(Ge.bg),J.enable(!0),Ce(!0),C.lion=F.bundle("core.view.Topo"),Te=C.lion,H.debug("Loaded Topo LION Bundle:",Te),(t=d3.select("#topo-noDevsLayer g")).select("text").text(Te("no_devices_are_connected")),Ne(t),re.setLionBundle(Te),ae.setLionBundle(Te),se.setLionBundle(Te),ie.setLionBundle(Te),fe.setLionBundle(Te),ne.start(),Ge=Q.asNumbers(Q.getPrefs("topo_prefs",fe.defaultPrefs),["ovid"],!0),H.debug("TOPO- Prefs SUMMARY State:",Ge.summary),J.enable(!1),De(Ge.summary),J.enable(!0)}),ne.bindHandlers(),N=Q.getPrefs("topo_sprites",{sprites:""},G.search()),q=N.sprites,be=he.append("g").attr("id","topo-sprites"),q&&(Q.setPrefs("topo_sprites",N),de.loadSprites(be,ve,q)),ye=he.append("g").attr("id","topo-force"),re.initForce(me,ye,E,z),ae.initInst({showMastership:re.showMastership}),ie.initPanels(),Ge=Q.asNumbers(Q.getPrefs("topo_prefs",fe.defaultPrefs),["ovid"],!0),H.debug("TOPO- Prefs State:",Ge),J.enable(!1),Pe(Ge.insts),De(Ge.summary),Me(Ge.detail),we(Ge.hosts),Ie(Ge.offdev),Oe(Ge.porthl),Be(Ge.bg),Fe(Ge.spr),fe.setToolbar(Ge.toolbar),oe.setDevLabIndex(Ge.dlbls),oe.setHostLabIndex(Ge.hlbls),J.enable(!0),fe.selectOverlay(U||Ge.ovid),H.debug("registered overlays...",ge.list()),H.log("OvTopoCtrl has been created")}])}();
!function(){"use strict";var c,d,o,l,i,s,f,e=function(t){return"#tfs#"+t+"#"},u=36,p=4,y={radius:12,yoff:5,gdelta:10},x=u/2,h={dx:-x,dy:-x},a={dx:-14,dy:-14},v={i:"badgeInfo",w:"badgeWarn",e:"badgeError"},b={virtual:"cord",switch:"m_switch",roadm:"m_roadm",otn:"m_otn",roadm_otn:"m_roadm_otn",fiber_switch:"m_fiberSwitch",microwave:"m_microwave"},m={router:"m_router",endstation:"m_endstation",bgpSpeaker:"m_bgpSpeaker"};var n=0,r=0,_={light:{online:"#444444",offline:"#cccccc"},dark:{online:"#444444",offline:"#cccccc"}};function g(t){var e,n,r,a;t.el.selectAll("rect").filter(function(t,e){return 1===e}).style("fill",(n=(e=t).online,r=e.master,a=n?"online":"offline",n?c.cat7().getColor(r,0,o.theme()):_[o.theme()][a]))}function k(){switch(L(n+1),n){case 0:return e("fl_device_labels_hide");case 1:return e("fl_device_labels_show_friendly");case 2:return e("fl_device_labels_show_id")}}function L(t){n=t%3;var e=l.getPrefs("topo_prefs",i.defaultPrefs);e.dlbls=n,l.setPrefs("topo_prefs",e)}function w(){switch(S(r+1),r){case 0:return e("fl_host_labels_show_friendly");case 1:return e("fl_host_labels_show_ip");case 2:return e("fl_host_labels_show_mac");case 3:return e("fl_host_labels_hide")}}function S(t){r=t%4;var e=l.getPrefs("topo_prefs",i.defaultPrefs);e.hlbls=r,l.setPrefs("topo_prefs",e)}function C(t){var e=r<t.labels.length?r:0;return t.labels[e]}function E(t){var e=n<t.labels.length?n:0;return t.labels[e]}function D(t){return t&&t.trim()||""}function H(t){return t.select("text").node().getBBox().width+2*p}function I(t,e){return{x:-t/2,y:-t/2,width:t+e,height:t}}function P(t){var e,n=t.el,r=t.badge,a=D(E(t));n.select("text").text(a),e=a?H(n):0,n.select("rect").transition().attr(I(u,e)),r&&A(n,r,h)}function A(t,e,n){var r,a=y.radius,l=y.gdelta;t.select("g.badge").remove(),(r=t.append("g").classed("badge",!0).classed(v[e.status]||v.i,!0).attr("transform",c.translate(n.dx,n.dy))).append("circle").attr("r",a),e.txt?r.append("text").attr("dy",y.yoff).attr("text-anchor","middle").text(e.txt):e.gid&&r.append("use").attr({width:2*l,height:2*l,transform:c.translate(-l,-l),"xlink:href":"#"+e.gid})}function T(t){var e=D(C(t));t.el.select("text").text(e)}function B(t){t?g(t):f.node().filter(".device").each(function(t){g(t)})}function M(t){t.el.classed("online",t.online),P(t),f.posNode(t,!0)}function N(t){var e,n,r;n=(e=t).el,r=e.badge,T(e),r&&A(n,r,a),f.posNode(t,!0)}function W(t){var e,n,r,a,l,i=d3.select(this),s=(l=t.type,b[l]||l||"unknown"),o=D(E(t));e=(t.el=i).append("rect"),n=i.append("rect"),i.append("text").text(o).attr("text-anchor","left").attr("y","0.3em").attr("x",x+p),r=d.addDeviceIcon(i,s,u),a=o?H(i):0,e.attr(I(u,a)),n.attr(I(32,0)),r.attr(I(u,0)),i.attr("transform",c.translate(-x,-x)),t.el.selectAll("*").style("transform","scale("+f.deviceScale()+")")}function q(t){var e,n=d3.select(this),r=(e=t.type,m[e]||e||"unknown");t.el=n,c.visible(n,f.showHosts()),d.addHostIcon(n,14,r),n.append("text").text(C).attr("dy",24).attr("text-anchor","middle"),t.el.selectAll("g").style("transform","scale("+f.deviceScale()+")"),t.el.selectAll("text").style("transform","scale("+f.deviceScale()+")")}function U(t){var e=t.el;e.select("use").style("opacity",.5).transition().duration(800).style("opacity",0),e.select("text").style("opacity",.5).transition().duration(800).style("opacity",0),e.select("circle").style("stroke-fill","#555").style("fill","#888").style("opacity",.5).transition().duration(1500).attr("r",0)}function j(t){var e=t.el;e.select("use").style("opacity",.5).transition().duration(800).style("opacity",0),e.selectAll("rect").style("stroke-fill","#555").style("fill","#888").style("opacity",.5)}function z(t){var e=d3.select(this);t.el=e,t.el.style("stroke-width",f.linkWidthScale()+"px"),f.restyleLinkElement(t),"hostLink"===t.type()&&c.visible(e,f.showHosts())}var F="0.3em";function G(){f.updateLinkLabelModel(),f.linkLabel().each(function(t){var e=d3.select(this),n=e.select("rect");e.select("text").text(t.label),n.attr(J(e))}),f.linkLabel().enter().append("g").classed("linkLabel",!0).attr("id",function(t){return t.id}).each(function(t){var e,n,r=d3.select(this);"hostLink"===t.ldata.type()&&(r.classed("hostLinkLabel",!0),c.visible(r,f.showHosts())),e=(t.el=r).append("rect"),n=r.append("text").text(t.label),e.attr(J(r)),n.attr("dy",F),r.attr("transform",O(t.ldata.position,t.key))}),f.linkLabel().exit().remove()}function J(t){var e=t.select("text").node().getBBox();return e.x=-e.width/2,e.y=-e.height/2,e.x-=1,e.width+=2,e}var t,K=(t=[],function(i,s,o){var c=-1;return t.forEach(function(t,e){var n,r,a,l;t.id!==i?(n=t.x-15,r=t.x+15,a=t.y-17,l=t.y+17,n<s&&s<r&&a<o&&o<l&&(s-=15,o-=17)):c=e}),-1===c?t.push({id:i,x:s,y:o}):t[c]={id:i,x:s,y:o},{x:s,y:o}});function O(t,e){var n=t.x2-t.x1,r=t.y2-t.y1,a=n/2+t.x1,l=r/2+t.y1;if(e){var i=K(e,a,l);return c.translate(i.x,i.y)}return c.translate(a,l)}function Q(t,e){var n=e.selectAll(".portLabel").data(t).enter().append("g").classed("portLabel",!0).attr("id",function(t){return t.id}),a=30/(30*s.scale());n.each(function(t){var e=d3.select(this),n=e.append("rect"),r=e.append("text").text(t.num);n.attr(J(e)).style("transform","scale("+a+")"),r.attr("dy",F).style("transform","scale("+a+")"),e.attr("transform",c.translate(t.x,t.y))})}function R(t){return{x:1/3*(t.x2-t.x1),y:1/3*(t.y2-t.y1)}}function V(t){var e=R(t);return c.translate(t.x1+e.x,t.y1+e.y)}function X(t){var e=t.x2-t.x1,n=t.y2-t.y1,r=Math.sqrt(e*e+n*n),a=e/r*12.5,l=n/r*12.5,i=R(t),s=Math.atan(n/e)+45;return{x1:i.x-a,y1:i.y-l,x2:i.x+a,y2:i.y+l,stroke:f.linkConfig()[o.theme()].baseColor,transform:"rotate("+s+","+i.x+","+i.y+")"}}function Y(t){var e=R(t);return{x:e.x+20,y:e.y+20}}function Z(t,e){var n=e.selectAll("g.numLinkLabel").data(t,function(t){return"pair-"+t.id});n.each(function(t){var e=d3.select(this);e.attr({transform:function(t){return V(t.linkCoords)}}),e.select("line").attr(X(t.linkCoords)),e.select("text").attr(Y(t.linkCoords)).text(t.num)}),n.enter().append("g").attr({transform:function(t){return V(t.linkCoords)},id:function(t){return"pair-"+t.id}}).classed("numLinkLabel",!0).each(function(t){var e=d3.select(this);e.append("line").classed("numLinkHash",!0).attr(X(t.linkCoords)),e.append("text").classed("numLinkText",!0).attr(Y(t.linkCoords)).text(t.num)}),n.exit().remove()}function $(t){e=t}angular.module("ovTopo").factory("TopoD3Service",["SvgUtilService","IconService","ThemeService","PrefsService","TopoToolbarService",function(t,e,n,r,a){return c=t,d=e,o=n,l=r,i=a,{initD3:function(t,e){f=t,s=e},destroyD3:function(){},incDevLabIndex:k,setDevLabIndex:L,incHostLabIndex:w,setHostLabIndex:S,hostLabel:C,deviceLabel:E,trimLabel:D,updateDeviceLabel:P,updateHostLabel:T,updateDeviceColors:B,deviceExisting:M,hostExisting:N,deviceEnter:W,hostEnter:q,hostExit:U,deviceExit:j,linkEntering:z,applyLinkLabels:G,transformLabel:O,applyPortLabels:Q,applyNumLinkLabels:Z,setLionBundle:$}}])}();
!function(){"use strict";var e={cssCls:"topo-p"};angular.module("ovTopo").factory("TopoDialogService",["DialogService",function(o){return{openDialog:function(){return o.openDialog("topo-p-dialog",e)},closeDialog:o.closeDialog,createDiv:o.createDiv}}])}();
!function(){"use strict";var a,p,c,v,u,S,l;function m(e,o){a.debug("TOPO: web socket open - cluster node:",e,"URL:",o),p.sendEvent("topoStart")}angular.module("ovTopo").factory("TopoEventService",["$log","WebSocketService","TopoPanelService","TopoInstService","TopoForceService","TopoSelectService","TopoOverlayService","TopoSpriteService",function(e,o,t,n,s,r,d,i){return a=e,p=o,S={showSummary:t,showDetails:r,showHighlights:d,addInstance:c=n,updateInstance:c,removeInstance:c,addDevice:v=s,updateDevice:v,removeDevice:v,addHost:v,updateHost:v,moveHost:v,removeHost:v,addLink:v,updateLink:v,removeLink:v,topoStartDone:v,spriteListResponse:u=i,spriteDataResponse:u},{bindHandlers:function(){p.bindHandlers(S),a.debug("topo event handlers bound")},start:function(){l=p.addOpenListener(m),p.sendEvent("topoStart"),a.debug("topo comms started")},stop:function(){p.sendEvent("topoStop"),p.unbindHandlers(S),p.removeOpenListener(l),l=null,a.debug("topo comms stopped")}}}])}();
!function(){"use strict";var n,o,t,e,i=function(t){return"#tfltr#"+t+"#"},c="suppressedmax",r={host:{endstation:"pkt",router:"pkt",bgpSpeaker:"pkt"},device:{switch:"pkt",router:"pkt",roadm:"opt",otn:"opt"},link:{hostLink:"pkt",direct:"pkt",indirect:"",tunnel:"",optical:"opt"}},a=[{type:"all",action:function(){f(!1)}},{type:"pkt",action:function(){k("pkt")}},{type:"opt",action:function(){k("opt")}}],l=0;function p(){l=(l+1)%a.length,a[l].action(),t=a[l].type,e="fl_layer_"+t,n.flash(i(e))}function u(){return a[l].type}function s(t,n){var e="link"===t.class?t.type():t.type,o=r[t.class];return(o&&o[e])===n}function f(t){o.node().classed(c,t),o.link().classed(c,t)}function k(t){var e;f(!0),e=t,o.node().each(function(t){var n=t.el;s(t,e)&&n.classed(c,!1)}),o.link().each(function(t){var n=t.el;s(t,e)&&n.classed(c,!1)})}function d(t){i=t}angular.module("ovTopo").factory("TopoFilterService",["FlashService",function(t){return n=t,{initFilter:function(t){o=t},clickAction:p,selected:u,inLayer:s,setLionBundle:d}}])}();
!function(){"use strict";var y,L,g,m,b,x,D,S,A,E,B,N,C,T,w,H,z,O,I,M,P,F,W,q,K,j,G,U,V,$,R,J,Q,X,Y,Z,t=function(e){return"#tfs#"+e+"#"},ee={light:{baseColor:"#939598",inColor:"#66f",outColor:"#f00"},dark:{baseColor:"#939598",inColor:"#66f",outColor:"#f00"},inWidth:12,outWidth:10},ne={nodes:[],links:[],linksByDevice:{},lookup:{},revLinkToKey:{}},te=!1,i=!0,ie=!1,oe=[],o=36,r=20,s=40,l=30,re={gravity:.4,friction:.7,charge:{device:-8e3,host:-5e3,_def_:-12e3},linkDistance:{direct:100,optical:120,hostLink:3,_def_:50},linkStrength:{_def_:1}};function c(e,n){angular.extend(e,n),n.location||delete e.location}function se(e){var n,t=e.id;z.showNoDevs(!1),W[t]?le(e):(n=E.createDeviceNode(e),ne.nodes.push(n),W[t]=n,Pe(),Ge())}function le(e){var n,t=e.id,i=W[t];i&&(n=i.online,c(i,e),E.positionNode(i,!0)&&me(i),Pe(),Ve(),n!==i.online&&(E.findAttachedLinks(i.id).forEach(Le),h(i)),Ge())}function ce(e){var n=e.id,t=W[n];t&&function(e){var n,t=e.id;E.findAttachedHosts(t).forEach(k),E.findAttachedLinks(t).forEach(ge),delete W[t],-1<(n=g.find(t,ne.nodes))&&ne.nodes.splice(n,1);ne.nodes.length||z.showNoDevs(!0);Pe(),je()}(t)}function ae(e){var n,t=e.id;W[t]?de(e):(n=E.createHostNode(e),ne.nodes.push(n),W[t]=n,Pe(),a(e.allCps,n),n.links.length&&qe(),Ge())}function de(e){var n=e.id,t=W[n];t&&(c(t,e),E.positionNode(t,!0)&&me(t),Pe(),Ve(),Ge())}function a(e,i){i.links=[],e.forEach(function(e){var n={key:i.id+"/0-"+e.device+"/"+e.port,dst:e.device,dstPort:e.port};i.links.push(n);var t=E.createHostLink(i.id,e.device,e.port);t&&(ne.links.push(t),W[n.key]=t)})}function ue(e){var n=e.id,t=W[n];t&&(p(t.links),angular.extend(t,e),E.positionNode(t,!0)&&me(t),a(e.allCps,t),Pe(),qe(),je())}function fe(e){var n=e.id,t=W[n];t&&k(t,!0)}function ve(e){var n=E.findLink(e,"add"),t=n.badLogic,i=n.ldata;if(t)y.debug(t+": "+X.id);else{if(i)return r=e,(o=i).fromTarget=r,q[r.id]=o.key,void Le(o);var o,r,s,l,c,a,d;(i=E.createLink(e))&&(ne.links.push(i),s=i,c=u((l=e).src,l.dst),a=u(l.dst,l.src),(d=function(e,n){return ne.linksByDevice[e]?e:!!ne.linksByDevice[n]&&n}(c,a))?(ne.linksByDevice[d].push(s),s.devicePair=d):(ne.linksByDevice[c]=[s],s.devicePair=c),W[i.key]=i,qe(),Ge())}}function pe(e){var n=E.findLink(e,"update"),t=n.badLogic;t?y.debug(t+": "+X.id):n.updateWith(e)}function ke(e){var n=E.findLink(e,"remove");n.badLogic||n.removeRawLink()}function he(e){z.topoStartDone()}function ye(e){return W[e]}function u(e,n){return e+"-"+n}var n=1.4,d=d3.scale.linear().domain([1,12]).range([n,12*n]).clamp(!0),f="direct indirect optical tunnel",v="inactive not-permitted";function Le(e,n){var t=b.theme(),i=e.el,o=e.type(),r=e.linkWidth(),s=e.online(),l=e.expected()?"inactive":"not-permitted",c=n?0:1e3;i&&!i.empty()&&(i.classed("link",!0),i.classed(v,!1),i.classed(l,!s),i.classed(f,!1),o&&i.classed(o,!0),i.transition().duration(c).attr("stroke-width",d(r)).attr("stroke",ee[t].baseColor))}function p(e){e.forEach(function(e){ge(e)})}function ge(e){var n,t=g.find(e.key,ne.links,"key");0<=t&&(n=ne.links.splice(t,1),delete W[n[0].key],qe(),je())}function k(e,n){p(e.links),delete W[e.id];var t=g.find(e.id,ne.nodes);ne.nodes.splice(t,1),n&&(Pe(),je())}function h(e){function n(e,n){var t;m.visible(e.el,n),E.findAttachedLinks(e.id).forEach(function(e){t=n&&("hostLink"!==e.type()||te),m.visible(e.el,t)}),E.findAttachedHosts(e.id).forEach(function(e){t=n&&te,m.visible(e.el,t)})}e?n(e,e.online||i):E.findDevices(!0).forEach(function(e){n(e,i)})}function me(e,n){var t,i={};n||(t=E.lngLatFromCoord([e.x,e.y]),i={x:e.x,y:e.y,equivLoc:{lng:t[0],lat:t[1]}}),e.metaUi=i,D.sendEvent("updateMeta",{id:e.id,class:e.class,memento:i})}function be(e){return e.fixed?e.svgClass+" fixed":e.svgClass}function xe(e){return t(e?"visible":"hidden")}function De(e){var n="keyev"===e?!te:!!e;return te=n,m.visible(Q.selectAll(".host"),te),m.visible(V.selectAll(".hostLink"),te),m.visible($.selectAll(".hostLinkLabel"),te),x.flash(t("hosts")+" "+xe(n)),n}function Se(e){var n="keyev"===e?!i:!!e;return i=n,h(),x.flash(t("fl_offline_devices")+" "+xe(n)),n}function Ae(){x.flash(B.incDevLabIndex()),E.findDevices().forEach(function(e){B.updateDeviceLabel(e)})}function Ee(){x.flash(B.incHostLabIndex()),E.findHosts().forEach(function(e){B.updateHostLabel(e)})}function Be(){var e=N.hovered();e&&(me(e,!0),e.fixed=!1,e.el.classed("fixed",!1),je())}function Ne(e){var n;e?(n=e,Te(!0),Z.each(function(e){e.master===n&&e.el.classed("suppressedmax",!1)})):Te(!1)}function Ce(e){return e?"suppressed":"suppressedmax"}function Te(e,n){var t=Ce(n);Z.classed(t,e),X.classed(t,e)}function _e(n,e){var t=Ce(e);Z.each(function(e){e.id===n&&e.el.classed(t,!1)})}function we(n,e){var t=Ce(e);X.each(function(e){e.key===n&&e.el.classed(t,!1)})}function He(){var e=E.findBadLinks();x.flash(t("fl_bad_links")+": "+e.length),y.debug("Bad Link List ("+e.length+"):"),e.forEach(function(e){y.debug("bad link: ("+e.bad+") "+e.key,e),e.el&&e.el.attr("stroke-width",d(2.8)).attr("stroke","red")}),L(qe,2e3)}function ze(){var e=z.zoomer().scale(),n=1;return o*e<r?n=r/(o*e):s<o*e&&(n=s/(o*e)),n}function Oe(e){e=z.zoomer().scale();return d(n)/e}function Ie(n){var e;_.each(ne.nodes,function(e){if("host"===e.class)return e.el.selectAll("g").style("transform","scale("+ze()+")"),void e.el.selectAll("text").style("transform","scale("+ze()+")");e.el.selectAll("*").style("transform","scale("+ze()+")")}),_.each(ne.links,function(e){e.el.style("stroke-width",Oe(n)+"px")}),d3.select("#topo-portLabels").selectAll(".portLabel").selectAll("*").style("transform","scale("+(e=n,e=z.zoomer().scale(),l/(l*e))+")")}function Me(){E.resetAllLocations(),Pe(),Ve(),x.flash(t("fl_reset_node_locations"))}function Pe(){j&&L.cancel(j),j=L(e,150)}function e(){(Z=Q.selectAll(".node").data(ne.nodes,function(e){return e.id})).filter(".device").each(B.deviceExisting),Z.filter(".host").each(B.hostExisting);var e=Z.enter().append("g").attr({id:function(e){return m.safeId(e.id)},class:be,transform:function(e){return m.translate(e.x,e.y)},opacity:0}).call(F).on("mouseover",N.nodeMouseOver).on("mouseout",N.nodeMouseOut).transition().attr("opacity",1);e.filter(".device").each(B.deviceEnter),e.filter(".host").each(B.hostEnter),B.updateDeviceColors();var n=Z.exit().transition().duration(2e3).style("opacity",0).remove();n.filter(".host").each(B.hostExit),n.filter(".device").each(B.deviceExit),Ve()}function Fe(e){return{x1:e.source.x,y1:e.source.y,x2:e.target.x,y2:e.target.y}}function We(){var v;oe=[],this.each(function(e){"hostLink"===e.type()&&(e.position=Fe(e))}),angular.forEach(ne.linksByDevice,function(e,n){var t,f=e.length;1===f?((t=e[0]).position=Fe(t),t.position.multiLink=!1):5<=f?(angular.forEach(e,function(e){e.position=Fe(e),e.position.multiLink=!0}),oe.push({id:n,num:f,linkCoords:e[0].position})):(v=null,angular.forEach(e,function(e,n){var t,i,o,r,s,l,c,a,d=6*(n-(f-1)/2),u=(t=e,v?t.source.id!==v:(v=t.source.id,!1));e.position=(i=d,o=u,r=Fe(e),s=o?-i:i,l=r.x2-r.x1,c=r.y2-r.y1,a=Math.sqrt(l*l+c*c),{x1:r.x1+s*c/a,y1:r.y1+s*-l/a,x2:r.x2+s*c/a,y2:r.y2+s*-l/a}),e.position.multiLink=!1}))})}function qe(){G&&L.cancel(G),G=L(Ke,150)}function Ke(){var e=b.theme();(X=V.selectAll(".link").data(ne.links,function(e){return e.key})).each(function(e){e.el&&Le(e,!0)}),X.enter().append("line").call(We).attr({x1:function(e){return e.position.x1},y1:function(e){return e.position.y1},x2:function(e){return e.position.x2},y2:function(e){return e.position.y2},stroke:ee[e].inColor,"stroke-width":ee.inWidth}).each(B.linkEntering),B.applyNumLinkLabels(oe,R),B.applyLinkLabels(),X.exit().attr("stroke-dasharray","3 3").attr("stroke",ee[e].outColor).style("opacity",.5).transition().duration(1500).attr({"stroke-dasharray":"3 12","stroke-width":ee.outWidth}).style("opacity",0).remove()}function je(){T.isOblique()||P.resume()}function Ge(){T.isOblique()||(K&&L.cancel(K),K=L(function(){y.debug("Starting force-layout"),P.start()},200))}var Ue={nodeAttr:{transform:function(e){var n=isNaN(e.x)?0:e.x,t=isNaN(e.y)?0:e.y;return m.translate(n,t)}},linkAttr:{x1:function(e){return e.position.x1},y1:function(e){return e.position.y1},x2:function(e){return e.position.x2},y2:function(e){return e.position.y2}},linkLabelAttr:{transform:function(e){var n=E.findLinkById(e.key);if(n)return B.transformLabel(n.position,e.key)}}};function Ve(){Z&&Z.size()&&Z.attr(Ue.nodeAttr),X&&X.size()&&(X.call(We).attr(Ue.linkAttr),B.applyNumLinkLabels(oe,R)),Y&&Y.size()&&Y.attr(Ue.linkLabelAttr)}function $e(e){return e.metaKey||e.altKey}function Re(e){e.fixed=!0,d3.select(this).classed("fixed",!0),me(e),N.clickConsumed(!0)}function Je(){var e=d3.event.sourceEvent;return!ie&&!$e(e)}function Qe(){return!0}var Xe="primary secondary optical animated port-traffic-green port-traffic-yellow port-traffic-orange port-traffic-red";function Ye(){X.style("stroke-width",null).classed(Xe,!1)}function Ze(){ne.links.forEach(function(e){e.label=""})}function en(){Z.selectAll("g.badge").remove()}function nn(){ne.nodes.forEach(function(e){e.badge=null})}function tn(){var n=[];X.each(function(e){e.label&&n.push({id:"lab-"+e.key,key:e.key,label:e.label,ldata:e})}),Y=$.selectAll(".linkLabel").data(n,function(e){return e.id})}function on(){return{hovered:N.hovered,somethingSelected:N.somethingSelected,selectOrder:N.selectOrder}}function rn(){qe(),Pe()}function sn(e){t=e,B.setLionBundle(e),w.setLionBundle(e),H.setLionBundle(e),T.setLionBundle(e),S.setLionBundle(e),N.setLionBundle(e)}angular.module("ovTopo").factory("TopoForceService",["$log","$timeout","FnService","SvgUtilService","ThemeService","FlashService","WebSocketService","TopoOverlayService","TopoInstService","TopoModelService","TopoD3Service","TopoSelectService","TopoTrafficService","TopoObliqueService","TopoFilterService","TopoLinkService","TopoProtectedIntentsService",function(e,n,t,i,o,r,s,l,c,a,d,u,f,v,p,k,h){return y=e,L=n,g=t,m=i,x=r,D=s,S=l,A=c,E=a,B=d,N=u,C=f,T=v,w=p,H=k,I=h,(b=o).addListener(rn),{initForce:function(e,n,t,i,o){var r,s;z=t,U=i,O=e,W=ne.lookup,q=ne.revLinkToKey,y.debug("initForce().. dim = "+U),S.setApi({clearNodeDeco:en,removeNodeBadges:nn,clearLinkTrafficStyle:Ye,removeLinkLabels:Ze,findLinkById:E.findLinkById,findNodeById:ye,updateLinks:qe,updateNodes:Pe,supLayers:Te,unsupNode:_e,unsupLink:we},N),E.initModel({projection:z.projection,network:ne,restyleLinkElement:Le,removeLinkElement:ge},U),B.initD3({node:function(){return Z},link:function(){return X},linkLabel:function(){return Y},instVisible:function(){return A.isVisible()},posNode:E.positionNode,showHosts:function(){return te},restyleLinkElement:Le,updateLinkLabelModel:tn,linkConfig:function(){return ee},deviceScale:ze,linkWidthScale:Oe},z.zoomer()),N.initSelect({node:function(){return Z},zoomingOrPanning:$e,updateDeviceColors:B.updateDeviceColors,deselectAllLinks:H.deselectAllLinks}),C.initTraffic(on()),I.initProtectedIntents(on()),T.initOblique((s=w,{force:function(){return P},zoomLayer:(r=z).zoomLayer,nodeGBBox:function(){return Q.node().getBBox()},node:function(){return Z},link:function(){return X},linkLabel:function(){return Y},nodes:function(){return ne.nodes},tickStuff:Ue,nodeLock:function(e){var n=ie;return ie=e,n},opacifyMap:r.opacifyMap,inLayer:s.inLayer,calcLinkPos:We,applyNumLinkLabels:function(){B.applyNumLinkLabels(oe,R)}})),w.initFilter({node:function(){return Z},link:function(){return X}}),H.initLink({svg:O,zoomer:z.zoomer(),network:ne,portLabelG:function(){return J},showHosts:function(){return te}},B),M=angular.extend({},re,o),V=n.append("g").attr("id","topo-links"),$=n.append("g").attr("id","topo-linkLabels"),R=n.append("g").attr("id","topo-numLinkLabels"),Q=n.append("g").attr("id","topo-nodes"),J=n.append("g").attr("id","topo-portLabels"),X=V.selectAll(".link"),Y=$.selectAll(".linkLabel"),Z=Q.selectAll(".node"),P=d3.layout.force().size(U).nodes(ne.nodes).links(ne.links).gravity(M.gravity).friction(M.friction).charge(M.charge._def_).linkDistance(M.linkDistance._def_).linkStrength(M.linkStrength._def_).on("tick",Ve),F=m.createDragBehavior(P,N.selectObject,Re,Je,Qe)},newDim:function(e){U=e,P.size(U),E.newDim(U)},destroyForce:function(){P.stop(),H.destroyLink(),T.destroyOblique(),C.destroyTraffic(),I.destroyProtectedIntents(),N.destroySelect(),B.destroyD3(),E.destroyModel(),b.removeListener(rn),O.selectAll("g").remove(),O.selectAll("defs").remove(),ne.nodes=[],ne.links=[],ne.linksByDevice={},ne.lookup={},ne.revLinkToKey={},oe=[],V=$=R=Q=J=null,X=Y=Z=null,P=F=null,K&&L.cancel(K),j&&L.cancel(j),G&&L.cancel(G)},updateDeviceColors:B.updateDeviceColors,toggleHosts:De,togglePorts:H.togglePorts,toggleOffline:Se,cycleDeviceLabels:Ae,cycleHostLabels:Ee,unpin:Be,showMastership:Ne,showBadLinks:He,setNodeScale:Ie,resetAllLocations:Me,addDevice:se,updateDevice:le,removeDevice:ce,addHost:ae,updateHost:de,moveHost:ue,removeHost:fe,addLink:ve,updateLink:pe,removeLink:ke,topoStartDone:he,setLionBundle:sn}}])}();
!function(){"use strict";var l,o,r,u,h,d,f,s,i,p,v,g,t=!0,n="topo-p-instance",a={edge:"left",width:20},y=function(e){return"#tis#"+e+"#"};function I(e){var t=e.id;i[t]?w(e):(i[t]=e,p.push(e),c())}function w(e){var t=e.id,n=i[t];n?(angular.extend(n,e),c()):A('updateInstance: lookup fail: ID = "'+t+'"')}function x(e){var t=e.id;if(i[t]){var n=d.find(t,p);0<=n&&p.splice(n,1),delete i[t],c()}else A('removeInstance lookup fail. ID = "'+t+'"')}function m(e){var t,n,i=d3.select(this);i.classed("affinity")?b():(t=i,n=e,d3.selectAll(".onosInst").classed("mastership",!0).classed("affinity",!1),t.classed("affinity",!0),s.showMastership(n.id),v=!0)}function b(){d3.selectAll(".onosInst").classed("mastership affinity",!1),s.showMastership(null),v=!1}function S(e){u.addGlyph(e,"uiAttached",24,!0,[14,54]).classed("badgeIcon uiBadge",!0)}function c(){var a={width:170,height:85,viewBox:"0 0 170 85"},c={x:5,y:5,width:160,height:30},l={x:5,y:35,width:160,height:45},o={class:"instTitle",x:48,y:27},e=g.el().selectAll(".onosInst").data(p,function(e){return e.id});function d(e){return y("devices")+": "+e}e.each(function(e){var t=d3.select(this),n=t.select("svg");function i(e,t){n.select("text.instLabel."+e).text(t)}t.classed("online",e.online),t.classed("ready",e.ready),n.select("use.uiBadge").remove(),e.uiAttached&&S(n),i("ip",e.ip),i("ns",d(e.switches))}),e.enter().append("div").classed("onosInst",!0).classed("online",function(e){return e.online}).classed("ready",function(e){return e.ready}).on("click",m).each(function(e){var t,n=d3.select(this).append("svg").attr(a);n.append("rect").attr(c),n.append("rect").attr(l),u.addGlyph(n,"bird",20,!1,[15,10]).classed("badgeIcon bird",!0),t=n,u.addGlyph(t,"checkMark",16,!0,[18,40]).classed("badgeIcon readyBadge",!0),e.uiAttached&&S(n),n.append("text").attr(o).text(e.id);var i=55;function s(e,t){n.append("text").attr({class:"instLabel "+e,x:48,y:i}).text(t),i+=18}s("ip",e.ip),s("ns",d(e.switches))}),e.each(function(e){var t,n,i=d3.select(this).select("svg").select("rect"),s=(t=e.id,n=e.online,r.cat7().getColor(t,!n,h.theme()));i.style("fill",s)}),g.width(a.width*p.length),g.height(a.height),e.exit().remove()}function A(e){t&&l.warn("TopoInstService: "+e)}function k(e){s=e,(g=o.createPanel(n,a)).show(),i={},v=!(p=[]),h.addListener(c)}function B(){h.removeListener(c),o.destroyPanel(n),g=null,i={},v=!(p=[])}function L(){g.show()}function T(){g.hide()}function G(e){var t,n;return"keyev"===e?t=g.toggle():(t=!!e)?L():T(),n=y(t?"show":"hide"),f.flash(n+" "+y("fl_panel_instances")),t}angular.module("ovTopo").factory("TopoInstService",["$log","PanelService","SvgUtilService","GlyphService","ThemeService","FnService","FlashService",function(e,t,n,i,s,a,c){return l=e,o=t,r=n,u=i,h=s,d=a,f=c,{initInst:k,destroyInst:B,addInstance:I,updateInstance:w,removeInstance:x,cancelAffinity:b,isVisible:function(){return g.isVisible()},show:L,hide:T,toggle:G,showMaster:function(){return v},setLionBundle:function(e){y=e}}}])}();
!function(){"use strict";var i,l,s,u,m,c,a,r,y=!0,n=null,t={},d=function(e){return"#tlink#"+e+"#"};function f(e){var n=d3.mouse(e),t=m.zoomer.scale(),o=m.zoomer.translate();return{x:(n[0]-o[0])/t,y:(n[1]-o[1])/t}}function b(e){return e*e}function L(e,n){return Math.sqrt(b(e.x-n.x)+b(e.y-n.y))}function h(e){return e/m.zoomer.scale()}function v(x){var k,p=h(30),g=null;return a.links.length&&(k=2*p,a.links.forEach(function(e){var n,t,o,l,s,c,r,i,u,a,y,d,f,h,v=e.position;(m.showHosts()||"hostLink"!==e.type())&&v&&(r=x,i=(c=v).x1,u=c.y1,a=c.x2,y=c.y2,d=r.x,f=r.y,h=((y-u)*(d-i)-(a-i)*(f-u))/(b(y-u)+b(a-i)),s=x,!((l=n={x:d-h*(y-u),y:f+h*(a-i)}).x<(o=v).x1&&l.x<o.x2||l.x>o.x1&&l.x>o.x2||l.y<o.y1&&l.y<o.y2||l.y>o.y1&&l.y>o.y2||!(L(l,s)<=p))&&(t=L(n,x))<k&&(k=t,g=e))})),g}function x(e){n&&e&&n.key===e.key||(n&&function(e){e.el&&e.el.classed("enhanced",!1);m.portLabelG().selectAll(".portLabel").remove()}(n),(n=e)&&function(e){var n,t=[];if(!e.el)return;e.el.classed("enhanced",!0),n=o(e),angular.extend(n,{id:"topo-port-tgt",num:e.tgtPort}),t.push(n),e.srcPort&&(n=o(e,1),angular.extend(n,{id:"topo-port-src",num:e.srcPort}),t.push(n));c.applyPortLabels(t,m.portLabelG())}(n))}function o(e,n){var t=e.position,o=n?t.x1:t.x2,l=n?t.y1:t.y2;var s,c,r=(n?t.x2:t.x1)-o,i=(n?t.y2:t.y1)-l,u=32/(s=r,c=i,Math.sqrt(s*s+c*c));return{x:u*r+o,y:u*i+l}}function k(e){e.el&&(e.el.classed("selected",!1),delete t[e.key])}function p(e){e.el&&(e.el.classed("selected",!0),t[e.key]={key:e})}function g(){x(v(f(this)))}function P(){var e,n,t,o,l,s,c,r;d3.event.shiftKey||j(),u.clickConsumed()||(e=f(this),l=e,c=h(30),r=null,a.nodes.length&&(s=2*c,a.nodes.forEach(function(e){var n;(m.showHosts()||"host"!==e.class)&&(n=L({x:e.x,y:e.y},l))<s&&n<c&&(s=n,r=e)})),(t=r)?(i.debug("found nearest node:",t.labels[1]),u.selectObject(t)):(n=v(e),o=n,d3.event.shiftKey&&o.el.classed("selected")?k(o):!d3.event.shiftKey||o.el.classed("selected")?(u.deselectAll(),o&&(o.el.classed("selected")?k(o):p(o))):p(o),u.selectObject(n)))}function S(e){var n="keyev"===e?!y:!!e,t=d(n?"enable":"disable"),o=d("fl_port_highlighting"),l=n?g:null;return(y=n)||x(null),r.on("mousemove",l),s.flash(t+" "+o),n}function j(){0<Object.keys(t).length&&a.links.forEach(function(e){t[e.key]&&k(e)})}function w(e){d=e}angular.module("ovTopo").factory("TopoLinkService",["$log","FnService","FlashService","TopoSelectService",function(e,n,t,o){return i=e,l=n,s=t,u=o,{initLink:function(e,n){c=n,r=(m=e).svg,a=m.network,y&&!l.isMobile()&&r.on("mousemove",g),r.on("click",P)},destroyLink:function(){r.on("mousemove",null),r.on("click",null)},togglePorts:S,deselectAllLinks:j,setLionBundle:w}}])}();
!function(){"use strict";var a,o,i,n,c,p,l,r,s,u=function(e){return"#tmap#"+e+"#"};function d(){o.sendEvent("mapSelectorRequest")}function f(){i.closeDialog()}function m(e){n=e,o.bindHandlers(s)}function v(){o.unbindHandlers(s)}function g(){T({mapid:l.id,mapscale:l.scale,mapfilepath:l.filePath,tint:"off"})}function M(){}function S(){l=p[this.options[this.selectedIndex].value],a.info("Selected map",l)}function h(e){var n,t,o;a.info("Got response",e),c=e.order,p=e.maps,i.openDialog().setTitle(u("title_select_map")).addContent((n=i.createDiv("map-list"),t=n.append("form"),o=D(),l=p[o.mapid],r=t.append("select").on("change",S),c.forEach(function(e){var n=p[e];r.append("option").attr("value",n.id).attr("selected",n.id===o.mapid||null).text(n.description)}),n)).addOk(g,u("ok")).addCancel(M,u("close")).bindKeys()}function b(){n.toggleMap()}function D(){return n.currentMap()}function T(e){n.setMap(e)}function k(e){u=e}angular.module("ovTopo").factory("TopoMapService",["$log","WebSocketService","TopoDialogService",function(e,n,t){return a=e,o=n,i=t,s={mapSelectorResponse:h},{toggleMap:b,currentMap:D,setMap:T,openMapSelection:d,closeMapSelection:f,start:m,stop:v,setLionBundle:k}}])}();
!function(){"use strict";var u,d,l,f,s,m,t,o,p,v,k=15;function i(n){var e=f.projection();return e?e([n.longOrX,n.latOrY]):[0,0]}function a(n){var e=f.projection();return e?e.invert(n):[0,0]}function c(n,e){var r,t,o,i=n.metaUi,u=i&&i.x,a=i&&i.y;if(y(n))return!1;if(null!=u&&null!=a)return n.fixed=!0,n.px=n.x=u,n.py=n.y=a,!0;if(e&&null!=n.x&&null!=n.y)return!1;function c(){return{x:l.randDim(v[0]),y:l.randDim(v[1])}}return n.fixed=!1,r="host"===n.class?(o=n.cp,{x:(t=s[o.device]||c()).x+k+l.spread(k),y:t.y+k+l.spread(k)}):c(),angular.extend(n,r),!1}function y(n){var e,r,t=n.location;if(t&&"none"!==t.locType){if(t)return e="geo"===t.locType?i(t):[1*(r=t).longOrX,1*r.latOrY+0],n.fixed=!0,n.px=n.x=e[0],n.py=n.y=e[1],!0}else n.fixed=!1;return!1}function g(){t.forEach(function(n){y(n)})}function r(n,e,r){var t="node "+n,o=e?t+" "+e:t;return r?o+" online":o}function h(n){var e=n;return e.class="device",e.svgClass=r("device",n.type,n.online),c(e),e}function x(n){var e=n;return e.class="host",e.type||(e.type="endstation"),e.svgClass=r("host",e.type),c(e),e}function L(n,e,r){var t=n+"/0-"+e+"/"+r,o=S(n,e);return o?(angular.extend(o,{key:t,class:"link",tgtPort:r,type:function(){return"hostLink"},expected:function(){return!0},online:function(){return o.target.online},linkWidth:function(){return 1}}),o):null}function T(n){var o=S(n.src,n.dst);return o?(angular.extend(o,{key:n.id,class:"link",fromSource:n,srcPort:n.srcPort,tgtPort:n.dstPort,position:{x1:0,y1:0,x2:0,y2:0},type:function(){var n=o.fromSource,e=o.fromTarget;return n&&n.type||e&&e.type||"direct"},expected:function(){var n=o.fromSource,e=o.fromTarget;return n&&n.expected&&e&&e.expected},online:function(){var n=o.fromSource,e=o.fromTarget;return o.source.online&&o.target.online&&n&&n.online&&e&&e.online},linkWidth:function(){var n=o.fromSource,e=o.fromTarget,r=n&&n.linkWidth||0,t=e&&e.linkWidth||0;return o.position.multiLink?5:Math.max(r,t)},extra:n.extra}),o):null}function S(n,e){var r=s[n],t=s[e],o=r?"":E("src",n),i=t?"":E("dst",e);return o||i?(u.error("Node(s) not on map for link:"+o+i),null):{source:r,target:t}}function E(n,e){return"\n["+n+'] "'+e+'" missing'}function b(n,e){var r=e+"Port";return n[e]+"/"+n[r]}function w(n,e){return b(n,e?"dst":"src")+"-"+b(n,e?"src":"dst")}function P(n){var e=m[n]||n;return e&&s[e]}function D(n,e){var r,t=w(n),o=w(n,1),i=s[t],u=s[o],a={},c=i||u;return"add"===e?i?(a.ldata=i,a.badLogic="addLink: link already added"):u&&(a.ldata=u).fromTarget&&(a.badLogic="addLink: link already added"):"update"===e?c?(r=i?c.fromSource:c.fromTarget,a.updateWith=function(n){angular.extend(r,n),f.restyleLinkElement(c)}):a.badLogic="updateLink: link not found":"remove"===e&&(c&&(r=i?c.fromSource:c.fromTarget)?a.removeRawLink=function(){var n=p[c.devicePair],e=d.find(c.key,n,"key");0<=e&&n.splice(e,1),c.position.multilink=5<=n.length,i?(c.fromSource=null,c.fromTarget&&(c.fromSource=c.fromTarget,c.fromTarget=null,c.key=o,delete s[t],s[o]=c,delete m[o])):(c.fromTarget=null,delete m[o]),c.fromSource?f.restyleLinkElement(c):f.removeLinkElement(c)}:a.badLogic="removeLink: link not found"),a}function W(e){var r=[];return t.forEach(function(n){"device"!==n.class||e&&n.online||r.push(n)}),r}function H(){var e=[];return t.forEach(function(n){"host"===n.class&&e.push(n)}),e}function M(e){var r=[];return t.forEach(function(n){"host"===n.class&&n.cp.device===e&&r.push(n)}),r}function N(e){var r=[];return o.forEach(function(n){n.source.id!==e&&n.target.id!==e||r.push(n)}),r}function O(){var e,r,t=[];return o.forEach(function(n){"hostLink"!==n.type()&&(delete n.bad,e=n.fromSource,r=n.fromTarget,e&&!r?n.bad="missing link":e.type!==r.type&&(n.bad="type mismatch"),n.bad&&t.push(n))}),t}angular.module("ovTopo").factory("TopoModelService",["$log","FnService","RandomService",function(n,e,r){return u=n,d=e,l=r,{initModel:function(n,e){v=e,s=(f=n).network.lookup,m=f.network.revLinkToKey,t=f.network.nodes,o=f.network.links,p=f.network.linksByDevice},newDim:function(n){v=n},destroyModel:function(){},positionNode:c,resetAllLocations:g,createDeviceNode:h,createHostNode:x,createHostLink:L,createLink:T,coordFromLngLat:i,lngLatFromCoord:a,findLink:D,findLinkById:P,findDevices:W,findHosts:H,findAttachedHosts:M,findAttachedLinks:N,findBadLinks:O}}])}();
!function(){"use strict";var l,o,u,f,s=-.7,a=-35,p=.5,y=50,e=1500,d={pkt:"rgba(130,130,170,0.3)",opt:"rgba(170,130,170,0.3)"},i=!1,k=null,x={},r=function(t){return"#tobq#"+t+"#"};function h(t){return"topo-obview-"+t+"Plane"}function v(t,n){return t*p*n*1.1}function c(){var a,e,t,n,i,r,c=u.nodeGBBox();function o(t){var n=h(t),o=u.zoomLayer().insert("g","#topo-G").attr("id",n).attr("transform",l.translate(i,r));o.append("rect").attr("fill",d[t]).attr("opacity",0),x[t]=o}n=y,(t=c).x-=n,t.y-=n,t.width+=2*n,t.height+=2*n,a=c.x+c.width/2,e=c.y+c.height/2,f=u.nodeLock(!0),u.opacifyMap(!1),i=a,r=e,o("opt"),o("pkt"),k=function(t,n){var o=v(c.height,n),i=t.x-a,r=t.y-e;return{x:a+(i+r*s),y:e+(r+o)*p}},L("pkt",c,-1),L("opt",c,1),g()}function b(){function t(t){var n=h(t);u.zoomLayer().select("#"+n).transition().duration(e+50).remove(),delete x[t]}k=null,n("pkt"),n("opt"),g(),t("opt"),t("pkt"),u.nodeLock(f),u.opacifyMap(!0)}function g(){k?u.nodes().forEach(function(t){var n,o={x:t.x,y:t.y},i=k(o,(n=t,u.inLayer(n,"pkt")?-1:1));t.oldxy=o,t.px=t.x=i.x,t.py=t.y=i.y}):u.nodes().forEach(function(t){var n=t.oldxy||{x:t.x,y:t.y};t.px=t.x=n.x,t.py=t.y=n.y,delete t.oldxy}),u.node().transition().duration(e).attr(u.tickStuff.nodeAttr),u.link().transition().duration(e).call(u.calcLinkPos).attr(u.tickStuff.linkAttr).call(u.applyNumLinkLabels),u.linkLabel().transition().duration(e).attr(u.tickStuff.linkLabelAttr)}function L(t,n,o){var i,r;n.x=-n.width/2,n.y=-n.height/2,x[t].select("rect").attr(n).attr("opacity",0).transition().duration(e).attr("opacity",1).attr("transform",(i=n.height,r=v(i,o),l.scale(1,p)+l.translate(0,r)+l.skewX(a)))}function n(t){x[t].select("rect").transition().duration(e).attr("opacity",0).attr("transform",l.skewX(0)+l.translate(0,0)+l.scale(1,1))}function m(t){r=t}angular.module("ovTopo").factory("TopoObliqueService",["SvgUtilService","FlashService",function(t,n){return l=t,o=n,{initOblique:function(t){u=t},destroyOblique:function(){},isOblique:function(){return i},toggleOblique:function(){(i=!i)?(u.force().stop(),o.flash(r("fl_oblique_view")),c()):(o.flash(r("fl_normal_view")),b())},setLionBundle:m}}])}();
!function(){"use strict";var f,a,p,y,d,c,r,s,i,g="TopoOverlayService: ",h={},u=null,l=!0,e=function(e){return"#tov#"+e+"#"};function b(e,n){f.warn(g+e+"(): "+n)}function w(e,n){return"*"===n[0]?e+"-"+n.slice(1):n}function v(e){var n,t,o,i,r,u,a,d,c="register",s=p.isO(e),l=s?p.isO(e.keyBindings):null,v=s?s.overlayId:"";return v?h[v]?b(c,'already registered: "'+v+'"'):(h[v]=e,o=e,i=p.isO(o.glyphs),r=o.overlayId,u=o.glyphId||"unknown",a={},d=[],o._glyphId=w(r,u),o.mkGid=function(e){return w(r,e)},o.mkId=function(e){return r+"-"+e},i&&(angular.forEach(i,function(e,n){var t=r+"-"+n;a["_"+t]=e.vb,a[t]=e.d,d.push("*"+n)}),y.registerGlyphs(a),f.debug("registered overlay glyphs:",r,d)),l&&(p.isA(l._keyOrder)?l._keyOrder.forEach(function(e){"-"===e||l[e]||b(c,'no "'+e+'" property defined on keyBindings')}):b(c,"no _keyOrder array defined on keyBindings")),void f.debug(g+"registered overlay: "+v,e)):(n=c,t="not a recognized overlay",void f.error(g+n+"(): "+t))}function m(){return d3.map(h).keys()}function k(i){var r=[];return angular.forEach(h,function(e){var n=e.overlayId,t=p.isO(e.hooks)||{},o=p.isF(t.acceptIntent);p.isF(t.showIntent)&&o&&o(i)&&r.push({id:n,tt:e.tooltip||"%"+n+"%"})}),r}function I(n,t){var o={},i=1;return angular.forEach(h,function(e){n.push({gid:e._glyphId,tooltip:e.tooltip||"",cb:function(){_(e.overlayId,t)}}),o[e.overlayId]=i++}),o}function _(e,n){var t=u&&u.overlayId===e,o={};function i(e){var n=u.overlayId;f.debug("Overlay:",e,n),u[e](),o[e]=n}!l&&t||(l=!1,u&&i("deactivate"),(u=h[e])&&i("activate"),n(e,u&&p.isO(u.keyBindings)),d.sendEvent("topoSelectOverlay",o),d.sendEvent("requestSummary"),r.updateDetail())}var O={showDeviceView:{gid:"switch",tt:function(){return e("btn_show_view_device")},path:"device"},showFlowView:{gid:"flowTable",tt:function(){return e("btn_show_view_flow")},path:"flow"},showPortView:{gid:"portTable",tt:function(){return e("btn_show_view_port")},path:"port"},showGroupView:{gid:"groupTable",tt:function(){return e("btn_show_view_group")},path:"group"},showMeterView:{gid:"meterTable",tt:function(){return e("btn_show_view_meter")},path:"meter"}};function S(e,n){var t=u&&u.buttons,o=t&&t[e],i=p.isF(o.cb),r=i?function(){i(n)}:function(){};return o?{id:u.mkId(e),gid:u.mkGid(o.gid),tt:o.tt,cb:r}:null}function E(e,r,u){e.forEach(function(e){var n=O[e],t=n&&n.gid,o=n&&n.tt,i=n&&n.path;n?s.addAction({id:"core-"+e,gid:t,tt:o,cb:function(){c.navTo(i,{devId:u})}}):(n=S(e,r))&&s.addAction(n)})}function L(e){var n=S(e);n&&s.addAction({id:u.mkId(e),gid:u.mkGid(n.gid),cb:n.cb,tt:n.tt})}function t(e){var n=u&&u.hooks;return n&&p.isF(n[e])}function T(){var e=t("escape");return!!e&&e()}function B(){var e=t("empty");e&&e()}function N(e){var n=t("single");n&&n(e)}function F(e){var n=t("multi");n&&n(e)}function G(e){var n=t("mouseover");n&&n(e)}function A(){var e=t("mouseout");e&&e()}function D(e){var n=t("showIntent");return n&&n(e)}function V(e,n){i=e,r=n}function H(e){function n(){!function(e){var o;i.clearNodeDeco(),i.removeNodeBadges(),i.clearLinkTrafficStyle(),i.removeLinkLabels(),e.subdue?(o="min"===e.subdue,i.supLayers(!0,o)):(i.supLayers(!1),i.supLayers(!1,!0));e.hosts.forEach(function(e){var n=i.findNodeById(e.id),t=e.badge||null;n&&n.el&&!n.el.empty()?(n.badge=t,e.subdue||i.unsupNode(n.id,o)):f.warn("HILITE: no host element:",e.id)}),e.devices.forEach(function(e){var n=i.findNodeById(e.id),t=e.badge||null;n&&n.el&&!n.el.empty()?(n.badge=t,e.subdue||i.unsupNode(n.id,o)):f.warn("HILITE: no device element:",e.id)}),e.links.forEach(function(e){var n=i.findLinkById(e.id);n&&n.el&&!n.el.empty()?(e.subdue||i.unsupLink(n.key,o),n.el.classed(e.css,!0),n.label=e.label):f.warn("HILITE: no link element:",e.id)}),i.updateNodes(),i.updateLinks()}(e)}e.delay?a(n,e.delay):n()}function P(o){e=o,angular.forEach(h,function(e){var n=p.isO(e.hooks)||{},t=p.isF(n.injectLion);t&&t(o)})}angular.module("ovTopo").factory("TopoOverlayService",["$log","$timeout","FnService","GlyphService","WebSocketService","NavService","TopoPanelService",function(e,n,t,o,i,r,u){return f=e,a=n,p=t,y=o,d=i,c=r,s=u,{register:v,setApi:V,list:m,overlaysAcceptingIntents:k,augmentRbset:I,mkGlyphId:w,tbSelection:_,installButtons:E,addDetailButton:L,resetOnToolbarDestroy:function(){l=!0},hooks:{escape:T,emptySelect:B,singleSelect:N,multiSelect:F,mouseOver:G,mouseOut:A,showIntent:D},showHighlights:H,setLionBundle:P}}])}();
!function(){"use strict";var u,c,h,f,y,v,g,b,m,S,w,i,e,H,_,B=function(e){return"#tps#"+e+"#"},o="topo-p",n="topo-p-summary",t="topo-p-detail",a={width:260},p=226,r=16,d=r+32,l=!0,s=!1;function P(e,n){var t,p,i,r=y.createPanel(e,n),a=e;return r.classed(o,!0),{panel:function(){return r},setup:function(){r.empty(),r.append("div").classed("header",!0),r.append("div").classed("body",!0),r.append("div").classed("footer",!0),t=r.el().select(".header"),p=r.el().select(".body"),i=r.el().select(".footer")},destroy:function(){y.destroyPanel(a)},appendHeader:function(e){return t.append(e)},appendBody:function(e){return p.append(e)},appendFooter:function(e){return i.append(e)},adjustHeight:function(e,n){var t,i,a=0;if(!e)return u.warn("adjustHeight: height from top of page not given"),null;if(!p||!r)return null;function o(e){return!(e<10)&&(p.style("height",e+"px"),!0)}return r.el().style("top",e+"px"),r.el().style("height",null),p.style("height",null),t=e+r.height(),(i=f.windowSize(d).height)<=t&&(a=t-i),o(f.noPxStyle(p,"height")-a)&&n&&r.height()>n&&o(f.noPxStyle(p,"height")-(r.height()-n)),r.height()}}}function x(e){e||_.appendFooter("hr"),_.appendFooter("div").classed("actionBtns",!0)}function V(e,n,t){var i=e.append("tr");function a(e,n){i.append("td").attr("class",e).text(n)}a("label",("string"==typeof n?n.replace(/_/g," "):n)+" :"),a("value",t)}function k(n,t){var i=!1;return t.propOrder.forEach(function(e){i="-"===e?(n.append("tr").append("td").attr("colspan",2).append("hr"),!0):(V(n,t.propLabels[e],t.propValues[e]),!1)}),i}var j={device:"devId",host:"hostId"};function F(n){_.setup();var e,t,i=_.appendHeader("div").classed("icon clickable",!0).append("svg"),a=_.appendHeader("h2").classed("clickable",!0),o=_.appendBody("table").append("tbody");v.addGlyph(i,n.glyphId||"m_unknown",26),a.text(n.title),(t=n.navPath)&&(e=function(){var e={};e[j[t]]=n.id,w.navTo(t,e)},i.on("click",e),a.on("click",e)),x(k(o,n))}function E(e){_.setup();var n=_.appendHeader("h3"),t=_.appendBody("table").append("tbody");n.text(B("title_selected_items")),e.forEach(function(e,n){V(t,n+1,e)}),x()}function I(e){var n=d3.select("#"+t).select(".actionBtns").append("div").classed("actionBtn",!0);m.button(n,t+"-"+e.id,e.gid,e.cb,e.tt)}function T(){s=!1,N()}function $(){s=!0,l&&M()}function G(e){function n(){H.panel().show(),H.adjustHeight(i,p)}!function(e){H.setup();var n=H.appendHeader("div").classed("icon",!0).append("svg"),t=H.appendHeader("h2"),i=H.appendBody("table").append("tbody"),a=e.glyphId||"bird";v.addGlyph(n,a,24,0,[1,1]),t.text(e.title),k(i,e),W()}(e),_.panel().isVisible()?_.down(n):n()}function C(e){var n="keyev"===e?!H.panel().isVisible():!!e,t=B(n?"show":"hide"),i=B("fl_panel_summary");return n?b.sendEvent("requestSummary"):L(),g.flash(t+" "+i),n}function L(){b.sendEvent("cancelSummary"),H.panel().hide(_.up)}function M(){H.panel().isVisible()?_.down(_.panel().show):_.up(_.panel().show)}function N(){_.panel().hide()}function W(){var a=_,e=d3.select("#"+n).node().getBoundingClientRect().bottom+r;a.ypos={up:i,down:e,current:e},a._move=function(e,n){var t,i=a.ypos;t=f.isF(n)?function(){n(),a.adjustHeight(a.ypos.current)}:function(){a.adjustHeight(a.ypos.current)},i.current!==e?(i.current=e,a.panel().el().transition().duration(300).each("end",t).style("top",i.current+"px")):t()},a.down=function(e){a._move(a.ypos.down,e)},a.up=function(e){a._move(a.ypos.up,e)}}function q(e){var n;return n=B((l="keyev"===e?!l:!!e)?"enable":"disable"),l?s&&M():N(),g.flash(n+" "+B("fl_panel_details")),l}function z(){i=S.mastHeight()+r,H=P(n,a),_=P(t,a),W(),e=h.$watchCollection(function(){return{h:c.innerHeight,w:c.innerWidth}},function(){var e=H.adjustHeight(i,p),n=H.panel().isVisible(),t=(e&&n?i+e+d:0)||n?_.ypos.current:i;_.adjustHeight(t)})}function A(){H.destroy(),H=null,_.destroy(),_=null,s=!1,e()}angular.module("ovTopo").factory("TopoPanelService",["$log","$window","$rootScope","FnService","PanelService","GlyphService","FlashService","WebSocketService","ButtonService","MastService","NavService",function(e,n,t,i,a,o,p,r,d,l,s){return u=e,c=n,h=t,f=i,y=a,v=o,g=p,b=r,m=d,S=l,w=s,{initPanels:z,destroyPanels:A,createTopoPanel:P,showSummary:G,toggleSummary:C,hideSummary:L,toggleUseDetailsFlag:q,displaySingle:F,displayMulti:E,displayNothing:T,displaySomething:$,addAction:I,detailVisible:function(){return _.panel().isVisible()},summaryVisible:function(){return H.panel().isVisible()},setLionBundle:function(e){B=e}}}])}();
!function(){"use strict";var n,c,o=function(t){return"#tproti#"+t+"#"},e=null;function i(){return!!e&&(e=!1,c.sendEvent("cancelProtectedIntentHighlight"),n.flash(o("fl_monitoring_canceled")),!0)}function r(t){c.sendEvent("selectProtectedIntent",t),n.flash(o("fl_selecting_intent")+" "+t.key),e=!0}angular.module("ovTopo").factory("TopoProtectedIntentsService",["FlashService","WebSocketService",function(t,e){return n=t,c=e,{initProtectedIntents:function(t){},destroyProtectedIntents:function(){},setLionBundle:function(t){o=t},cancelHighlights:i,showProtectedIntent:r}}])}();
!function(){"use strict";var o,c,e=function(t){return"#tprotiov#"+t+"#"},r={overlayId:"protectedIntent",glyphId:"m_ips",tooltip:function(){return e("ov_tt_protected_intents")},activate:function(){o.debug("Protected Intent overlay ACTIVATED")},deactivate:function(){c.cancelHighlights(),o.debug("Protected Intent overlay DEACTIVATED")},hooks:{escape:function(){return c.cancelHighlights()},acceptIntent:function(t){return t.startsWith("Protected")},showIntent:function(t){c.showProtectedIntent(t)},injectLion:function(t){e=t,c.setLionBundle(t)}}};angular.module("ovTopo").run(["$log","TopoOverlayService","TopoProtectedIntentsService",function(t,e,n){o=t,c=n,e.register(r)}])}();
!function(){"use strict";var c,l,u,d,a,f,v,h,g,p,y,S,b=function(e){return"#tsel#"+e+"#"};function o(){return y.length}function s(e){return p[y[e]]}function k(e){e.dragStarted||g!==e&&(g=e,d.hooks.mouseOver({id:e.id,class:e.class,type:e.type}))}function m(e){e.dragStarted||g&&(g=null,d.hooks.mouseOut())}function O(t){var n,o=this,e=o&&"g"===o.tagName,s=d3.event.sourceEvent||{};if(!h.zoomingOrPanning(s)){if(e?n=d3.select(o):h.node().each(function(e){e===t&&(n=d3.select(o=this))}),t&&"link"===t.class)return p[t.key]?j(t.key):(p[t.key]={obj:t,el:o},y.push(t.key)),void D();if(n){if(e&&(S=!0),s.shiftKey&&n.classed("selected"))return j(t.id),void D();s.shiftKey||w(!0),p[t.id]={obj:t,el:o},y.push(t.id),n.classed("selected",!0),n.classed("device")&&h.updateDeviceColors(t),D()}}}function _(){y.forEach(function(e){d3.select("g#"+v.safeId(e)).classed("selected",!0)}),D()}function j(e){var t=p[e];t&&(d3.select(t.el).classed("selected",!1),delete p[e],l.removeFromArray(e,y),h.updateDeviceColors(t.obj))}function w(e){var t=0<y.length;return h.node().classed("selected",!1),p={},y=[],h.updateDeviceColors(),e||D(),t}function D(){var e,t=y.length;t?1===t?(e=s(0).obj,c.debug("Requesting details from server for",e),function(e){var t=e.class,n={class:t,id:e.id};"link"===t&&(n.key=e.key,n.sourceId=e.source.id,n.targetId=e.target.id,n.targetPort=e.tgtPort,"host"===e.source.class?n.isEdgeLink=!0:(n.isEdgeLink=!1,n.sourcePort=e.srcPort)),u.sendEvent("requestDetails",n)}(e)):(a.displayMulti(y),function(e){for(var t=0,n=o();t<n;t++)if(s(t).obj.class!==e)return!1;return!0}("host")&&(2===o()?a.addAction({id:"host-flow-btn",gid:"m_endstation",cb:f.addHostIntent,tt:function(){return b("tr_btn_create_h2h_flow")}}):2<=o()&&a.addAction({id:"mult-src-flow-btn",gid:"flows",cb:f.addMultiSourceIntent,tt:function(){return b("tr_btn_create_msrc_flow")}})),d.hooks.multiSelect(y),a.displaySomething()):(d.hooks.emptySelect(),a.displayNothing())}function E(e){var t=l.isA(e.buttons)||[];a.displaySingle(e),d.installButtons(t,e,e.propValues.uri),d.hooks.singleSelect(e),a.displaySomething()}function P(){return o()}function T(e){var t=S;return S=!!e,t}function A(){var o=[],s=[],i={};return angular.forEach(p,function(e){var t=e.obj,n=t.class;"device"===n&&(o.push(t.id),i[t.id]=t.type),"host"===n&&(s.push(t.id),i[t.id]=t.type)}),{devices:o,hosts:s,types:i}}angular.module("ovTopo").factory("TopoSelectService",["$log","FnService","WebSocketService","TopoOverlayService","TopoPanelService","TopoTrafficService","SvgUtilService",function(e,t,n,o,s,i,r){return c=e,l=t,u=n,d=o,a=s,f=i,v=r,{initSelect:function(e){h=e,p||(g=null,p={},S=!(y=[]))},destroySelect:function(){},showDetails:E,nodeMouseOver:k,nodeMouseOut:m,selectObject:O,deselectObject:j,deselectAll:w,updateDetail:D,hovered:function(){return g},selectOrder:function(){return y},somethingSelected:P,clickConsumed:T,selectionContext:A,reselect:_,setLionBundle:function(e){b=e}}}])}();
!function(){"use strict";var u,x,i,E,r,m,o,h="TopoSpriteService: ",n=20;function g(e){var s={},n=[];e.forEach(function(e){var t,a="spr_"+e.tag;e.glyph||(s["_"+a]=e.viewbox||"0 0 1000 1000",s[a]=(t=e.d,x.isA(t)?t.join(""):t),n.push(a))}),i.registerGlyphs(s),i.loadDefs(o,n,!0)}function R(e,t){var a;e&&(a={},angular.forEach(e,function(e,t){a["stroke-"+t]=e}),t.style(a))}function k(e,t){t.classed("fill-"+e,!0)}function v(e){var t=e.class||"gray1",a=e.pos||[0,0],s=e.size||1;m.append("g").classed(t,!0).attr("transform",E.translate(a)).append("text").text(e.text).style("font-size",n*s+"pt")}function p(e){u.debug(h+"Registered sprite definitions:",e.names)}function f(e){var t,a,s,n,i,r,o,p,f,l=e.data,S={},b={},c=[];function d(e){c.push(s+"No "+e+" property defined")}l?(t=l.defn_name,a=l.defn_desc,o=l.paths,p=l.defn,f=l.load,s=h+"["+t+"]: ",u.debug("Loading sprites...["+t+"]",a),o||d("paths"),p||d("defn"),f||d("load"),c.length?u.error(c.join("\n")):(g(o),o.forEach(function(e){S[e.tag]={s:e.stroke,u:e.glyph||"spr_"+e.tag}}),p.forEach(function(e){b[e.id]=e}),n=f.sprites,i=f.labels,(r=f.alpha)&&m.style("opacity",r),n&&n.forEach(function(e){var t,a,s,n,i,r,o,p,f,l,c,d,u,h,g,v,y=b[e.id];t=e,o=(s=S)[(a=y).path],p=t.class||"gray1",f=t.pos||[0,0],l=t.label,c=a.dim||[40,40],d=c[0],u=c[1],h=a.labelyoff||1,g=a.scale,v=E.translate(f),g&&(v+=E.scale(g,g)),n=m.append("g").classed(p,!0).attr("transform",v),i={width:d,height:u,"xlink:href":"#"+o.u},r=n.append("use").attr(i),R(o.s,r),k(a.fill,r),x.isA(a.subpaths)&&a.subpaths.forEach(function(e){o=s[e.path],i={width:d,height:u,"xlink:href":"#"+o.u,transform:E.translate(e.pos)},r=n.append("use").attr(i),R(o.s,r),k(a.subpathfill,r)}),l&&n.append("text").text(l).attr({x:d/2,y:u*h})}),i&&i.forEach(v))):u.warn(h+"No sprite data loaded.")}function l(e,t,a){var s=a||"sprites";m=e,o=t,u.info(h+"Requesting sprite definition ["+s+"]..."),r.sendEvent("spriteListRequest"),r.sendEvent("spriteDataRequest",{name:s})}angular.module("ovTopo").factory("TopoSpriteService",["$log","FnService","GlyphService","SvgUtilService","WebSocketService",function(e,t,a,s,n){return u=e,x=t,i=a,E=s,r=n,{loadSprites:l,spriteListResponse:p,spriteDataResponse:f}}])}();
!function(){"use strict";var d,l,s,a,c,g,r,i,n,u,f,b,m,p=function(e){return"#ttbar#"+e+"#"},e="topo-tbar",v="topo_prefs",o="switchOverlayActions: ",y="************",h={O:{id:"summary-tog",gid:"m_summary",isel:!0},I:{id:"instance-tog",gid:"m_uiAttached",isel:!0},D:{id:"details-tog",gid:"m_details",isel:!0},H:{id:"hosts-tog",gid:"m_endstation",isel:!1},M:{id:"offline-tog",gid:"m_switch",isel:!0},P:{id:"ports-tog",gid:"m_ports",isel:!0},B:{id:"bkgrnd-tog",gid:"m_map",isel:!1},G:{id:"bkgrnd-sel",gid:"m_selectMap"},S:{id:"sprite-tog",gid:"m_cloud",isel:!1},Z:{id:"oblique-tog",gid:"m_oblique",isel:!1},N:{id:"filters-btn",gid:"m_filters"},L:{id:"cycleLabels-btn",gid:"m_cycleLabels"},R:{id:"resetZoom-btn",gid:"m_resetZoom"},E:{id:"eqMaster-btn",gid:"m_eqMaster"}},_=["T","backSlash","slash","X"];_=_.concat(d3.map(h).keys());var T={insts:1,summary:1,detail:1,hosts:0,offdev:1,dlbls:0,hlbls:0,porthl:1,bg:0,spr:0,ovid:"traffic",toolbar:0},t={summary:"O",insts:"I",detail:"D",hosts:"H",offdev:"M",porthl:"P",bg:"B",spr:"S"};function O(e){r=e,function(){u=a.asNumbers(a.getPrefs(v,T),["ovid"],!0),d.debug("TOOLBAR---- read prefs state:",u),u||(u=angular.extend({},T),a.setPrefs(v,u),d.debug("TOOLBAR---- Set default prefs state:",u));angular.forEach(t,function(e,t){var o=h[e];o&&(o.isel=!!u[t])})}()}function S(e){return function(){return(l.isF(e.tt)?e.tt():e.tt)+" ("+e.key+")"}}function k(e){var t=n.get(e);t.btn=i.addButton(t.id,t.gid,t.cb,S(t))}function P(e,t){var o=n.get(e);t&&l.isMobile()||(o.tog=i.addToggle(o.id,o.gid,o.isel,o.cb,S(o)))}function w(n,s){var a=[],e=l.isO(s)||{},t=l.isA(e._keyOrder)||[];s&&!s._keyOrder?d.warn(o+"no _keyOrder property defined"):["esc","_keyListener","_helpFormat"].forEach(function(e){l.removeFromArray(e,t)}),g.closeDialog(),f.clear(),x("ovid",n),t.length?(f.classed("right",!1),angular.forEach(t,function(t){var o,e,i,r;-1<_.indexOf(t)?a.push(t):(o=s[t],e=n+"-"+t,i=c.mkGlyphId(n,o.gid),r=function(){var e=o.tt;return(l.isF(e)?e():e)+" ("+t+")"},f.addButton(e,i,o.cb,r))}),r.setUpKeys(s)):(f.setText(y),f.classed("right",!0),r.setUpKeys()),a.length&&d.warn(o+"Prohibited key bindings ignored:",a)}function L(){(n=d3.map(h)).forEach(function(e,t){var o=r.getActionEntry(e),i=o[1];t.key=e,t.cb=o[0],t.tt=function(){return l.isF(i)?i():""+i}}),i=s.createToolbar(e),P("I"),P("O"),P("D"),i.addSeparator(),P("H"),P("M"),P("P",!0),P("B"),k("G"),P("S",!0),i.addRow(),P("Z"),k("N"),k("L"),k("R"),i.addSeparator(),k("E"),function(){i.addSeparator();var e=[{gid:"m_unknown",tooltip:p("ov_tt_none"),cb:function(){c.tbSelection(null,w)}}];m=c.augmentRbset(e,w),b=i.addRadioSet("topo-overlays",e)}(),(f=i.addRow()).setText(y),f.classed("right",!0),u.toolbar?i.show():i.hide()}function B(){s.destroyToolbar(e),c.resetOnToolbarDestroy()}function R(e){var t=n.get(e);t&&t.tog&&t.tog.toggleNoCb()}function x(e,t){var o=a.getPrefs(v,T);o[e]=void 0===t?!o[e]:t,a.setPrefs("topo_prefs",o)}function A(){i.toggle(),x("toolbar")}function E(e){e?i.show():i.hide()}function I(e){var t=m.traffic||0,o=null===e?0:m[e]||-1;0<=o&&o<b.size()&&(t=o),b.selectedIndex(t)}function M(e){e<b.size()&&e!==b.selectedIndex()&&b.selectedIndex(e)}angular.module("ovTopo").factory("TopoToolbarService",["$log","FnService","ToolbarService","PrefsService","TopoOverlayService","TopoDialogService",function(e,t,o,i,r,n){return d=e,l=t,s=o,a=i,c=r,g=n,{init:O,createToolbar:L,destroyToolbar:B,keyListener:R,toggleToolbar:A,setToolbar:E,selectOverlay:I,defaultPrefs:T,fnkey:M,setLionBundle:function(e){p=e}}}])}();
!function(){"use strict";var s,l,i,r,n=function(t){return"#ttraf#"+t+"#"},t=["flowStatsBytes","portStatsBitSec","portStatsPktSec"],e=[],f=null,o=null,a=0;function c(t){s.debug("topoTraffic: setting Lion bundle"),e=[(n=t)("tr_fl_fstats_bytes"),n("tr_fl_pstats_bits"),n("tr_fl_pstats_pkts")]}function d(t){"flows"===f?u():"intents"===f&&(t&&"intents"!==o||v())}function u(){var t=r.hovered();r.somethingSelected()&&i.sendEvent("requestDeviceLinkFlows",{ids:r.selectOrder(),hover:"flows"===o&&t&&"device"===t.class?t.id:""})}function v(){var t=r.hovered();r.somethingSelected()&&i.sendEvent("requestRelatedIntents",{ids:r.selectOrder(),hover:"intents"!==o||!t||"host"!==t.class&&"device"!==t.class&&"link"!==t.class?"":t.id})}function _(t){return!(!f||!t&&"allFlowPort"===f)&&(f=o=null,i.sendEvent("cancelTraffic"),l.flash(n("fl_monitoring_canceled")),!0)}function h(){f="allFlowPort",o=null,i.sendEvent("requestAllTraffic",{trafficType:t[a]}),l.flash(e[a]),a=(a+1)%3}function p(){f=o="flows",u(),l.flash(n("tr_fl_dev_flows"))}function I(){f=o="intents",v(),l.flash(n("tr_fl_rel_paths"))}function w(){"intents"===f&&(o=null,i.sendEvent("requestPrevRelatedIntent"),l.flash(n("tr_fl_prev_rel_int")))}function g(){"intents"===f&&(o=null,i.sendEvent("requestNextRelatedIntent"),l.flash(n("tr_fl_next_rel_int")))}function m(){"intents"===f&&(o=null,i.sendEvent("requestSelectedIntentTraffic"),l.flash(n("tr_fl_traf_on_path")))}function S(t){f="intents",o=null,i.sendEvent("selectIntent",t),l.flash(n("fl_selecting_intent")+" "+t.key)}function T(){var t=r.selectOrder();i.sendEvent("addHostIntent",{one:t[0],two:t[1],ids:t}),f="intents",o=null,l.flash(n("tr_fl_h2h_flow_added"))}function E(t){var e=n(t.intentPurge?"purged":"withdrawn");i.sendEvent("removeIntent",{appId:t.appId,appName:t.appName,key:t.key,purge:t.intentPurge}),f="intents",o=null,l.flash(n("intent")+" "+e)}function k(t){i.sendEvent("resubmitIntent",{appId:t.appId,appName:t.appName,key:t.key,purge:t.intentPurge}),f="intents",o=null,l.flash(n("intent")+" "+n("resubmitted"))}function y(){var t=r.selectOrder();i.sendEvent("addMultiSourceIntent",{src:t.slice(0,t.length-1),dst:t[t.length-1],ids:t}),f="intents",o=null,l.flash(n("tr_fl_multisrc_flow")+" "+n("added"))}function b(){i.sendEvent("removeIntents",{}),f="intents",o=null,l.flash(n("intents")+" "+n("purged"))}angular.module("ovTopo").factory("TopoTrafficService",["$log","FlashService","WebSocketService",function(t,e,n){return s=t,l=e,i=n,{initTraffic:function(t){r=t},destroyTraffic:function(){},cancelTraffic:_,showAllTraffic:h,showDeviceLinkFlows:p,showRelatedIntents:I,showPrevIntent:w,showNextIntent:g,showSelectedIntentTraffic:m,selectIntent:S,requestTrafficForMode:d,addHostIntent:T,addMultiSourceIntent:y,removeIntent:E,resubmitIntent:k,removeIntents:b,setLionBundle:c}}])}();
!function(){"use strict";var r,o,i,n=function(t){return"#ttrafov#"+t+"#"},c={overlayId:"traffic",glyphId:"m_allTraffic",tooltip:function(){return n("ov_tt_traffic")},activate:function(){r.debug("Traffic overlay ACTIVATED")},deactivate:function(){i.cancelTraffic(!0),r.debug("Traffic overlay DEACTIVATED")},buttons:{showDeviceFlows:{gid:"m_flows",tt:function(){return n("tr_btn_show_device_flows")},cb:function(t){i.showDeviceLinkFlows()}},showRelatedTraffic:{gid:"m_relatedIntents",tt:function(){return n("tr_btn_show_related_traffic")},cb:function(t){i.showRelatedIntents()}}},keyBindings:{0:{cb:function(){i.cancelTraffic(!0)},tt:function(){return n("tr_btn_cancel_monitoring")},gid:"m_xMark"},A:{cb:function(){i.showAllTraffic()},tt:function(){return n("tr_btn_monitor_all")},gid:"m_allTraffic"},F:{cb:function(){i.showDeviceLinkFlows()},tt:function(){return n("tr_btn_show_dev_link_flows")},gid:"m_flows"},V:{cb:function(){i.showRelatedIntents()},tt:function(){return n("tr_btn_show_all_rel_intents")},gid:"m_relatedIntents"},leftArrow:{cb:function(){i.showPrevIntent()},tt:function(){return n("tr_btn_show_prev_rel_intent")},gid:"m_prev"},rightArrow:{cb:function(){i.showNextIntent()},tt:function(){return n("tr_btn_show_next_rel_intent")},gid:"m_next"},W:{cb:function(){i.showSelectedIntentTraffic()},tt:function(){return n("tr_btn_monitor_sel_intent")},gid:"m_intentTraffic"},_keyOrder:["0","A","F","V","leftArrow","rightArrow","W"]},hooks:{escape:function(){return i.cancelTraffic(!0)},empty:function(){i.cancelTraffic()},single:function(t){i.requestTrafficForMode()},multi:function(t){i.requestTrafficForMode(),o.addDetailButton("showRelatedTraffic")},mouseover:function(t){i.requestTrafficForMode(!0)},mouseout:function(){i.requestTrafficForMode(!0)},acceptIntent:function(t){return!t.startsWith("Protected")},showIntent:function(t){r.debug("^^ trafficOverlay.showintent() ^^",t),i.selectIntent(t)},injectLion:function(t){n=t,i.setLionBundle(t)}}};angular.module("ovTopo").run(["$log","TopoOverlayService","TopoTrafficService",function(t,n,e){r=t,i=e,(o=n).register(c)}])}();
!function(){"use strict";var O,$,k,A,B,E,F,G,H,L,Z,P,R,U,V,W,X,Y,j,q;function x(e){return k.isMobile()||e.metaKey||e.altKey}function J(){var e=q.scale(),o=q.translate(),t=isNaN(e)?{useCfg:1}:{scale:e,offsetX:o[0],offsetY:o[1]};U.zoomCallback(e,o),E.sendEvent("updateMeta2",{id:"layoutZoom",memento:t})}angular.module("ovTopo2",["onosUtil","onosSvg","onosRemote"]).controller("OvTopo2Ctrl",["$scope","$log","$location","FnService","MastService","KeyService","GlyphService","MapService","SvgUtilService","FlashService","WebSocketService","ThemeService","Topo2EventService","Topo2ForceService","Topo2InstanceService","Topo2BreadcrumbService","Topo2KeyCommandService","Topo2MapService","Topo2ZoomService","Topo2SpriteLayerService","Topo2SummaryPanelService","Topo2DeviceDetailsPanel","Topo2ToolbarService","Topo2NoDevicesConnectedService","Topo2OverlayService","Topo2TrafficService",function(e,o,t,i,n,r,a,s,c,p,v,l,d,S,y,m,T,u,f,h,g,b,z,w,C,D){var K,M,N=t.search(),I={zoomLayer:function(){return j},zoomer:function(){return q}};O=e,$=o,k=i,A=n,B=r,E=v,F=a,G=c,H=d,L=S,Z=y,P=m,R=T,U=u,V=f,N.intentKey&&N.intentAppId&&N.intentAppName&&(O.intentData={key:N.intentKey,appId:N.intentAppId,appName:N.intentAppName,intentType:N.intentType}),O.notifyResize=function(){var e;e=k.windowSize(A.mastHeight()),L.newDim([e.width,e.height])},O.$on("$destroy",function(){$.log("OvTopo2Ctrl is saying Buh-Bye!"),H.stop(),B.unbindKeys(),L.destroy(),Z.destroy(),g.destroy(),b.destroy()}),W=d3.select("#ov-topo2"),X=W.select("svg"),M=k.windowSize(A.mastHeight()),$.debug("setting topo SVG size to",M),X.attr(M),K=[M.width,M.height],j=X.append("g").attr("id","topo2-zoomlayer"),q=V.createZoomer({svg:X,zoomLayer:j,zoomEnabled:x,zoomCallback:J}),Y=X.append("defs"),F.loadDefs(Y),G.loadGlowDefs(Y),w.init(),H.bindHandlers(),P.init(),R.init(L,z,X),Z.initInst({showMastership:L.showMastership}),L.init(X,void 0,I,K,q),C.setOverlay("traffic-2-overlay"),g.init(b),b.init(g),H.start(),$.log("OvTopo2Ctrl has been created")}])}();
!function(){var g,t;function i(o,e){var n=o.usr,t=o.cfg;return!n||n.useCfg||e?t:n}function u(o,e){var n=i(o,e);return[n.offsetX,n.offsetY]}function p(o,e){return i(o,e).scale}angular.module("ovTopo2").factory("Topo2BackgroundService",["$log","Topo2ViewController","Topo2SpriteLayerService","Topo2MapService","Topo2MapConfigService","Topo2ZoomService",function(o,e,i,a,r,d){g=o;var n=e.extend({id:"topo2-background",displayName:"Background",init:function(){(t=this).appendElement("#topo2-zoomlayer","g"),i.init(),a.init(),this.zoomer=d.getZoomer()},addLayout:function(o){this.background=o,this.bgType=o.bgType,this.bgId=o.bgId,this.zoomData=o.bgZoom;var e=this,n=u(this.zoomData),t=p(this.zoomData);"geo"===this.bgType?(i.hide(),a.show(),a.setUpMap(o.bgId,o.bgFilePath).then(function(o){r.projection(o),g.debug("** We installed the projection:",o),e.region.loaded("bgRendered",!0),d.panAndZoom(n,t,1e3)})):"grid"===this.bgType?(a.hide(),i.show(),i.loadLayout(o.bgId).then(function(o){e.background.layout=o,e.region.loaded("bgRendered",!0),d.panAndZoom(n,t,1e3)})):(a.hide(),i.hide(),e.region.loaded("bgRendered",!0),d.panAndZoom([0,0],1))},getBackgroundType:function(){return this.bgType},resetZoom:function(){var o=u(this.zoomData,!0);d.panAndZoom(o,p(this.zoomData,!0),1e3)}});return t||new n}])}();

!function(){"use strict";var n,r,a;function t(){a=[],(r=d3.select("#breadcrumbs")).append("span").text("Regions: "),c()}function i(e){r.selectAll(".breadcrumb").remove(),a=e.reverse(),c()}function o(e,t){t!==a.length-1&&(a.splice(t+1),n.navigateToRegion(e.id),c())}function c(){var e=r.selectAll(".breadcrumb").data(a);e.enter().append("div").attr("class","breadcrumb").on("click",o).append("a").text(function(e){return e.name}),e.exit().transition().duration(200).style("opacity",0).remove()}function d(){d3.select("body").classed("breadcrumb--hidden",!0);var t=d3.interpolateString("translate(0px,0%)","translate(0px,-100%)");r.transition().duration(600).style("opacity",0).styleTween("transform",function(e){return t})}function u(e){}angular.module("ovTopo2").factory("Topo2BreadcrumbService",["Topo2RegionNavigationService",function(e){return n=e,{init:t,addBreadcrumb:i,addLayout:u,hide:d}}])}();
!function(){"use strict";var o;function e(t,i){var o=i||{};this.models=[],this._reset(),this.initialize.apply(this,arguments),o.comparator&&(this.comparator=o.comparator),t&&this.add(t)}e.prototype={model:o,initialize:function(){},addModel:function(t){if(Object.getPrototypeOf(t)!==Object.prototype)return this.models.push(t),(t.collection=this)._byId[t.get("id")]=t;if(this._byId[t.id])return this._byId[t.id];var i=new this.model(t,this);return(i.collection=this).models.push(i),this._byId[t.id]=i},add:function(t){var i=this;if(!angular.isArray(t))return this.addModel(t);t.forEach(function(t){i.addModel(t)})},remove:function(t){var i=_.indexOf(this.models,t);this.models.splice(i,1)},get:function(t){return t&&this._byId[t]||null},sort:function(){var t=this.comparator;return t=t.bind(this),this.models.sort(t),this},filter:function(t){return _.filter(this.models,t)},empty:function(){_.map(this.models,function(t){t.remove()}),this._reset()},_reset:function(){this._byId=[],this.models=[]},toJSON:function(i){return this.models.map(function(t){return t.toJSON(i)})}},angular.module("ovTopo2").factory("Topo2Collection",["Topo2Model","FnService",function(t,i){return e.extend=i.extend,o=t,e}])}();
!function(){"use strict";var n,i,o,l,a=!0,s="topo2-p",r={width:260};function u(e){if(o)return o;l=e;var t=angular.extend({},r,{class:s});return(o=new(n=n.extend({up:function(){o.el.el().transition().duration(750).style("top","64px")},down:function(e,t){o.el.el().transition().duration(750).style("top",e+84+"px").each("end",t)},show:function(){if(a){var e=l.getInstance(),t=0;e.isVisible()&&(t=e.el.bbox().height,t+=20),o.el.el().style("top",64+t+"px"),o.el.show()}},hide:function(){o.el.hide()},toggleUseDetailsFlag:function(e){var t;return t=(a="keyev"===e?!a:!!e)?"Enable":"Disable",a?this.show():this.hide(),i.flash(t+" details panel"),a}}))("topo2-p-detail",t)).el.classed(s,!0),o}angular.module("ovTopo2").factory("Topo2DetailsPanelService",["Topo2PanelService","FlashService",function(e,t){return n=e,i=t,u}])}();
!function(){"use strict";var n,o,l={switch:"m_switch",virtual:"cord"};function c(e){var t=n.extend({model:o}),i=[];return e.forEach(function(e){e.forEach(function(e){i.push(e)})}),new t(i)}angular.module("ovTopo2").factory("Topo2DeviceService",["Topo2Collection","Topo2NodeModel","Topo2DeviceDetailsPanel","PrefsService",function(e,t,i,s){return n=e,o=t.extend({nodeType:"device",multiSelectEnabled:!0,events:{click:"onClick"},initialize:function(){this.super=this.constructor.__super__,this.super.initialize.apply(this,arguments)},onChange:function(){this.el&&(this.el.attr("class",this.svgClassName()),this.el.select(".icon-rect").style("fill",this.devGlyphColor()),this.setOfflineVisibility())},icon:function(){var e=this.get("type");return l[e]||e||"unknown"},showDetails:function(){var e=this.get("id"),t=this.get("nodeType");i.updateDetails(e,t),i.show()},displayMastership:function(){var e=this.mastershipService.mastership(),t=!!e&&this.get("master")!==e;this.set({mastership:t})},setOfflineVisibility:function(){var e=s.getPrefs("topo2_prefs").offline_devices,t=this.get("online")||e;this.el.style("visibility",t?"visible":"hidden")},onExit:function(){var e=this.el;e.select("use").style("opacity",.5).transition().duration(800).style("opacity",0),e.selectAll("rect").style("stroke-fill","#555").style("fill","#888").style("opacity",.5)}}),{createDeviceCollection:c}}])}();
!function(){"use strict";var s,r,l,p,h,u,v,w,f,g="topo2-p-detail",n="device",t={showDetails:function(e){var t=u.isA(e.buttons)||[];(function(e){f.emptyRegions();var t=f.appendToHeader("div").classed("icon clickable",!0).append("svg"),i=f.appendToHeader("h2").on("click",function(){v.navTo(n,{devId:e.id})}).classed("clickable",!0),o=f.appendToBody("table").append("tbody");r.addGlyph(t,e.glyphId||"m_unknown",26),i.text(e.title),w.listProps(o,e),f.appendToFooter("hr"),f.appendToFooter("div").classed("actionBtns",!0)})(e),function(e,t,d){e.forEach(function(e){var t,i,o=b[e],n=o&&o.gid,a=o&&o.tt,c=o&&o.path;o&&(t={id:"core-"+e,gid:n,tt:a,cb:function(){v.navTo(c,{devId:d})}},i=d3.select("#"+g).select(".actionBtns").append("div").classed("actionBtn",!0),h.button(i,g+"-"+t.id,t.gid,t.cb,t.tt))})}(t,0,e.id)}},b={showDeviceView:{gid:"switch",tt:"Show Device View",path:"device"},showFlowView:{gid:"flowTable",tt:"Show Flow View for this Device",path:"flow"},showPortView:{gid:"portTable",tt:"Show Port View for this Device",path:"port"},showGroupView:{gid:"groupTable",tt:"Show Group View for this Device",path:"group"},showMeterView:{gid:"meterTable",tt:"Show Meter View for this Device",path:"meter"}};function S(e){l.bindHandlers(t),f=s(e)}function T(e){f.emptyRegions();var t=f.appendToHeader("h3"),d=f.appendToBody("table").append("tbody");t.text("Selected Items"),e.forEach(function(e,t){function i(e,t){c.append("td").attr("class",e).text(t)}var o,n,a,c;o=d,n=t+1,a=e.get("id"),c=o.append("tr"),i("label",("string"==typeof n?n.replace(/_/g," "):n)+" :"),i("value",a)}),V()}function y(e,t){l.sendEvent("requestDetails",{id:e,class:t})}function D(){var e=f.el.toggle()?"Show":"Hide";p.flash(e+" Details Panel")}function V(){f.show()}function m(){f.el.hide()}function B(){l.unbindHandlers(t),f.destroy()}angular.module("ovTopo2").factory("Topo2DeviceDetailsPanel",["Topo2DetailsPanelService","GlyphService","WebSocketService","FlashService","ButtonService","FnService","NavService","ListService",function(e,t,i,o,n,a,c,d){return s=e,r=t,l=i,p=o,h=n,u=a,v=c,w=d,{init:S,updateDetails:y,showMulti:T,toggle:D,show:V,hide:m,destroy:B,isVisible:function(){return f.isVisible()},getInstance:function(){return f}}}])}();
!function(){"use strict";var r,p,s,i,o;function e(o,e){r.debug("topo2Event: WSopen - cluster node:",o,"URL:",e),p.sendEvent("topo2Start")}function d(){p.bindHandlers(i),r.debug("topo2 event handlers bound")}function u(){o=p.addOpenListener(e),p.sendEvent("topo2Start"),r.debug("topo2 comms started")}function c(){p.sendEvent("topo2Stop"),p.unbindHandlers(i),p.removeOpenListener(o),o=null,r.debug("topo2 comms stopped")}angular.module("ovTopo2").factory("Topo2EventService",["$log","WebSocketService","Topo2ForceService","Topo2OverlayService",function(o,e,t,n){return r=o,p=e,i={topo2AllInstances:s=t,topo2CurrentLayout:s,topo2CurrentRegion:s,topo2PeerRegions:s,topo2UiModelEvent:s,topo2Highlights:n.showHighlights},{bindHandlers:d,start:u,stop:c}}])}();
!function(){"use strict";var f,v,l,S,T,h,y,L,b,m,R,E,c,u,s,d,p;function k(o,e,n,t,i,r){var a;c=o,u=n,s=t,p=i,d=r,m.init(),m.region=T,h.init(c,u,s,p,d),L.addLayout(h),b.init(c,p),(b.region=T).layout=h,E.region=T,R.init(),a=v.search().regionId,f.debug("navToBookmarkedRegion:",a),a&&(l.sendEvent("topo2navRegion",{rid:a}),h.createForceElements(),h.transitionDownRegion())}function w(){R.destroy(),f.debug("Destroy topo force layout")}function N(o){f.debug(">> topo2AllInstances event:",o),S.allInstances(o)}function C(o){f.debug(">> topo2CurrentLayout event:",o),T.clear(),L.addBreadcrumb(o.crumbs),m.addLayout(o)}function D(o){f.debug(">> topo2CurrentRegion event:",o),T.loaded("regionData",o)}function I(o){f.debug(">> topo2PeerRegions event:",o),T.loaded("peers",o.peers)}function B(o){T.update(o)}function M(o){o?showMastershipFor(o):suppressLayers(!1)}function F(o){s=o,y.newDim(s)}function o(o){angular.forEach(o,function(o){o.update()})}function P(){o(T.regionNodes())}function A(){o(T.regionLinks())}function Z(){var o=T.filterRegionNodes(function(o){return o.get("hovered")});angular.forEach(o,function(o){o.resetPosition()})}function $(){var o=T.filterRegionNodes(function(o){return o.get("hovered")});angular.forEach(o,function(o){o.fix(!1)}),h.start()}angular.module("ovTopo2").factory("Topo2ForceService",["$log","$location","WebSocketService","Topo2InstanceService","Topo2RegionService","Topo2LayoutService","Topo2ViewService","Topo2BreadcrumbService","Topo2ZoomService","Topo2SelectService","Topo2BackgroundService","Topo2ToolbarService","Topo2MastershipService",function(o,e,n,t,i,r,a,c,u,s,d,p,g){f=o,v=e,l=n,S=t,T=i,h=r,y=a,L=c,b=s,m=d,R=p,E=g;return u.addZoomEventListener(function(){if(T.isLoadComplete()){var o=[].concat(T.regionNodes(),T.regionLinks());angular.forEach(o,function(o){o.setScale()})}}),{init:k,newDim:F,destroy:w,topo2AllInstances:N,topo2CurrentLayout:C,topo2CurrentRegion:D,topo2UiModelEvent:B,showMastership:M,topo2PeerRegions:I,updateNodes:P,updateLinks:A,resetNodeLocation:Z,unpin:$}}])}();
!function(){"use strict";var r,c,h=15,p={};function u(t,e){var i=r.extend({model:c}),s=[];return t.forEach(function(t){t.forEach(function(t){s.push(t)})}),new i(s)}angular.module("ovTopo2").factory("Topo2HostService",["Topo2Collection","Topo2NodeModel","Topo2ViewService","IconService","Topo2ZoomService","Topo2HostsPanelService","PrefsService","Topo2PrefsService",function(t,e,i,s,n,o,l,a){return r=t,c=e.extend({nodeType:"host",events:{click:"onClick"},initialize:function(){this.super=this.constructor.__super__,this.super.initialize.apply(this,arguments)},onChange:function(){this.el&&this.el.attr("class",this.svgClassName())},showDetails:function(){o.displayPanel(this)},icon:function(){var t=this.get("type");return p[t]||t||"m_endstation"},title:function(){return this.get("props").name||this.get("ips")[0]||"unknown"},labelIndex:function(){return a.get("hlbls")},label:function(){var t=this.get("props"),e=this.get("ips")[0]||"unknown",i=["",(t&&t.name?t.name:e)||e,e,this.get("id")],s=this.labelIndex();return i[s<i.length?s:0]},updateLabel:function(){var t,e=this.el,i=this.trimLabel(this.label());e.select("text").text(i),t=_.isEmpty(this.label())?0:this.computeLabelWidth(e)+40,e.select("rect").transition().attr({width:t})},setScale:function(){if(this.el){var t=1;15*n.scale()<8?t=8/(15*n.scale()):15<15*n.scale()&&(t=15/(15*n.scale())),this.el.select("g").selectAll("*").style("transform","scale("+t+")")}},setVisibility:function(){var t=l.getPrefs("topo2_prefs").hosts;this.el.style("visibility",t?"visible":"hidden")},onEnter:function(t){var e=d3.select(t),i=this.icon(),s=(this.el=e).append("g").attr("class","svgIcon hostIcon"),n=s.append("rect").attr({width:0,height:30,y:-h});s.append("circle").attr("r",h);var o=22.5;s.append("use").attr({"xlink:href":"#"+i,width:o,height:o,x:-o/2,y:-o/2});var l=this.label();s.append("text").text(l).attr("dy",5).attr("dx",30).attr("text-anchor","left"),this.setScale(),this.setUpEvents(),this.setVisibility();var a=_.isEmpty(this.label())?0:this.computeLabelWidth(e)+40;n.attr({width:a})}}),{createHostCollection:u}}])}();
!function(){"use strict";var r,a,l,d,s,p,t,n="host";function c(){p=r()}function u(e){var o,i;c(),i={title:(o=e).title(),propOrder:["MAC","IP","VLAN","Configured"],propLabels:{MAC:"MAC",Configured:"Configured",IP:"IP",VLAN:"VLAN"},propValues:{"-":"",MAC:o.get("id"),IP:o.get("ips")[0],VLAN:"None",Configured:o.get("configured")}},o.get("location")&&(i.propOrder.push("-","Latitude","Longitude"),i.props.Latitude=o.get("location").lat,i.props.Longitude=o.get("location").lng),t=i,function(){p.show(),p.emptyRegions();var e=p.appendToHeader("div").classed("icon",!0).append("svg"),o=p.appendToHeader("h2").on("click",function(){s.navTo(n,{hostId:t.title})}).classed("clickable",!0),i=p.appendToBody("table").append("tbody");o.text(t.title),a.addGlyph(e,"bird",24,0,[1,1]),d.listProps(i,t)}()}function g(){p.show()}function f(){p.el.hide()}function h(){var e=p.el.toggle()?"Show":"Hide";l.flash(e+" host Panel")}function v(){p.destroy()}angular.module("ovTopo2").factory("Topo2HostsPanelService",["Topo2DetailsPanelService","GlyphService","FlashService","ListService","NavService",function(e,o,i,t,n){return r=e,a=o,l=i,d=t,s=n,{displayPanel:u,init:c,show:g,hide:f,toggle:h,destroy:v,isVisible:function(){return p.isVisible()}}}])}();
!function(){"use strict";var l,d,r,h,o,u,f,a,p,v,c=!0,e="topo2-p-instance",t={edge:"left",width:20};function n(e){var t,n,i,s=e.id;if(a[s])return n=(t=e).id,void((i=a[n])?(angular.extend(i,t),y()):function(e){c&&l.warn("Topo2InstService: "+e)}('updateInstance: lookup fail: ID = "'+n+'"'));a[s]=e,p.push(e),y()}function i(e){var t,n,i=d3.select(this);i.classed("affinity")?(d3.selectAll(".onosInst").classed("mastership affinity",!1),f.setMastership(null)):(t=i,n=e,d3.selectAll(".onosInst").classed("mastership",!0).classed("affinity",!1),t.classed("affinity",!0),f.setMastership(n.id))}function g(e){h.addGlyph(e,"uiAttached",24,!0,[14,54]).classed("badgeIcon uiBadge",!0)}function y(){var a={width:170,height:85,viewBox:"0 0 170 85"},c={x:5,y:5,width:160,height:30},l={x:5,y:35,width:160,height:45},d={class:"instTitle",x:48,y:27},e=v.el().selectAll(".onosInst").data(p,function(e){return e.id});function o(e){return"Devices: "+e}e.each(function(e){var t=d3.select(this),n=t.select("svg");function i(e,t){n.select("text.instLabel."+e).text(t)}t.classed("online",e.online),t.classed("ready",e.ready),n.select("use.uiBadge").remove(),e.uiAttached&&g(n),i("ip",e.ip),i("ns",o(e.switches))}),e.enter().append("div").classed("onosInst",!0).classed("online",function(e){return e.online}).classed("ready",function(e){return e.ready}).on("click",i).each(function(e){var t,n=d3.select(this).append("svg").attr(a);n.append("rect").attr(c),n.append("rect").attr(l),h.addGlyph(n,"bird",20,!1,[15,10]).classed("badgeIcon bird",!0),t=n,h.addGlyph(t,"checkMark",16,!0,[18,40]).classed("badgeIcon readyBadge",!0),e.uiAttached&&g(n),n.append("text").attr(d).text(e.id);var i=55;function s(e,t){n.append("text").attr({class:"instLabel "+e,x:48,y:i}).text(t),i+=18}s("ip",e.ip),s("ns",o(e.switches))}),e.each(function(e){var t,n,i=d3.select(this).select("svg").select("rect"),s=(t=e.id,n=e.online,r.cat7().getColor(t,!n,u.theme()));i.style("fill",s)}),v.width(a.width*p.length),v.height(a.height),e.exit().remove()}function w(){(v=d.createPanel(e,t)).show(),a={},p=[],u.addListener(y)}function x(e){l.debug("Update all instances",e),e.members.forEach(function(e){n(e)})}function I(e){var t,n;return"keyev"===e?t=v.toggle():(t=Boolean(e))?v.show():v.hide(),n=t?"Show":"Hide",o.flash(n+" instances panel"),t}function b(){u.removeListener(y),d.destroyPanel(e),v=null,a={},p=[]}angular.module("ovTopo2").factory("Topo2InstanceService",["$log","PanelService","SvgUtilService","GlyphService","FlashService","ThemeService","Topo2MastershipService",function(e,t,n,i,s,a,c){return l=e,d=t,r=n,h=i,o=s,u=a,f=c,{initInst:w,allInstances:x,destroy:b,toggle:I,isVisible:function(){return v.isVisible()}}}])}();
!function(){var v,S,p,y,b,m,T,P,w,k,H,L,t,i,F,s,N;function l(){return{L:[c,"Cycle device labels"],B:[r,"Toggle background"],D:[f,"Toggle details panel"],I:[u,"Toggle ONOS Instance Panel"],O:[g,"Toggle the Summary Panel"],R:[d,"Reset pan / zoom"],P:[h,"Toggle Port Highlighting"],E:[R,"Equalize mastership roles"],X:[A,"Reset Node Location"],U:[C,"Unpin node (mouse over)"],H:[O,"Toggle host visibility"],M:[U,"Toggle offline visibility"],dot:[D,"Toggle Toolbar"],"shift-L":[a,"Cycle host labels"],9:function(){N.cat7().testCard(s)},esc:e,F1:function(){i.fnKey(0)},F2:function(){i.fnKey(1)},F3:function(){i.fnKey(2)},F4:function(){i.fnKey(3)},F5:function(){i.fnKey(4)},_keyListener:i.keyListener.bind(i),_helpFormat:[["I","O","D","H","M","P","dash","B"],["X","Z","N","L","shift-L","U","R","E","dot"],[]]}}function E(e,n,o){t=e,i=n,s=o,K()}function K(e){var o=l(),n=S.isO(e);n&&_.each(n,function(e,n){_.startsWith(n,"_")||(o[n]?v.warn("keybind: "+n+" already exists"):o[n]=[e.cb,e.tt])}),p.keyBindings(o),p.gestureNotes([["click","Select the item and show details"],["shift-click","Toggle selection state"],["drag","Reposition (and pin) device / host"],["cmd-scroll","Zoom in / out"],["cmd-drag","Pan"]])}function e(){L.deselectAllNodes()||L.deselectLink()||(w.isVisible()?w.toggle():k.isVisible()&&k.toggle())}var o={};function n(e,n){o[e]=n?1:0,P.setPrefs("topo2_prefs",o)}function c(){var e=(m.get("dlbls")+1)%3;m.set("dlbls",e),t.updateNodes(),y.flash(function(e){switch(e){case 0:return"Hide device labels";case 1:return"Show friendly device labels";case 2:return"Show device ID labels"}}(e))}function a(){var e=(m.get("hlbls")+1)%4;m.set("hlbls",e),t.updateNodes(),y.flash(function(e){switch(e){case 0:return"Hide host labels";case 1:return"Show friendly host labels";case 2:return"Show host IP labels";case 3:return"Show host MAC Address labels"}}(e))}function r(e){T.toggle(e)}function f(e){F().toggleUseDetailsFlag(e)}function u(e){n("insts",w.toggle(e))}function g(){k.toggle()}function d(){T.resetZoom(),y.flash("Pan and zoom reset")}function h(e){n("porthl",H.togglePortHighlights(e)),t.updateLinks()}function R(){b.sendEvent("equalizeMasters"),y.flash("Equalizing master roles")}function A(){t.resetNodeLocation(),y.flash("Reset node locations")}function C(){t.unpin(),y.flash("Unpin node")}function D(){i.toggle()}function I(e,n){y.flash(e+" "+n)}function O(){I(L.toggleHosts()?"Show":"Hide","Hosts")}function U(){I(L.toggleOfflineDevices()?"Show":"Hide","offline devices")}function z(e){v.warn("topo.js getActionEntry(): Not a valid "+e)}function M(e){var n;return e?(n=l()[e])?S.isA(n)||[n,""]:(z("actionMap ("+e+") entry"),null):(z("key"),null)}angular.module("ovTopo2").factory("Topo2KeyCommandService",["$log","FnService","KeyService","FlashService","WebSocketService","Topo2PrefsService","Topo2BackgroundService","PrefsService","Topo2InstanceService","Topo2SummaryPanelService","Topo2ViewService","Topo2RegionService","Topo2DetailsPanelService","SvgUtilService",function(e,n,o,t,i,s,l,c,a,r,f,u,g,d,h){return v=e,S=n,p=o,y=t,b=i,m=s,T=l,w=a,P=c,k=r,H=f,L=u,F=g,N=h,{init:E,bindCommands:K,getActionEntry:M}}])}();
!function(){var e={label:{text:{fill:"#000000"},rect:{fill:"#ffffff"}},icon:{glyph:{fill:"#000000"},rect:{fill:"#ffffff"}}};angular.module("ovTopo2").factory("Topo2Label",["Topo2Model","SvgUtilService","IconService","Topo2ZoomService",function(t,l,n,i){return t.extend({className:"topo2-label",_iconG:{},_labelG:{},initialize:function(t,e){this.parent=e,i.addZoomEventListener(this.setScale.bind(this)),this.beforeRender(),this.render(),this.afterRender()},onChange:function(t){if("x"!==t&&"y"!==t||this._position(),"label"===t){var e=this._labelG.text.node().getBBox().width+20,i=this._labelG.text.node().getBBox().height+10;this._labelG.text.text(this.get("label")),this._labelG.rect.attr({width:e,height:i}).style({transform:l.translate(-e/2+"px",-i/2+"px")})}},setPosition:function(){},setScale:function(){},applyStyles:function(){var t=_.extend({},e,this.get("styles")||{});this.get("label")&&(this._labelG.text.style(t.label.text),this._labelG.rect.style(t.label.rect)),this.get("icon")&&(this._iconG.glyph.style(t.icon.glyph),this._iconG.rect.style(t.icon.rect))},_position:function(){this.el.style("transform",l.translate(this.get("x")+"px",this.get("y")+"px"))},renderText:function(){this._labelG.el=this.content.append("g").attr("class","label-group"),this._labelG.rect=this._labelG.el.append("rect"),this._labelG.text=this._labelG.el.append("text").text(this.get("label")).attr("y","0.4em").style("text-anchor","middle"),this._labelG.rect.attr({width:this._labelG.text.node().getBBox().width+20,height:this._labelG.text.node().getBBox().height+10}).style({transform:l.translate("-50%","-50%")})},renderIcon:function(){var t=this._labelG.el.node().getBBox();this.iconSize=t.height,this._iconG.el=this.content.append("g").attr("class","icon-group"),this._iconG.rect=this._iconG.el.append("rect").attr({width:this.iconSize,height:this.iconSize}),this._iconG.glyph=n.addDeviceIcon(this._iconG.el,this.get("icon"),this.iconSize);var e=-t.width/2-this.iconSize+"px",i=-this.iconSize/2+"px";this._iconG.el.style({transform:l.translate(e,i)})},beforeRender:function(){},render:function(){this.el=this.parent.append("g").attr("class","topo2-label").style({transform:"translate(300px, 300px)"}),this.content=this.el.append("g").attr("class","topo2-label__content"),this.renderText(),this.get("icon")&&this.renderIcon(),this.applyStyles(),this.setPosition(),this.setScale()},afterRender:function(){},remove:function(){this.el.remove()}})}])}();
!function(){var n;angular.module("ovTopo2").factory("Topo2LabelCollection",["Topo2Collection",function(i){var o=i.extend({initialize:function(){n=this},addLabel:function(i,o,n,t){if(this._byId[o.id])this.get(o.id).set(o);else{var e=new i(o,n,t);this.add(e)}}});return n||new o}])}();
!function(){"use strict";var m,v,k={gravity:.4,friction:.7,charge:{device:-8e3,host:-2e4,region:-8e3,_def_:-12e3},linkDistance:{direct:100,optical:120,UiEdgeLink:100,_def_:50},linkStrength:{_def_:1}},L={baseColor:"#939598",inColor:"#66f",outColor:"#f00"},b=12;function x(){return!0}angular.module("ovTopo2").factory("Topo2LayoutService",["$log","$timeout","WebSocketService","SvgUtilService","Topo2RegionService","Topo2ViewService","Topo2SelectService","Topo2ZoomService","Topo2ViewController","Topo2RegionNavigationService",function(t,e,o,n,s,i,r,a,c,l){var d,h,u,f,g,p,y=c.extend({init:function(t,e,i,n,o,s){var r=(m=this).navigateToRegionHandler.bind(this);l.addListener("region:navigation-start",r),this.svg=t,this.createForceElements(),this.dim=n,this.zoomer=o,this.settings=angular.extend({},k,s),this.link=this.elements.linkG.selectAll(".link"),this.elements.linkLabelG.selectAll(".linkLabel"),this.node=this.elements.nodeG.selectAll(".node")},createForceElements:function(){this.prevForce=this.forceG,this.forceG=d3.select("#topo2-zoomlayer").append("g").attr("class","topo2-force"),this.elements={linkG:this.addElement(this.forceG,"topo2-links"),linkLabelG:this.addElement(this.forceG,"topo2-linkLabels"),numLinksLabels:this.addElement(this.forceG,"topo2-numLinkLabels"),nodeG:this.addElement(this.forceG,"topo2-nodes"),portLabels:this.addElement(this.forceG,"topo2-portLabels")}},addElement:function(t,e){return t.append("g").attr("class",e)},settingOrDefault:function(t,e){var i=e.get("nodeType");return this.settings[t][i]||this.settings[t]._def_},createForceLayout:function(){this.force=d3.layout.force().size(i.getDimensions()).gravity(this.settings.gravity).friction(this.settings.friction).charge(this.settingOrDefault.bind(this,"charge")).linkDistance(this.settingOrDefault.bind(this,"linkDistance")).linkStrength(this.settingOrDefault.bind(this,"linkStrength")).nodes([]).links([]).on("tick",this.tick.bind(this)).start(),this.drag=n.createDragBehavior(this.force,function(){},this.atDragEnd,this.dragEnabled.bind(this),x,a),this.update()},centerLayout:function(){d3.select("#topo2-zoomlayer").attr("data-layout",s.model.get("id"));var t=d3.select("#topo2-zoomlayer").node().getBBox(),e=this.forceG.node().getBBox(),i=(t.height-150)/e.height,n=t.width/2-(e.x+e.width/2)*i,o=t.height/2-(e.y+e.height/2)*i;a.panAndZoom([n,o],i,1e3)},setLinkPosition:function(t){t.setPosition.bind(t)()},tick:function(){this.node.attr({transform:function(t){var e=isNaN(t.x)?0:t.x,i=isNaN(t.y)?0:t.y;return n.translate(e,i)}}),this.link.each(this.setLinkPosition).attr("x1",function(t){return t.get("position").x1}).attr("y1",function(t){return t.get("position").y1}).attr("x2",function(t){return t.get("position").x2}).attr("y2",function(t){return t.get("position").y2})},start:function(){this.force.start()},update:function(){v&&e.cancel(v),v=e(this._update.bind(this),150)},_update:function(){this.updateNodes(),this.updateLinks(),this.force.start()},updateNodes:function(){var t=s.regionNodes();this.node=this.elements.nodeG.selectAll(".node").data(t,function(t){return t.get("id")}),this.node.enter().append("g").attr({id:function(t){return n.safeId(t.get("id"))},class:function(t){return t.svgClassName()},transform:function(t){return n.translate(t.node.x,t.node.y)},opacity:0}).call(this.drag).transition().attr("opacity",1).each(function(t){t.onEnter(this,t)}),this.force.nodes(t)},updateLinks:function(){var t=s.regionLinks();this.link=this.elements.linkG.selectAll(".link").data(t,function(t){return t.get("id")}),this.link.enter().append("line").call(this.calcPosition).attr({x1:function(t){return t.get("position").x1},y1:function(t){return t.get("position").y1},x2:function(t){return t.get("position").x2},y2:function(t){return t.get("position").y2},stroke:L.inColor,"stroke-width":b}).each(function(t){t.onEnter(this,t)}),this.link.exit().attr("stroke-dasharray","3 3").style("opacity",.5).transition().duration(1500).attr({"stroke-dasharray":"3 12"}).style("opacity",0).remove(),this.force.links(t)},calcPosition:function(){this.each(function(t){t.setPosition.bind(t)()})},sendUpdateMeta:function(t,e){var i,n={};e||(i=t.lngLatFromCoord([t.x,t.y]),n={x:t.x,y:t.y,equivLoc:{lng:i[0],lat:i[1]}}),t.metaUi=n,o.sendEvent("updateMeta2",{id:t.get("id"),class:t.get("class"),memento:n})},setDimensions:function(){this.force&&this.force.size(i.getDimensions())},dragEnabled:function(){var t=d3.event.sourceEvent;return!this.zoomingOrPanning(t)},zoomingOrPanning:function(t){return t.metaKey||t.altKey},atDragEnd:function(t){t.fix(!0),m.sendUpdateMeta(t),r.clickConsumed(!0)},transitionDownRegion:function(){this.prevForce.transition().duration(1500).style("opacity",0).remove(),this.forceG.style("opacity",0).transition().delay(500).duration(500).style("opacity",1).each("end",function(){l.navigateToRegionComplete()})},transitionUpRegion:function(){this.prevForce.transition().duration(1e3).style("opacity",0).remove(),this.forceG.style("opacity",0).transition().delay(500).duration(500).style("opacity",1).each("end",function(){l.navigateToRegionComplete()})},navigateToRegionHandler:function(){this.createForceElements(),this.transitionDownRegion()}});return m||new y(d,h,u,f,g,p)}])}();
!function(){"use strict";var u,p,g,f,y,v,x,m,b,k,L,S,s=1.4,n=d3.scale.linear().domain([1,12]).range([s,12*s]).clamp(!0),o={light:{baseColor:"#939598",inColor:"#66f",outColor:"#f00"},dark:{baseColor:"#939598",inColor:"#66f",outColor:"#f00"},inWidth:12,outWidth:10};function r(){var t=this.linkEndPoints(this.get("epA"),this.get("epB")),e=angular.extend({},t,{key:this.get("id"),class:"link",position:{x1:0,y1:0,x2:0,y2:0}});this.set(e)}function a(t){return"region"===t.get("nodeType")||t.get("online")}function l(t,e){var i=this.region.model.findNodeById.bind(this.region),s=this.region.model.nodes(),n=i(this,t),o=i(this,e);return n&&o?(this.source=s.indexOf(n),this.target=s.indexOf(o),{source:this.sourceNode=n,target:this.targetNode=o}):(u.error("Node(s) not on map for link:"+t+"~"+e),null)}function P(t,e){var i=g.extend({initialize:function(){this.super=this.constructor.__super__,this.super.initialize.apply(this,arguments),this.createLink()},region:e,createLink:r,linkEndPoints:l,type:function(){return this.get("type")},svgClassName:function(){return b.classNames("link",this.nodeType,this.get("type"),{enhanced:this.get("enhanced"),selected:this.get("selected"),suppressedmax:this.get("mastership")},this.linkLabel?this.linkLabel.linkLabelCSSClass():null)},expected:function(){return!0},online:function(){var t=this.get("source"),e=this.get("target"),i=a(t),s=a(e);return i&&s},onChange:function(){this.el&&(this.el.attr("class",this.svgClassName()),this.setScale())},enhance:function(){var t,e=[];(k.getPrefs("topo2_prefs").hosts||"UiEdgeLink"!==this.get("type"))&&x.getPortHighlighting()&&(this.set("enhanced",!0),t=this.locatePortLabel(),angular.extend(t,{id:"topo2-port-tgt",num:this.get("portB")}),e.push(t),this.get("portA")&&(t=this.locatePortLabel(1),angular.extend(t,{id:"topo2-port-src",num:this.get("portA")}),e.push(t)),d3.select(".topo2-portLabels").selectAll(".portLabel").data(e).enter().append("g").classed("portLabel",!0).attr("id",function(t){return t.id}).each(function(t){var e,i=d3.select(this),s=i.append("rect"),n=i.append("text").text(t.num),o=((e=i.select("text").node().getBBox()).x=-e.width/2,e.y=-e.height/2,e.x-=4,e.width+=8,e);s.attr(o).attr("rx",2).attr("ry",2),n.attr("dy","0.35em").attr("text-anchor","middle"),i.attr("transform",y.translate(t.x,t.y))}),this.setScale())},unenhance:function(){this.set("enhanced",!1),d3.select(".topo2-portLabels").selectAll(".portLabel").remove(),this.setScale()},amt:function(t,e){return(e-(t-1)/2)*(this.get("source").el.node().getBBox().width/4)},defaultPosition:function(){return{x1:this.get("source").x,y1:this.get("source").y,x2:this.get("target").x,y2:this.get("target").y}},calcMovement:function(t,e){var i=this.defaultPosition(),s=e?-t:t,n=i.x2-i.x1,o=i.y2-i.y1,r=Math.sqrt(n*n+o*o);return{x1:i.x1+s*o/r,y1:i.y1+s*-n/r,x2:i.x2+s*o/r,y2:i.y2+s*-n/r}},setPosition:function(){var t=this.get("multiline");if(t){var e=this.amt(t.deviceLinks,t.index);this.set("position",this.calcMovement(e))}else this.set("position",this.defaultPosition());this.get("enhanced")&&this.updatePortPosition(),this.el&&this.el.attr(this.get("position")),this.linkLabel&&this.linkLabel.setPosition()},updatePortPosition:function(){var t=this.locatePortLabel(1),e=this.locatePortLabel();d3.select("#topo2-port-src").attr("transform",y.translate(t.x,t.y)),d3.select("#topo2-port-tgt").attr("transform",y.translate(e.x,e.y))},getSelected:function(){return this.collection.filter(function(t){return t.get("selected")})},select:function(){return this.set({selected:!0}),this.getSelected()},deselect:function(){this.set({selected:!1,enhanced:!1})},showDetails:function(){this.getSelected()?m.displayLink(this):m.hide()},locatePortLabel:function(t){var e=32/(30*v.scale()),i=this.get("position").x1,s=this.get("position").y1,n=this.get("position").x2,o=this.get("position").y2,r=t?i:n,a=t?s:o;var l,c,h=(t?n:i)-r,d=(t?o:s)-a,u=32*e/(l=h,c=d,Math.sqrt(l*l+c*c));return{x:u*h+r,y:u*d+a}},onEnter:function(t){var e=d3.select(t),i=f.theme();(this.el=e).transition().duration(1e3).attr("stroke",o[i].baseColor),this.setVisibility(),this.setScale()},linkWidth:function(){var t=s;if(this.get("enhanced")&&(t=3.5),this.linkLabel){var e=d3.scale.ordinal().rangeRoundPoints([4,8]),i=this.linkLabel.get("label").split(" ");switch(S.selectedTrafficOverlay()){case"flowStatsBytes":e.domain(["KB","MB","GB"]),t=e(i[1]);break;case"portStatsBitSec":e.domain(["Kbps","Mbps","Gbps"]),t=e(i[1]);break;case"portStatsPktSec":t=(e=d3.scale.linear().domain([1,10,100,1e3,1e4]).range(d3.range(3.5,9)).clamp(!0))(parseInt(i[0]))}}return t},setScale:function(){if(this.el){var t=this.linkWidth(),e=n(t)/v.scale();this.el.attr("stroke-width",e+"px");var i=30/(30*v.scale());d3.select(".topo2-portLabels").selectAll(".portLabel").selectAll("*").style("transform","scale("+i+")"),this.setPosition(),this.linkLabel&&this.linkLabel.setScale()}},update:function(){this.get("enhanced")&&this.enhance()},setVisibility:function(){if("UiEdgeLink"===this.get("type")){var t=k.getPrefs("topo2_prefs").hosts;this.el.style("visibility",t?"visible":"hidden")}},displayMastership:function(){this.set({mastership:null!==L.mastership()})},remove:function(){var t=n(s)/v.scale();this.el.transition().duration(300).attr("stroke","#ff0000").style("stroke-width",4*t).transition().delay(1e3).style("opacity",0)}});return new(p.extend({model:i}))(t)}angular.module("ovTopo2").factory("Topo2LinkService",["$log","Topo2Collection","Topo2Model","ThemeService","SvgUtilService","Topo2ZoomService","Topo2ViewService","Topo2LinkPanelService","FnService","PrefsService","Topo2MastershipService","Topo2TrafficService",function(t,e,i,s,n,o,r,a,l,c,h,d){return u=t,f=s,y=n,v=o,x=r,p=e,g=i,m=a,b=l,k=c,L=h,S=d,{createLinkCollection:P}}])}();
angular.module("ovTopo2").factory("Topo2LinkLabel",["Topo2Label","Topo2ZoomService",function(t,n){return t.extend({className:"topo2-linklabel",maxHeight:30,minHeight:20,initialize:function(t,n,i){this.link=i.link,this.parent=n,this.super=this.constructor.__super__,this.super.initialize.apply(this,arguments)},onChange:function(){this.link.onChange(),this.constructor.__super__.onChange.apply(this,arguments)},linkLabelCSSClass:function(){return this.get("css")||""},setPosition:function(){var t=this.link;this.set({x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2})},setScale:function(){this.content.style("transform","scale("+n.adjustmentScale(20,30)+")")},beforeRender:function(){this.link.linkLabel=this},remove:function(){this.link.linkLabel=null,this.link.onChange(),this.constructor.__super__.remove.apply(this,arguments)}})}]);
!function(){"use strict";var i,n,r,a,d,l;function s(){d=i()}function y(e){var t,o,p;s(),o=(t=e).get("source"),p=t.get("target"),l={title:"Link",propOrder:["Type","-","A Type","A Id","A Label","A Port","-","B Type","B Id","B Label","B Port"],propLabels:{Type:"Type","A Type":"A Type","A Id":"A Id","A Label":"A Label","A Port":"A Port","B Type":"B Type","B Id":"B Id","B Label":"B Label","B Port":"B Port"},propValues:{"-":"",Type:t.get("type"),"A Type":o.get("nodeType"),"A Id":o.get("id"),"A Label":o.get("props").name,"A Port":t.get("portA")||"N/A","B Type":p.get("nodeType"),"B Id":p.get("id"),"B Label":p.get("props").name,"B Port":t.get("portB")||"N/A"}},function(){d.show(),d.emptyRegions();var e=d.appendToHeader("div").classed("icon",!0).append("svg"),t=d.appendToHeader("h2"),o=d.appendToBody("table").append("tbody");t.text(l.title),n.addGlyph(e,"bird",24,0,[1,1]),a.listProps(o,l)}()}function c(){d.show()}function T(){d.el.hide()}function g(){var e=d.el.toggle()?"Show":"Hide";r.flash(e+" Link Panel")}function A(){d.destroy()}angular.module("ovTopo2").factory("Topo2LinkPanelService",["Topo2DetailsPanelService","GlyphService","FlashService","ListService",function(e,t,o,p){return i=e,n=t,r=o,a=p,{displayLink:y,init:s,show:c,hide:T,toggle:g,destroy:A,isVisible:function(){return d.isVisible()}}}])}();
!function(){"use strict";var n,i,a,o,u;function r(){this.appendElement("#topo2-background","g"),o=n.getZoomer(),u=null}function c(o,e,t){if(u===o)return new Promise(function(o){o()});u=o;var n,r=a.loadMapInto;return this.node().selectAll("*").remove(),"*countries"===e&&(n=i[o]||i.uk,r=a.loadMapRegionInto),r(this.node(),e,o,{countryFilters:n,adjustScale:t||1,shading:""})}function p(){o.reset()}function l(o,e){this.node().style("stroke-width",2/o+"px")}function s(){return u}angular.module("ovTopo2").factory("Topo2MapService",["Topo2ZoomService","MapService","Topo2ViewController",function(o,e,t){return n=o,a=e,new(t.extend({id:"topo2-map",displayName:"Map",init:r,setUpMap:c,resetZoom:p,zoomCallback:l,getCurrentMap:s}))}])}();
!function(){"use strict";var n,t;function e(o){return o&&(t=o,n.debug("Set the projection")),t}angular.module("ovTopo2").factory("Topo2MapConfigService",["$log",function(o){return n=o,{projection:e}}])}();
!function(){var i;angular.module("ovTopo2").factory("Topo2MastershipService",[function(){function t(){(i=this).region=null,this.currentMastership=null}return t.prototype={displayMastership:function(){var t=this.region.regionNodes(),i=this.region.regionLinks();_.each(t.concat(i),function(t){t.displayMastership(this.currentMastership)})},mastership:function(){return this.currentMastership},setMastership:function(t){this.currentMastership=t,this.displayMastership()}},i||new t}])}();
!function(){"use strict";function i(t,i){this.attributes={},this.set(angular.extend({},t||{}),{silent:!0}),this.collection=i,this.initialize.apply(this,arguments)}i.prototype={initialize:function(){},onChange:function(t,i,e){},get:function(t){return this.attributes[t]},set:function(t,e,i){if(!t)return this;var n;"object"==typeof t?(n=t,i=e):(n={})[t]=e;var s=i=i||{},o=s.unset,r=s.silent,h=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=Object.create(Object.getPrototypeOf(this.attributes)),this.changed={});var a=this.attributes,c=this.changed,l=this._previousAttributes;if(angular.forEach(n,function(t,i){e=t,_.isEqual(a[i],e)||h.push(i),_.isEqual(l[i],e)?c[i]=e:delete c[i],o?delete a[i]:a[i]=e}),!r){h.length&&(this._pending=s);for(var g=0;g<h.length;g++)this.onChange(h[g],this,a[h[g]],s)}return this._changing=!1,this},toJSON:function(t){return angular.copy(this.attributes)},remove:function(){this.collection&&this.collection.remove(this)}},angular.module("ovTopo2").factory("Topo2Model",["FnService",function(t){return i.extend=t.extend,i}])}();
!function(){var a;angular.module("ovTopo2").factory("Topo2NoDevicesConnectedService",["$log","Topo2ViewController","GlyphService","SvgUtilService",function(e,t,n,o){var r=t.extend({id:"topo2-noDevsLayer",displayName:"No Devices Connected",init:function(){(a=this).appendElement("#topo2","g").attr({transform:o.translate(500,500)}),this.render(),this.show()},render:function(){var e,t;e=this.node().append("g"),n.addGlyph(e,"bird",100).attr("class","noDevsBird"),e.append("text").text("No devices are connected").attr({x:120,y:80}),(t=e.node().getBBox()).x-=t.width/2,t.y-=t.height/2,e.attr("transform",o.translate(t.x,t.y))}});return a||new r}])}();
!function(){"use strict";var d,u,f,p,v,m,g,b=36,x={light:{online:"#444444",offline:"#cccccc"},dark:{online:"#444444",offline:"#cccccc"}},y={light:"white",dark:"black"};angular.module("ovTopo2").factory("Topo2NodeModel",["Topo2Model","FnService","Topo2PrefsService","SvgUtilService","IconService","ThemeService","Topo2MapConfigService","Topo2ZoomService","Topo2NodePositionService","Topo2SelectService","Topo2MastershipService",function(e,t,i,n,s,o,r,l,a,c,h){return p=o,g=t,d=i,u=n,f=s,v=r,m=a,e.extend({initialize:function(){this.node=this.createNode(),this.mastershipService=h,this._events={mouseover:"mouseoverHandler",mouseout:"mouseoutHandler"}},select:function(){this.set("selected",!0)},index:function(){var e=this.collection.models,i=this.get("id");return _.find(e,function(e,t){return e.get("id")===i})||e.length},deselect:function(){this.set("selected",!1)},createNode:function(){return this.set("svgClass",this.svgClassName()),m.positionNode(this),this},setUpEvents:function(){var i=this,e=angular.extend({},this._events,this.events);angular.forEach(e,function(e,t){i.el.on(t,i[e].bind(i))})},mouseoverHandler:function(){this.set("hovered",!0)},mouseoutHandler:function(){this.set("hovered",!1)},onClick:function(){d3.event.defaultPrevented||(d3.event.preventDefault(),c.selectObject(this,this.multiSelectEnabled))},fix:function(e){this.set({fixed:e}),this.fixed=e},icon:function(){return"unknown"},labelIndex:function(){return d.get("dlbls")},label:function(){var e=this.get("props"),t=this.get("id"),i=["",(e&&e.name?e.name:t)||t,t],n=this.labelIndex();return i[n<i.length?n:0]},trimLabel:function(e){return e&&e.trim()||""},computeLabelWidth:function(e){return e.select("text").node().getBBox().width+10},devGlyphColor:function(){var e=this.get("online"),t=this.get("master"),i=e?"online":"offline";return e?u.cat7().getColor(t,0,p.theme()):x[p.theme()][i]},labelBox:function(e,t){var i=5;return 0===t&&(i=0),{x:-e/2-5,y:-e/2-5,width:e+t+10+i,height:e+10}},iconBox:function(e,t){return{x:-e/2,y:-e/2,width:e+t,height:e}},svgClassName:function(){return g.classNames("node",this.nodeType,this.get("type"),{online:this.get("online"),selected:this.get("selected"),hovered:this.get("hovered"),fixed:this.get("fixed"),suppressedmax:this.get("mastership")})},lngLatFromCoord:function(e){var t=v.projection();return t?t.invert(e):[0,0]},resetPosition:function(){m.setLongLat(this)},displayMastership:function(){this.set({mastership:null!==h.mastership()})},update:function(){this.updateLabel()},updateLabel:function(){var e,t=this.el,i=this.trimLabel(this.label());t.select("text").text(i),e=i?this.computeLabelWidth(t):0,t.select("rect").transition().attr(this.labelBox(b,e))},onEnter:function(e){this.el=d3.select(e),this.render(),this.setOfflineVisibility&&this.setOfflineVisibility()},setScale:function(){if(this.el){var e=1;36*l.scale()<20?e=20/(36*l.scale()):40<36*l.scale()&&(e=40/(36*l.scale())),this.el.select(".node-content").style("transform","scale("+e+")")}},addLabelElements:function(e){var t=this.el.select(".node-content").append("g").attr("class","label");return{rect:t.append("rect").attr("class","node-container"),text:t.append("text").text(e).attr("text-anchor","left").attr("y","0.3em").attr("x",28)}},addIconElements:function(e){var t,i=this.icon(this.get("type")),n=e.append("g").attr("class","icon");n.append("rect").attr("class","icon-rect").attr("y",-18).attr("x",-18).attr("width",b).attr("height",b).style("fill",this.devGlyphColor.bind(this)),(t=f.addDeviceIcon(n,i,b)).attr(this.iconBox(b,0)),t.style("fill",y[p.theme()])},render:function(){var e,t=this.el,i=this.trimLabel(this.label()),n=t.append("g").attr("class","node-content"),s=this.addLabelElements(i);e=i?this.computeLabelWidth(t):0,s.rect.attr(this.labelBox(b,e)),this.addIconElements(n),t.attr("transform",u.translate(-18,-18)),this.events&&this.setUpEvents(),this.setScale()},setOfflineVisibility:function(){}})}])}();
!function(){"use strict";var u,t,i,d;function l(r,o){return r.fix(!0),r.x=r.px=o[0],r.y=r.py=o[1],!0}function a(r,o){var e,n,t=r.get("metaUi"),i=t&&t.x,a=t&&t.y,c=[800,600];if(void 0!==i&&void 0!==a)return r.fix(!0),r.px=r.x=i,void(r.py=r.y=a);if("peer-region"===r.nodeType){if("geo"===d.getBackgroundType())return y(r),!0;var g=r.get("location");return g.latOrY||g.longOrX||(g={longOrX:-20,latOrY:10*r.index()}),void l(r,f(g))}if(y(r))return!0;o||(e="host"===r.class?(r.cp,{x:(n=p()).x+15+u.spread(15),y:n.y+15+u.spread(15)}):p(),"sub-region"===r.class&&(e=p(),r.x=r.px=e.x,r.y=r.py=e.y),angular.extend(r,e));function p(){return{x:u.randDim(c[0]),y:u.randDim(c[1])}}}function y(r){var o,e,n=r.get("location");return!(!n||0===n.latOrY&&0===n.longOrX)&&("geo"===n.locType?l(r,(o=n,(e=t.projection())?e([o.longOrX,o.latOrY]):[0,0])):"grid"===n.locType&&l(r,f(n)))}function f(r){var o=1e3/(i.getWidth()||100),e=(1e3-(i.getHeight()||100)*o)/2;return[o*r.longOrX,o*r.latOrY+e]}angular.module("ovTopo2").factory("Topo2NodePositionService",["RandomService","Topo2MapConfigService","Topo2SpriteLayerService","Topo2BackgroundService",function(r,o,e,n){return u=r,t=o,i=e,d=n,{positionNode:a,setLongLat:y}}])}();
!function(){"use strict";var y,g,a,l,u,c,f="Topo2OverlayService: ",p={},t=null,s=!0;function h(e,n){y.warn(f+e+"(): "+n)}function k(e,n){return"*"===n[0]?e+"-"+n.slice(1):n}function d(e){var n,o,r,i,t,a,l,u,c="register",s=g.isO(e),d=s?g.isO(e.keyBindings):null,v=s?s.overlayId:"";return v?p[v]?h(c,'already registered: "'+v+'"'):(p[v]=e,r=e,i=g.isO(r.glyphs),t=r.overlayId,a=r.glyphId||"unknown",l={},u=[],r._glyphId=k(t,a),r.mkGid=function(e){return k(t,e)},r.mkId=function(e){return t+"-"+e},i&&(angular.forEach(i,function(e,n){var o=t+"-"+n;l["_"+o]=e.vb,l[o]=e.d,u.push("*"+n)}),gs.registerGlyphs(l),y.debug("registered overlay glyphs:",t,u)),d&&(g.isA(d._keyOrder)?d._keyOrder.forEach(function(e){"-"===e||d[e]||h(c,'no "'+e+'" property defined on keyBindings')}):h(c,"no _keyOrder array defined on keyBindings")),void y.debug(f+"registered overlay: "+v,e)):(n=c,o="not a recognized overlay",void y.error(f+n+"(): "+o))}function v(n,o){var r={},i=1;return angular.forEach(p,function(e){n.push({gid:e._glyphId,tooltip:e.tooltip||"",cb:function(){m(e.overlayId,o)}}),r[e.overlayId]=i++}),r}function m(e,n){var o=t&&t.overlayId===e,r={};function i(e){var n=t.overlayId;y.debug("Overlay:",e,n),t[e](),r[e]=n}!s&&o||(t&&i("deactivate"),(t=p[e])&&i("activate"),n(e,t&&g.isO(t.keyBindings)))}function o(e){var n=t&&t.hooks;return n&&g.isF(n[e])}function O(){var e=o("escape");return!!e&&e()}function b(){var e=o("empty");e&&e()}function I(e){var n=o("single");n&&n(e)}function S(e){var n=o("multi");n&&n(e)}function T(e){var n=o("mouseover");n&&n(e)}function L(){var e=o("mouseout");e&&e()}function B(e){var n=p[e];n?(t=n,a.bindCommands(t.keyBindings)):y.error("setOverlay: no such overlay ID: "+e)}function w(e){y.info("+++ TOPO 2 +++ show highlights",e),u.empty();var r=d3.select(".topo2-linkLabels");_.each(e.links,function(e){var n=e.id.replace("/None/0","/None").replace("-","~"),o=l.getLink(n);o&&u.addLabel(c,e,r,{link:o})})}angular.module("ovTopo2").factory("Topo2OverlayService",["$log","FnService","Topo2KeyCommandService","Topo2RegionService","Topo2LabelCollection","Topo2LinkLabel",function(e,n,o,r,i,t){return y=e,g=n,a=o,l=r,u=i,c=t,{register:d,setOverlay:B,augmentRbset:v,tbSelection:m,mkGlyphId:k,hooks:{escape:O,emptySelect:b,singleSelect:I,multiSelect:S,mouseOver:T,mouseOut:L},showHighlights:w}}])}();
!function(){"use strict";var i,o={initialize:function(e,t){this.id=e,this.el=i.createPanel(e,t),this.setup(),t.show&&this.el.show()},setup:function(){this.el.empty(),this.header=this.el.append("div").classed("header",!0),this.body=this.el.append("div").classed("body",!0),this.footer=this.el.append("div").classed("footer",!0)},appendToHeader:function(e){return this.header.append(e)},appendToBody:function(e){return this.body.append(e)},appendToFooter:function(e){return this.footer.append(e)},emptyRegions:function(){this.header.selectAll("*").remove(),this.body.selectAll("*").remove(),this.footer.selectAll("*").remove()},destroy:function(){i.destroyPanel(this.id)},isVisible:function(){return this.el.isVisible()}};angular.module("ovTopo2").factory("Topo2PanelService",["Topo2UIView","PanelService",function(e,t){return i=t,e.extend(o)}])}();
!function(){"use strict";var c,r,a={virtual:"cord"};function l(e,i){return new(c.extend({model:r,region:i}))(e)}angular.module("ovTopo2").factory("Topo2PeerRegionService",["WebSocketService","Topo2Collection","Topo2NodeModel","Topo2SubRegionPanelService","Topo2RegionNavigationService",function(e,i,o,n,t){return c=i,r=o.extend({nodeType:"peer-region",events:{dblclick:"navigateToRegion",click:"onClick"},initialize:function(){this.super=this.constructor.__super__,this.super.initialize.apply(this,arguments)},onChange:function(){this.el&&this.el.attr("class",this.svgClassName())},showDetails:function(){n.displayPanel(this)},icon:function(){var e=this.get("type");return a[e]||e||"m_cloud"},navigateToRegion:function(){d3.event.defaultPrevented||(t.navigateToRegion(this.get("id")),n.hide())}}),{createCollection:l}}])}();
!function(){var e,r={insts:1,summary:1,detail:1,hosts:0,offdev:1,dlbls:0,hlbls:0,porthl:1,bg:0,spr:0,ovid:"traffic",toolbar:0};function f(){return e.getPrefs("topo2_prefs",r)}function o(r){return f()[r]}function t(r,o){var t=f();return t[r]=o,e.setPrefs("topo2_prefs",t),t[r]}angular.module("ovTopo2").factory("Topo2PrefsService",["PrefsService",function(r){return e=r,{get:o,set:t}}])}();
!function(){"use strict";var v,p;angular.module("ovTopo2").factory("Topo2RegionService",["$log","Topo2Model","Topo2SubRegionService","Topo2DeviceService","Topo2HostService","Topo2LinkService","Topo2ZoomService","Topo2DetailsPanelService","Topo2BreadcrumbService","Topo2ViewController","Topo2SpriteLayerService","Topo2MapService","Topo2MapConfigService","Topo2PeerRegionService","Topo2NoDevicesConnectedService",function(i,e,o,s,n,d,t,r,l,c,h,a,g,u,m){v=e;var f=c.extend({initialize:function(){(p=this).model=null,this.bgRendered=!1,this.regionData=null,this.peers=null;var e=v.extend({findNodeById:this.findNodeById,nodes:this.regionNodes.bind(this)});this.model=new e,this.createEmptyModel()},createEmptyModel:function(){this.model.set({subregions:o.createSubRegionCollection([],this)}),this.model.set({devices:s.createDeviceCollection([],this)}),this.model.set({hosts:n.createHostCollection([],this)}),this.model.set({peerRegions:u.createCollection([],this)}),this.model.set({links:d.createLinkCollection([],this)})},isLoadComplete:function(){return this.bgRendered&&this.regionData&&this.peers},loaded:function(e,t){this[e]=t,this.isLoadComplete()&&this.startRegion()},startRegion:function(){this.model.set({id:this.regionData.id,layerOrder:this.regionData.layerOrder}),this.sortMultiLinks(),this.assignPeerLocations(),this.model.set({subregions:o.createSubRegionCollection(this.regionData.subregions,this)}),this.model.set({devices:s.createDeviceCollection(this.regionData.devices,this)}),this.model.set({hosts:n.createHostCollection(this.regionData.hosts,this)}),this.model.set({peerRegions:u.createCollection(this.peers,this)}),this.model.set({links:d.createLinkCollection(this.regionData.links,this)}),this.isRootRegion()&&!this.model.get("subregions").models.length&&l.hide(),this.layout.createForceLayout(),this.displayNoDevs()},clear:function(){this.regionData=null,this.createEmptyModel()},removePort:function(e){return new RegExp("^[^/]*").exec(e)[0]},assignPeerLocations:function(){var e=this;_.each(this.regionData.peerLocations,function(t,i){_.each(e.peers,function(e){e.id===i&&(e.location=t)})})},sortMultiLinks:function(){var o=this,s={};_.each(this.regionData.links,function(e){var t=o.removePort(e.epA)+"~"+o.removePort(e.epB),i=s[t]||[];_.find(i,e)||i.push(e),s[t]=i}),_.forIn(s,function(i){1<i.length&&_.each(i,function(e,t){e.multiline={deviceLinks:i.length,index:t}})})},isRootRegion:function(){return"(root)"===this.model.get("id")},findNodeById:function(e,t){return"UiEdgeLink"!==e.get("type")&&(t=this.removePort(t)),this.model.get("devices").get(t)||this.model.get("hosts").get(t)||this.model.get("subregions").get(t)},regionNodes:function(){return this.model?[].concat(this.model.get("devices").models,this.model.get("hosts").models,this.model.get("subregions").models,this.model.get("peerRegions").models):[]},regionLinks:function(){return this.model.get("links").models},getLink:function(e){return this.model.get("links").get(e)},getDevice:function(e){return this.model.get("devices").get(e)},filterRegionNodes:function(e){var t=this.regionNodes();return _.filter(t,e)},deselectAllNodes:function(){var e=this.filterRegionNodes(function(e){return e.get("selected",!0)});return!!e.length&&(e.forEach(function(e){e.deselect()}),r().el.hide(),!0)},deselectLink:function(){var e=_.filter(this.regionLinks(),function(e){return e.get("selected",!0)});return!!e.length&&(e.forEach(function(e){e.deselect()}),r().el.hide(),!0)},toggleHosts:function(){var e=this.lookupPrefState("hosts");return this.updatePrefState("hosts",!e),_.each(this.model.get("hosts").models,function(e){e.setVisibility()}),_.each(this.model.get("links").models,function(e){e.setVisibility()}),!e},toggleOfflineDevices:function(){var e=this.lookupPrefState("offline_devices");return this.updatePrefState("offline_devices",!e),_.each(this.regionNodes(),function(e){e.setOfflineVisibility()}),!e},update:function(e){this.isLoadComplete()||this.layout.createForceLayout(),this[e.type]?this[e.type](e):i.error("Unhanded topology update",e),this.layout.update(),this.displayNoDevs()},displayNoDevs:function(){0<this.regionNodes().length?m.hide():m.show()},LINK_ADDED_OR_UPDATED:function(e){if(this.model.get("links")||this.model.set({links:d.createLinkCollection([],this)}),"added"===e.memo){var t=this.model.get("links").add(e.data);t.createLink(),i.debug("Added Link",t)}},LINK_REMOVED:function(e){var t=this.getLink(e.subject);t.remove(),this.model.get("links").remove(t)},DEVICE_ADDED_OR_UPDATED:function(e){var t;this.model.get("devices")||this.model.set({devices:s.createDeviceCollection([],this)}),"added"===e.memo?(t=this.model.get("devices").add(e.data),i.debug("Added device",t)):"updated"===e.memo&&(t=this.getDevice(e.subject)).set(e.data)},DEVICE_REMOVED:function(e){device.remove()},HOST_ADDED_OR_UPDATED:function(e){var t;this.model.get("hosts")||this.model.set({hosts:n.createHostCollection([],this)}),"added"===e.memo&&(t=this.model.get("hosts").add(e.data),i.debug("Added host",t))},REGION_ADDED_OR_UPDATED:function(e){var t;this.model.get("subregions")||this.model.set({subregions:o.createSubRegionCollection([],this)}),"added"===e.memo&&(t=this.model.get("subregions").add(e.data),i.debug("Added region",t))}});return p||new f}])}();
!function(){function i(){this.listeners={},s=this}var t,o,s;i.prototype={addListener:function(n,e){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(e)},removeListener:function(n){},notifyListeners:function(n,e){_.each(this.listeners[n],function(n){n(e)})},navigateToRegion:function(n){t.search("regionId",n),o.sendEvent("topo2navRegion",{rid:n}),this.notifyListeners("region:navigation-start",n)},navigateToRegionComplete:function(){this.notifyListeners("region:navigation-complete")},destory:function(){this.listeners={}}},angular.module("ovTopo2").factory("Topo2RegionNavigationService",["$location","WebSocketService",function(n,e){return t=n,o=e,s||new i}])}();
!function(){"use strict";var n,i,r,s,d,u;function t(e){var t,n,i,s,o,c,l=function(x){var p,g=function(e){return e/d.scale()}(30),m=null;var e=[];r.region.model.get("links")&&(e=r.region.regionLinks());e.length&&(p=2*g,e.forEach(function(e){var t,n,i,s,o,c,l,r,d,u,h,a,f,v,y=e.get("position");y&&(l=x,r=(c=y).x1,d=c.y1,u=c.x2,h=c.y2,a=l.x,f=l.y,v=((h-d)*(a-r)-(u-r)*(f-d))/(N(h-d)+N(u-r)),o=x,!((s=t={x:a-v*(h-d),y:f+v*(u-r)}).x<(i=y).x1&&s.x<i.x2||s.x>i.x1&&s.x>i.x2||s.y<i.y1&&s.y<i.y2||s.y>i.y1&&s.y>i.y2||!(O(s,o)<=g))&&(n=O(t,x))<p&&(p=n,m=e))}));return m}((t=this,n=d3.mouse(t),i=d.scale(),s=d.translate(),o=(n[0]-s[0])/i,c=(n[1]-s[1])/i,{x:o,y:c}));l?(u&&u!==l&&u.unenhance(),l.enhance()):u&&u.unenhance(),u=l}function N(e){return e*e}function O(e,t){return Math.sqrt(N(e.x-t.x)+N(e.y-t.y))}function o(){(r=this).selectedNodes=[],this.selectionOrder=[]}o.prototype={init:function(){d=n.getZoomer();var e=d3.select("#topo2");e.on("mousemove",t),e.on("click",function(){d3.event.defaultPrevented||(d3.event.shiftKey||this.clearSelection(),this.clickConsumed()||u&&this.selectObject(u,!0))}.bind(this))},updateDetails:function(){var e=this.selectedNodes.length;1===e?this.selectedNodes[0].showDetails():1<e?i.showMulti(this.selectedNodes):i.hide()},selectObject:function(e,t){var n=d3.event,i=_.indexOf(this.selectionOrder,e.get("id"));i<0?((!t||n.shiftKey)&&t||this.clearSelection(),this.selectedNodes.push(e),this.selectionOrder.push(e.get("id")),e.select()):this.removeNode(e,i),this.updateDetails()},removeNode:function(e,t){this.selectedNodes.splice(t,1),this.selectionOrder.splice(t,1),e.deselect()},clearSelection:function(){_.each(this.selectedNodes,function(e){e.deselect()}),this.selectedNodes=[],this.selectionOrder=[],this.updateDetails()},clickConsumed:function(e){var t=s;return s=Boolean(e),t}},angular.module("ovTopo2").factory("Topo2SelectService",["Topo2ZoomService","Topo2DeviceDetailsPanel",function(e,t){return n=e,i=t,r||new o}])}();
!function(){"use strict";function o(t,e){return"0 0 "+t+" "+e}angular.module("ovTopo2").factory("Topo2SpriteLayerService",["$log","FnService","Topo2ViewController","SpriteService","ThemeService",function(r,i,t,a,s){return new(t.extend({id:"topo2-sprites",displayName:"Sprite Layer",init:function(){this.svg=d3.select("#topo2"),this.createSpriteDefs(),this.container=this.appendElement("#topo2-background","g")},loadLayout:function(t){var e=this;return this.container.selectAll("*").remove(),this.layout=a.layout(t),this.layout?(this.width=this.layout.data.w,this.height=this.layout.data.h,this.renderLayout(),i.debugOn("sprite_grid")&&this.renderGrid()):r.warn("no sprite layout registered:",t),new Promise(function(t){t(e)})},createSpriteDefs:function(){this.defs=this.svg.append("defs").attr("id","sprites")},getWidth:function(){return this.width},getHeight:function(){return this.height},renderSprite:function(t){var e=t.sprite.data.id;if(d3.select("#"+e).empty()){var r=t.sprite.data,i=this.defs.append("symbol").attr("viewBox",o(r.w,r.h)).attr("id",e);_.each(t.sprite.rects,function(t){i.append("rect").attr("width",t.w).attr("height",t.h).attr("x",t.x).attr("y",t.y).style("fill",s.spriteColor(t.o.fill,"fill")).style("stroke",s.spriteColor(t.o.stroke,"stroke"))}),_.each(t.sprite.paths,function(t){i.append("path").attr("d",t.d).style("fill",s.spriteColor(t.o.fill,"fill")).style("stroke",s.spriteColor(t.o.stroke,"stroke"))})}return i},renderLayout:function(){var e=this,r=this.container.append("svg").attr("class",r).attr("viewBox",o(this.layout.data.w,this.layout.data.h));_.each(this.layout.sprites,function(t){e.renderSprite(t),r.append("g").append("use").attr("xlink:href","#rack").attr("width",20).attr("height",25).attr("x",t.x).attr("y",t.y)})},renderGrid:function(){var t,e,r=this.container.select("svg").append("g"),i=this.width/5,a=this.height/5;for(t=0,e=i;t<e;t++)r.append("rect").attr("width",.1).attr("height",this.height).attr("x",5*t).attr("y",0);for(t=0,e=a;t<e;t++)r.append("rect").attr("height",.1).attr("width",this.width).attr("y",5*t).attr("x",0)}}))}])}();
!function(){"use strict";var a,l,r={virtual:"cord"};function s(e,i){return new(a.extend({model:l,region:i}))(e)}angular.module("ovTopo2").factory("Topo2SubRegionService",["$location","WebSocketService","Topo2Collection","Topo2NodeModel","Topo2SubRegionPanelService","Topo2RegionNavigationService",function(e,i,o,n,t,c){return a=o,l=n.extend({nodeType:"sub-region",events:{dblclick:"navigateToRegion",click:"onClick"},initialize:function(){this.super=this.constructor.__super__,this.super.initialize.apply(this,arguments)},onChange:function(){this.el&&this.el.attr("class",this.svgClassName())},showDetails:function(){t.displayPanel(this)},icon:function(){var e=this.get("type");return r[e]||e||"m_cloud"},navigateToRegion:function(){d3.event.defaultPrevented||(c.navigateToRegion(this.get("id")),t.hide())}}),{createSubRegionCollection:s}}])}();
!function(){"use strict";var t,s,d,p,a,i;function r(){a=t()}function l(e){var n;r(),i={title:(n=e).get("name"),propLabels:{"-":"-",id:"Id",nodeType:"Type",nDevs:"# Devices",nHosts:"# Hosts"},propValues:{"-":"-",id:n.get("id"),nodeType:n.get("nodeType"),nDevs:n.get("nDevs"),nHosts:n.get("nHosts")},propOrder:["id","nodeType","-","nDevs","nHosts"]},function(){a.show(),a.emptyRegions();var e=a.appendToHeader("div").classed("icon",!0).append("svg"),n=a.appendToHeader("h2"),o=a.appendToBody("table").append("tbody");n.text(i.title),s.addGlyph(e,"bird",24,0,[1,1]),p.listProps(o,i)}()}function c(){a.show()}function u(){a.el.hide()}function v(){var e=a.el.toggle()?"Show":"Hide";d.flash(e+" subRegion Panel")}function g(){a.destroy()}angular.module("ovTopo2").factory("Topo2SubRegionPanelService",["Topo2DetailsPanelService","GlyphService","FlashService","ListService",function(e,n,o,i){return t=e,s=n,d=o,p=i,{displayPanel:l,init:r,show:c,hide:u,toggle:v,destroy:g,isVisible:function(){return a.isVisible()}}}])}();
!function(){"use strict";var o,s,r,c,d,l,i,a,t="topo2-p",u={show:!0,width:260},p={showSummary:function(e){i=e,function(){l.emptyRegions();var e=l.appendToHeader("div").classed("icon",!0).append("svg"),n=l.appendToHeader("h2"),t=l.appendToBody("table").append("tbody");n.text(i.title),s.addGlyph(e,"bird",24,0,[1,1]),d.listProps(t,i)}()}};function m(e){a=e,r.bindHandlers(p),r.sendEvent("requestSummary");var n=angular.extend({},u,{class:t});(l=new o("topo2-p-summary",n)).el.classed(t,!0)}function v(){var e,n=l.isVisible(),t=n?"Hide":"Show";function i(){l.el.show()}c.flash(t+" Summary Panel"),r.sendEvent(n?"requestSummary":"cancelSummary"),n?l.el.hide(a.getInstance().up):(e=l.el.bbox().height,a.isVisible()?a.getInstance().down(e,i):i())}function y(){r.unbindHandlers(p),r.sendEvent("cancelSummary"),l.destroy()}angular.module("ovTopo2").factory("Topo2SummaryPanelService",["Topo2PanelService","GlyphService","WebSocketService","FlashService","ListService",function(e,n,t,i,a){return o=e,s=n,r=t,c=i,d=a,{init:m,toggle:v,destroy:y,isVisible:function(){return l.isVisible()},getInstance:function(){return l}}}])}();
!function(){"use strict";var s,a={O:{id:"topo2-summary-tog",gid:"m_summary",isel:!0},I:{id:"topo2-instance-tog",gid:"m_uiAttached",isel:!0},D:{id:"details-tog",gid:"m_details",isel:!0},H:{id:"hosts-tog",gid:"m_endstation",isel:!1},M:{id:"offline-tog",gid:"m_switch",isel:!0},P:{id:"topo2-ports-tog",gid:"m_ports",isel:!0},B:{id:"topo2-bkgrnd-tog",gid:"m_map",isel:!0},L:{id:"topo2-cycleLabels-btn",gid:"m_cycleLabels"},R:{id:"topo2-resetZoom-btn",gid:"m_resetZoom"},E:{id:"topo2-eqMaster-btn",gid:"m_eqMaster"}};angular.module("ovTopo2").factory("Topo2ToolbarService",["FnService","ToolbarService","Topo2KeyCommandService","Topo2OverlayService",function(o,t,d,e){function i(){s=this}return i.prototype={className:"topo2-toolbar",init:function(){this.el=t.createToolbar(this.className),this.radioSet,this.ovIndex,this.initKeyData(),this.addFirstRow(),this.el.addRow(),this.addSecondRow(),this.addOverlays(),this.el.hide()},initKeyData:function(){_.each(a,function(t,i){var e=d.getActionEntry(i);e&&(t.cb=e[0],t.tt=e[1]+" ("+i+")")})},getKey:function(t){return a[t]},keyListener:function(t){var i=this.getKey(t);i&&i.tog&&i.tog.toggleNoCb()},addButton:function(t){var i=this.getKey(t);i.btn=this.el.addButton(i.id,i.gid,i.cb,i.tt)},addToggle:function(t,i){var e=this.getKey(t);i&&o.isMobile()||(e.tog=this.el.addToggle(e.id,e.gid,e.isel,e.cb,e.tt))},toggle:function(){this.el.toggle()},selectOverlay:function(t){var i=this.ovIndex[defaultOverlay]||0,e=null===t?0:this.ovIndex[t]||-1;0<=e&&e<this.radioSet.size()&&(i=e),this.radioSet.selectedIndex(i)},fnKey:function(t){t<this.radioSet.size()&&t!==this.radioSet.selectedIndex()&&this.radioSet.selectedIndex(t)},addFirstRow:function(){this.addToggle("I"),this.addToggle("O"),this.addToggle("D"),this.el.addSeparator(),this.addToggle("H"),this.addToggle("M"),this.addToggle("P",!0),this.addToggle("B")},addSecondRow:function(){this.addButton("L"),this.addButton("R"),this.el.addSeparator(),this.addButton("E")},switchOverlayActions:function(){},addOverlays:function(){var t=this;this.el.addSeparator();var i=[{gid:"m_unknown",tooltip:"ov_tt_none",cb:function(){e.tbSelection(null,t.switchOverlayActions)}}];e.augmentRbset(i,this.switchOverlayActions),this.radioSet=this.el.addRadioSet("topo-overlays",i)},destroy:function(){t.destroyToolbar(this.className)}},s||new i}])}();
!function(){"use strict";var f,o,r,t=["flowStatsBytes","portStatsBitSec","portStatsPktSec"],c=["Flow Stats (bytes)","Port Stats (bits / second)","Port Stats (packets / second)"],e=null,a=0,n=0;function i(){return f.debug("Topo2Traffic: Cancel Traffic"),!!e&&(e=null,r.sendEvent("topo2CancelTraffic"),o.flash("Traffic monitoring canceled"),!0)}function l(){f.debug("Topo2Traffic: Show All Traffic:",t[n]),e="allFlowPort",r.sendEvent("topo2RequestAllTraffic",{trafficType:t[n]}),o.flash(c[n]),n=((a=n)+1)%3}function s(){return t[a]}angular.module("ovTopo2").factory("Topo2TrafficService",["$log","FlashService","WebSocketService",function(t,c,e){return f=t,o=c,r=e,{initTraffic:function(t){},destroyTraffic:function(){},cancelTraffic:i,showAllTraffic:l,selectedTrafficOverlay:s}}])}();
!function(){"use strict";var r,f,e={overlayId:"traffic-2-overlay",glyphId:"m_allTraffic",tooltip:"Traffic Overlay",activate:function(){r.debug("Traffic-2 overlay ACTIVATED")},deactivate:function(){f.cancelTraffic(!0),r.debug("Traffic-2 overlay DEACTIVATED")},keyBindings:{0:{cb:function(){f.cancelTraffic(!0)},tt:"Cancel traffic monitoring",gid:"m_xMark"},A:{cb:function(){f.showAllTraffic()},tt:"Monitor all traffic",gid:"m_allTraffic"},_keyOrder:["0","A"]},hooks:{escape:function(){return f.cancelTraffic(!0)}}};angular.module("ovTopo2").run(["$log","Topo2OverlayService","Topo2TrafficService",function(a,c,i){r=a,f=i,c.register(e)}])}();
!function(){"use strict";var g,n,o={linkPortHighlighting:!0};function t(i){n=i}function r(){return n}function e(i){var n="keyev"===i?!o.linkPortHighlighting:Boolean(i),t=n?"Enable":"Disable";return o.linkPortHighlighting=n,g.flash(t+" port highlighting"),n}function l(){return o.linkPortHighlighting}angular.module("ovTopo2").factory("Topo2ViewService",["FlashService",function(i){return g=i,{newDim:t,getDimensions:r,togglePortHighlights:e,getPortHighlighting:l}}])}();
!function(){"use strict";var s,n;function o(i){this.initialize.apply(this,arguments)}o.prototype={id:null,displayName:"View",initialize:function(){this.name=this.displayName.toLowerCase().replace(/ /g,"_"),this.prefs={visible:this.name+"_visible"}},appendElement:function(i,e){var t=d3.select("#"+this.id);return t.empty()?d3.select(i).append(e).attr("id",this.id):t},node:function(){return d3.select("#"+this.id)},enabled:function(){return n.getPrefs("topo2_prefs")[this.prefs.visible]},isVisible:function(){return"visible"===this.node().style("visibility")},hide:function(){var i=this.node();this.isVisible()&&i.transition().duration(400).style("opacity",0).each("end",function(){i.style("visibility","hidden")})},show:function(){var i=this.node();this.isVisible()||i.style("visibility","visible").transition().duration(400).style("opacity",1)},toggle:function(){var i=!Boolean(this.isVisible()),e=i?"Show":"Hide";i?this.show():this.hide(),s.flash(e+" "+this.displayName),this.updatePrefState(this.prefs.visible,i)},lookupPrefState:function(i){return n.getPrefs("topo2_prefs")[i]||0},updatePrefState:function(i,e){var t=n.getPrefs("topo2_prefs");t[i]=e?1:0,n.setPrefs("topo2_prefs",t)}},angular.module("ovTopo2").factory("Topo2ViewController",["FnService","FlashService","PrefsService",function(i,e,t){return s=e,n=t,o.extend=i.extend,o}])}();
!function(){"use strict";var e,r,t,c=[];function u(n){var o=e.isF(n.zoomCallback)||function(){};return n.zoomCallback=function(){o(),angular.forEach(c,function(n){n(t)})},t=r.createZoomer(n)}function a(){return t}function i(n){c.push(n)}function f(n){var o=function(n){for(var o=0,e=c.length;o<e;o++)if(c[o]===n)return o;return-1}(n);-1!==o&&c.splice(o)}function m(n,o){var e=1,r=(n+o)/2;return r*l()<o?e=n/(r*l()):r*l()>o&&(e=n/(r*l())),e}function l(){return t.scale()}function v(n,o,e){t.panZoom(n,o,e)}angular.module("ovTopo2").factory("Topo2ZoomService",["FnService","ZoomService",function(n,o){return e=n,r=o,{getZoomer:a,createZoomer:u,addZoomEventListener:i,removeZoomEventListener:f,scale:l,adjustmentScale:m,panAndZoom:v}}])}();
!function(){"use strict";function t(e){e&&e.el&&(this.el=e.el,this.$el=angular.element(this.el)),this.initialize.apply(this,arguments)}angular.module("ovTopo2").factory("Topo2UIView",["FnService",function(e){return _.extend(t.prototype,{el:null,empty:function(){this.$el&&this.$el.empty()},destroy:function(){return this.empty(),this}}),t.extend=e.extend,t}])}();
!function(){"use strict";angular.module("ovTunnel",[]).controller("OvTunnelCtrl",["$log","$scope","$sce","FnService","TableBuilderService",function(e,t,n,l,a){a.buildTable({scope:t,tag:"tunnel"}),t.$watch("tableData",function(){l.isEmptyObject(t.tableData)||t.tableData.forEach(function(e){})}),e.log("OvTunnelCtrl has been created")}])}();
//# sourceMappingURL=source-map/onos.js.map
